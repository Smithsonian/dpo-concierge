/*! For license information please see voyager-story.min.js.LICENSE */
!function(e){var t={};function s(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=e,s.c=t,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)s.d(n,i,function(t){return e[t]}.bind(null,i));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s=117)}([function(e,t,s){(function(e){e.exports=function(){"use strict";var t,n;function i(){return t.apply(null,arguments)}function r(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function a(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function o(e){return void 0===e}function l(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function d(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function c(e,t){var s,n=[];for(s=0;s<e.length;++s)n.push(t(e[s],s));return n}function u(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function h(e,t){for(var s in t)u(t,s)&&(e[s]=t[s]);return u(t,"toString")&&(e.toString=t.toString),u(t,"valueOf")&&(e.valueOf=t.valueOf),e}function p(e,t,s,n){return At(e,t,s,n,!0).utc()}function m(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function f(e){if(null==e._isValid){var t=m(e),s=n.call(t.parsedDateParts,(function(e){return null!=e})),i=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&s);if(e._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return i;e._isValid=i}return e._isValid}function v(e){var t=p(NaN);return null!=e?h(m(t),e):m(t).userInvalidated=!0,t}n=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),s=t.length>>>0,n=0;n<s;n++)if(n in t&&e.call(this,t[n],n,t))return!0;return!1};var _=i.momentProperties=[];function y(e,t){var s,n,i;if(o(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),o(t._i)||(e._i=t._i),o(t._f)||(e._f=t._f),o(t._l)||(e._l=t._l),o(t._strict)||(e._strict=t._strict),o(t._tzm)||(e._tzm=t._tzm),o(t._isUTC)||(e._isUTC=t._isUTC),o(t._offset)||(e._offset=t._offset),o(t._pf)||(e._pf=m(t)),o(t._locale)||(e._locale=t._locale),_.length>0)for(s=0;s<_.length;s++)o(i=t[n=_[s]])||(e[n]=i);return e}var g=!1;function b(e){y(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===g&&(g=!0,i.updateOffset(this),g=!1)}function M(e){return e instanceof b||null!=e&&null!=e._isAMomentObject}function w(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function L(e){var t=+e,s=0;return 0!==t&&isFinite(t)&&(s=w(t)),s}function x(e,t,s){var n,i=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),a=0;for(n=0;n<i;n++)(s&&e[n]!==t[n]||!s&&L(e[n])!==L(t[n]))&&a++;return a+r}function T(e){!1===i.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function E(e,t){var s=!0;return h((function(){if(null!=i.deprecationHandler&&i.deprecationHandler(null,e),s){for(var n,r=[],a=0;a<arguments.length;a++){if(n="","object"==typeof arguments[a]){for(var o in n+="\n["+a+"] ",arguments[0])n+=o+": "+arguments[0][o]+", ";n=n.slice(0,-2)}else n=arguments[a];r.push(n)}T(e+"\nArguments: "+Array.prototype.slice.call(r).join("")+"\n"+(new Error).stack),s=!1}return t.apply(this,arguments)}),t)}var k,D={};function S(e,t){null!=i.deprecationHandler&&i.deprecationHandler(e,t),D[e]||(T(t),D[e]=!0)}function P(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function C(e,t){var s,n=h({},e);for(s in t)u(t,s)&&(a(e[s])&&a(t[s])?(n[s]={},h(n[s],e[s]),h(n[s],t[s])):null!=t[s]?n[s]=t[s]:delete n[s]);for(s in e)u(e,s)&&!u(t,s)&&a(e[s])&&(n[s]=h({},n[s]));return n}function Y(e){null!=e&&this.set(e)}i.suppressDeprecationWarnings=!1,i.deprecationHandler=null,k=Object.keys?Object.keys:function(e){var t,s=[];for(t in e)u(e,t)&&s.push(t);return s};var A={};function j(e,t){var s=e.toLowerCase();A[s]=A[s+"s"]=A[t]=e}function O(e){return"string"==typeof e?A[e]||A[e.toLowerCase()]:void 0}function R(e){var t,s,n={};for(s in e)u(e,s)&&(t=O(s))&&(n[t]=e[s]);return n}var N={};function H(e,t){N[e]=t}function I(e,t,s){var n=""+Math.abs(e),i=t-n.length;return(e>=0?s?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+n}var F=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,V=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,z={},U={};function B(e,t,s,n){var i=n;"string"==typeof n&&(i=function(){return this[n]()}),e&&(U[e]=i),t&&(U[t[0]]=function(){return I(i.apply(this,arguments),t[1],t[2])}),s&&(U[s]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function $(e,t){return e.isValid()?(t=G(t,e.localeData()),z[t]=z[t]||function(e){var t,s,n,i=e.match(F);for(t=0,s=i.length;t<s;t++)U[i[t]]?i[t]=U[i[t]]:i[t]=(n=i[t]).match(/\[[\s\S]/)?n.replace(/^\[|\]$/g,""):n.replace(/\\/g,"");return function(t){var n,r="";for(n=0;n<s;n++)r+=P(i[n])?i[n].call(t,e):i[n];return r}}(t),z[t](e)):e.localeData().invalidDate()}function G(e,t){var s=5;function n(e){return t.longDateFormat(e)||e}for(V.lastIndex=0;s>=0&&V.test(e);)e=e.replace(V,n),V.lastIndex=0,s-=1;return e}var W=/\d/,q=/\d\d/,J=/\d{3}/,K=/\d{4}/,Q=/[+-]?\d{6}/,X=/\d\d?/,Z=/\d\d\d\d?/,ee=/\d\d\d\d\d\d?/,te=/\d{1,3}/,se=/\d{1,4}/,ne=/[+-]?\d{1,6}/,ie=/\d+/,re=/[+-]?\d+/,ae=/Z|[+-]\d\d:?\d\d/gi,oe=/Z|[+-]\d\d(?::?\d\d)?/gi,le=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,de={};function ce(e,t,s){de[e]=P(t)?t:function(e,n){return e&&s?s:t}}function ue(e,t){return u(de,e)?de[e](t._strict,t._locale):new RegExp(he(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,s,n,i){return t||s||n||i}))))}function he(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var pe={};function me(e,t){var s,n=t;for("string"==typeof e&&(e=[e]),l(t)&&(n=function(e,s){s[t]=L(e)}),s=0;s<e.length;s++)pe[e[s]]=n}function fe(e,t){me(e,(function(e,s,n,i){n._w=n._w||{},t(e,n._w,n,i)}))}function ve(e,t,s){null!=t&&u(pe,e)&&pe[e](t,s._a,s,e)}var _e=0,ye=1,ge=2,be=3,Me=4,we=5,Le=6,xe=7,Te=8;function Ee(e){return ke(e)?366:365}function ke(e){return e%4==0&&e%100!=0||e%400==0}B("Y",0,0,(function(){var e=this.year();return e<=9999?""+e:"+"+e})),B(0,["YY",2],0,(function(){return this.year()%100})),B(0,["YYYY",4],0,"year"),B(0,["YYYYY",5],0,"year"),B(0,["YYYYYY",6,!0],0,"year"),j("year","y"),H("year",1),ce("Y",re),ce("YY",X,q),ce("YYYY",se,K),ce("YYYYY",ne,Q),ce("YYYYYY",ne,Q),me(["YYYYY","YYYYYY"],_e),me("YYYY",(function(e,t){t[_e]=2===e.length?i.parseTwoDigitYear(e):L(e)})),me("YY",(function(e,t){t[_e]=i.parseTwoDigitYear(e)})),me("Y",(function(e,t){t[_e]=parseInt(e,10)})),i.parseTwoDigitYear=function(e){return L(e)+(L(e)>68?1900:2e3)};var De,Se=Pe("FullYear",!0);function Pe(e,t){return function(s){return null!=s?(Ye(this,e,s),i.updateOffset(this,t),this):Ce(this,e)}}function Ce(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function Ye(e,t,s){e.isValid()&&!isNaN(s)&&("FullYear"===t&&ke(e.year())&&1===e.month()&&29===e.date()?e._d["set"+(e._isUTC?"UTC":"")+t](s,e.month(),Ae(s,e.month())):e._d["set"+(e._isUTC?"UTC":"")+t](s))}function Ae(e,t){if(isNaN(e)||isNaN(t))return NaN;var s,n=(t%(s=12)+s)%s;return e+=(t-n)/12,1===n?ke(e)?29:28:31-n%7%2}De=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},B("M",["MM",2],"Mo",(function(){return this.month()+1})),B("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),B("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),j("month","M"),H("month",8),ce("M",X),ce("MM",X,q),ce("MMM",(function(e,t){return t.monthsShortRegex(e)})),ce("MMMM",(function(e,t){return t.monthsRegex(e)})),me(["M","MM"],(function(e,t){t[ye]=L(e)-1})),me(["MMM","MMMM"],(function(e,t,s,n){var i=s._locale.monthsParse(e,n,s._strict);null!=i?t[ye]=i:m(s).invalidMonth=e}));var je=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Oe="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Re="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function Ne(e,t,s){var n,i,r,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)r=p([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(r,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(r,"").toLocaleLowerCase();return s?"MMM"===t?-1!==(i=De.call(this._shortMonthsParse,a))?i:null:-1!==(i=De.call(this._longMonthsParse,a))?i:null:"MMM"===t?-1!==(i=De.call(this._shortMonthsParse,a))?i:-1!==(i=De.call(this._longMonthsParse,a))?i:null:-1!==(i=De.call(this._longMonthsParse,a))?i:-1!==(i=De.call(this._shortMonthsParse,a))?i:null}function He(e,t){var s;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=L(t);else if(!l(t=e.localeData().monthsParse(t)))return e;return s=Math.min(e.date(),Ae(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,s),e}function Ie(e){return null!=e?(He(this,e),i.updateOffset(this,!0),this):Ce(this,"Month")}var Fe=le,Ve=le;function ze(){function e(e,t){return t.length-e.length}var t,s,n=[],i=[],r=[];for(t=0;t<12;t++)s=p([2e3,t]),n.push(this.monthsShort(s,"")),i.push(this.months(s,"")),r.push(this.months(s,"")),r.push(this.monthsShort(s,""));for(n.sort(e),i.sort(e),r.sort(e),t=0;t<12;t++)n[t]=he(n[t]),i[t]=he(i[t]);for(t=0;t<24;t++)r[t]=he(r[t]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function Ue(e,t,s,n,i,r,a){var o;return e<100&&e>=0?(o=new Date(e+400,t,s,n,i,r,a),isFinite(o.getFullYear())&&o.setFullYear(e)):o=new Date(e,t,s,n,i,r,a),o}function Be(e){var t;if(e<100&&e>=0){var s=Array.prototype.slice.call(arguments);s[0]=e+400,t=new Date(Date.UTC.apply(null,s)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)}else t=new Date(Date.UTC.apply(null,arguments));return t}function $e(e,t,s){var n=7+t-s;return-(7+Be(e,0,n).getUTCDay()-t)%7+n-1}function Ge(e,t,s,n,i){var r,a,o=1+7*(t-1)+(7+s-n)%7+$e(e,n,i);return o<=0?a=Ee(r=e-1)+o:o>Ee(e)?(r=e+1,a=o-Ee(e)):(r=e,a=o),{year:r,dayOfYear:a}}function We(e,t,s){var n,i,r=$e(e.year(),t,s),a=Math.floor((e.dayOfYear()-r-1)/7)+1;return a<1?n=a+qe(i=e.year()-1,t,s):a>qe(e.year(),t,s)?(n=a-qe(e.year(),t,s),i=e.year()+1):(i=e.year(),n=a),{week:n,year:i}}function qe(e,t,s){var n=$e(e,t,s),i=$e(e+1,t,s);return(Ee(e)-n+i)/7}function Je(e,t){return e.slice(t,7).concat(e.slice(0,t))}B("w",["ww",2],"wo","week"),B("W",["WW",2],"Wo","isoWeek"),j("week","w"),j("isoWeek","W"),H("week",5),H("isoWeek",5),ce("w",X),ce("ww",X,q),ce("W",X),ce("WW",X,q),fe(["w","ww","W","WW"],(function(e,t,s,n){t[n.substr(0,1)]=L(e)})),B("d",0,"do","day"),B("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),B("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),B("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),B("e",0,0,"weekday"),B("E",0,0,"isoWeekday"),j("day","d"),j("weekday","e"),j("isoWeekday","E"),H("day",11),H("weekday",11),H("isoWeekday",11),ce("d",X),ce("e",X),ce("E",X),ce("dd",(function(e,t){return t.weekdaysMinRegex(e)})),ce("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),ce("dddd",(function(e,t){return t.weekdaysRegex(e)})),fe(["dd","ddd","dddd"],(function(e,t,s,n){var i=s._locale.weekdaysParse(e,n,s._strict);null!=i?t.d=i:m(s).invalidWeekday=e})),fe(["d","e","E"],(function(e,t,s,n){t[n]=L(e)}));var Ke="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Qe="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Xe="Su_Mo_Tu_We_Th_Fr_Sa".split("_");function Ze(e,t,s){var n,i,r,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)r=p([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(r,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(r,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(r,"").toLocaleLowerCase();return s?"dddd"===t?-1!==(i=De.call(this._weekdaysParse,a))?i:null:"ddd"===t?-1!==(i=De.call(this._shortWeekdaysParse,a))?i:null:-1!==(i=De.call(this._minWeekdaysParse,a))?i:null:"dddd"===t?-1!==(i=De.call(this._weekdaysParse,a))?i:-1!==(i=De.call(this._shortWeekdaysParse,a))?i:-1!==(i=De.call(this._minWeekdaysParse,a))?i:null:"ddd"===t?-1!==(i=De.call(this._shortWeekdaysParse,a))?i:-1!==(i=De.call(this._weekdaysParse,a))?i:-1!==(i=De.call(this._minWeekdaysParse,a))?i:null:-1!==(i=De.call(this._minWeekdaysParse,a))?i:-1!==(i=De.call(this._weekdaysParse,a))?i:-1!==(i=De.call(this._shortWeekdaysParse,a))?i:null}var et=le,tt=le,st=le;function nt(){function e(e,t){return t.length-e.length}var t,s,n,i,r,a=[],o=[],l=[],d=[];for(t=0;t<7;t++)s=p([2e3,1]).day(t),n=this.weekdaysMin(s,""),i=this.weekdaysShort(s,""),r=this.weekdays(s,""),a.push(n),o.push(i),l.push(r),d.push(n),d.push(i),d.push(r);for(a.sort(e),o.sort(e),l.sort(e),d.sort(e),t=0;t<7;t++)o[t]=he(o[t]),l[t]=he(l[t]),d[t]=he(d[t]);this._weekdaysRegex=new RegExp("^("+d.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function it(){return this.hours()%12||12}function rt(e,t){B(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function at(e,t){return t._meridiemParse}B("H",["HH",2],0,"hour"),B("h",["hh",2],0,it),B("k",["kk",2],0,(function(){return this.hours()||24})),B("hmm",0,0,(function(){return""+it.apply(this)+I(this.minutes(),2)})),B("hmmss",0,0,(function(){return""+it.apply(this)+I(this.minutes(),2)+I(this.seconds(),2)})),B("Hmm",0,0,(function(){return""+this.hours()+I(this.minutes(),2)})),B("Hmmss",0,0,(function(){return""+this.hours()+I(this.minutes(),2)+I(this.seconds(),2)})),rt("a",!0),rt("A",!1),j("hour","h"),H("hour",13),ce("a",at),ce("A",at),ce("H",X),ce("h",X),ce("k",X),ce("HH",X,q),ce("hh",X,q),ce("kk",X,q),ce("hmm",Z),ce("hmmss",ee),ce("Hmm",Z),ce("Hmmss",ee),me(["H","HH"],be),me(["k","kk"],(function(e,t,s){var n=L(e);t[be]=24===n?0:n})),me(["a","A"],(function(e,t,s){s._isPm=s._locale.isPM(e),s._meridiem=e})),me(["h","hh"],(function(e,t,s){t[be]=L(e),m(s).bigHour=!0})),me("hmm",(function(e,t,s){var n=e.length-2;t[be]=L(e.substr(0,n)),t[Me]=L(e.substr(n)),m(s).bigHour=!0})),me("hmmss",(function(e,t,s){var n=e.length-4,i=e.length-2;t[be]=L(e.substr(0,n)),t[Me]=L(e.substr(n,2)),t[we]=L(e.substr(i)),m(s).bigHour=!0})),me("Hmm",(function(e,t,s){var n=e.length-2;t[be]=L(e.substr(0,n)),t[Me]=L(e.substr(n))})),me("Hmmss",(function(e,t,s){var n=e.length-4,i=e.length-2;t[be]=L(e.substr(0,n)),t[Me]=L(e.substr(n,2)),t[we]=L(e.substr(i))}));var ot,lt=Pe("Hours",!0),dt={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Oe,monthsShort:Re,week:{dow:0,doy:6},weekdays:Ke,weekdaysMin:Xe,weekdaysShort:Qe,meridiemParse:/[ap]\.?m?\.?/i},ct={},ut={};function ht(e){return e?e.toLowerCase().replace("_","-"):e}function pt(t){var n=null;if(!ct[t]&&void 0!==e&&e&&e.exports)try{n=ot._abbr,s(506)("./"+t),mt(n)}catch(e){}return ct[t]}function mt(e,t){var s;return e&&((s=o(t)?vt(e):ft(e,t))?ot=s:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),ot._abbr}function ft(e,t){if(null!==t){var s,n=dt;if(t.abbr=e,null!=ct[e])S("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=ct[e]._config;else if(null!=t.parentLocale)if(null!=ct[t.parentLocale])n=ct[t.parentLocale]._config;else{if(null==(s=pt(t.parentLocale)))return ut[t.parentLocale]||(ut[t.parentLocale]=[]),ut[t.parentLocale].push({name:e,config:t}),null;n=s._config}return ct[e]=new Y(C(n,t)),ut[e]&&ut[e].forEach((function(e){ft(e.name,e.config)})),mt(e),ct[e]}return delete ct[e],null}function vt(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return ot;if(!r(e)){if(t=pt(e))return t;e=[e]}return function(e){for(var t,s,n,i,r=0;r<e.length;){for(t=(i=ht(e[r]).split("-")).length,s=(s=ht(e[r+1]))?s.split("-"):null;t>0;){if(n=pt(i.slice(0,t).join("-")))return n;if(s&&s.length>=t&&x(i,s,!0)>=t-1)break;t--}r++}return ot}(e)}function _t(e){var t,s=e._a;return s&&-2===m(e).overflow&&(t=s[ye]<0||s[ye]>11?ye:s[ge]<1||s[ge]>Ae(s[_e],s[ye])?ge:s[be]<0||s[be]>24||24===s[be]&&(0!==s[Me]||0!==s[we]||0!==s[Le])?be:s[Me]<0||s[Me]>59?Me:s[we]<0||s[we]>59?we:s[Le]<0||s[Le]>999?Le:-1,m(e)._overflowDayOfYear&&(t<_e||t>ge)&&(t=ge),m(e)._overflowWeeks&&-1===t&&(t=xe),m(e)._overflowWeekday&&-1===t&&(t=Te),m(e).overflow=t),e}function yt(e,t,s){return null!=e?e:null!=t?t:s}function gt(e){var t,s,n,r,a,o=[];if(!e._d){for(n=function(e){var t=new Date(i.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}(e),e._w&&null==e._a[ge]&&null==e._a[ye]&&function(e){var t,s,n,i,r,a,o,l;if(null!=(t=e._w).GG||null!=t.W||null!=t.E)r=1,a=4,s=yt(t.GG,e._a[_e],We(jt(),1,4).year),n=yt(t.W,1),((i=yt(t.E,1))<1||i>7)&&(l=!0);else{r=e._locale._week.dow,a=e._locale._week.doy;var d=We(jt(),r,a);s=yt(t.gg,e._a[_e],d.year),n=yt(t.w,d.week),null!=t.d?((i=t.d)<0||i>6)&&(l=!0):null!=t.e?(i=t.e+r,(t.e<0||t.e>6)&&(l=!0)):i=r}n<1||n>qe(s,r,a)?m(e)._overflowWeeks=!0:null!=l?m(e)._overflowWeekday=!0:(o=Ge(s,n,i,r,a),e._a[_e]=o.year,e._dayOfYear=o.dayOfYear)}(e),null!=e._dayOfYear&&(a=yt(e._a[_e],n[_e]),(e._dayOfYear>Ee(a)||0===e._dayOfYear)&&(m(e)._overflowDayOfYear=!0),s=Be(a,0,e._dayOfYear),e._a[ye]=s.getUTCMonth(),e._a[ge]=s.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=o[t]=n[t];for(;t<7;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[be]&&0===e._a[Me]&&0===e._a[we]&&0===e._a[Le]&&(e._nextDay=!0,e._a[be]=0),e._d=(e._useUTC?Be:Ue).apply(null,o),r=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[be]=24),e._w&&void 0!==e._w.d&&e._w.d!==r&&(m(e).weekdayMismatch=!0)}}var bt=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Mt=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,wt=/Z|[+-]\d\d(?::?\d\d)?/,Lt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],xt=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Tt=/^\/?Date\((\-?\d+)/i;function Et(e){var t,s,n,i,r,a,o=e._i,l=bt.exec(o)||Mt.exec(o);if(l){for(m(e).iso=!0,t=0,s=Lt.length;t<s;t++)if(Lt[t][1].exec(l[1])){i=Lt[t][0],n=!1!==Lt[t][2];break}if(null==i)return void(e._isValid=!1);if(l[3]){for(t=0,s=xt.length;t<s;t++)if(xt[t][1].exec(l[3])){r=(l[2]||" ")+xt[t][0];break}if(null==r)return void(e._isValid=!1)}if(!n&&null!=r)return void(e._isValid=!1);if(l[4]){if(!wt.exec(l[4]))return void(e._isValid=!1);a="Z"}e._f=i+(r||"")+(a||""),Ct(e)}else e._isValid=!1}var kt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function Dt(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}var St={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Pt(e){var t,s,n,i,r,a,o,l=kt.exec(e._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(l){var d=(t=l[4],s=l[3],n=l[2],i=l[5],r=l[6],a=l[7],o=[Dt(t),Re.indexOf(s),parseInt(n,10),parseInt(i,10),parseInt(r,10)],a&&o.push(parseInt(a,10)),o);if(!function(e,t,s){return!e||Qe.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(m(s).weekdayMismatch=!0,s._isValid=!1,!1)}(l[1],d,e))return;e._a=d,e._tzm=function(e,t,s){if(e)return St[e];if(t)return 0;var n=parseInt(s,10),i=n%100;return(n-i)/100*60+i}(l[8],l[9],l[10]),e._d=Be.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),m(e).rfc2822=!0}else e._isValid=!1}function Ct(e){if(e._f!==i.ISO_8601)if(e._f!==i.RFC_2822){e._a=[],m(e).empty=!0;var t,s,n,r,a,o=""+e._i,l=o.length,d=0;for(n=G(e._f,e._locale).match(F)||[],t=0;t<n.length;t++)r=n[t],(s=(o.match(ue(r,e))||[])[0])&&((a=o.substr(0,o.indexOf(s))).length>0&&m(e).unusedInput.push(a),o=o.slice(o.indexOf(s)+s.length),d+=s.length),U[r]?(s?m(e).empty=!1:m(e).unusedTokens.push(r),ve(r,s,e)):e._strict&&!s&&m(e).unusedTokens.push(r);m(e).charsLeftOver=l-d,o.length>0&&m(e).unusedInput.push(o),e._a[be]<=12&&!0===m(e).bigHour&&e._a[be]>0&&(m(e).bigHour=void 0),m(e).parsedDateParts=e._a.slice(0),m(e).meridiem=e._meridiem,e._a[be]=function(e,t,s){var n;return null==s?t:null!=e.meridiemHour?e.meridiemHour(t,s):null!=e.isPM?((n=e.isPM(s))&&t<12&&(t+=12),n||12!==t||(t=0),t):t}(e._locale,e._a[be],e._meridiem),gt(e),_t(e)}else Pt(e);else Et(e)}function Yt(e){var t=e._i,s=e._f;return e._locale=e._locale||vt(e._l),null===t||void 0===s&&""===t?v({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),M(t)?new b(_t(t)):(d(t)?e._d=t:r(s)?function(e){var t,s,n,i,r;if(0===e._f.length)return m(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<e._f.length;i++)r=0,t=y({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],Ct(t),f(t)&&(r+=m(t).charsLeftOver,r+=10*m(t).unusedTokens.length,m(t).score=r,(null==n||r<n)&&(n=r,s=t));h(e,s||t)}(e):s?Ct(e):function(e){var t=e._i;o(t)?e._d=new Date(i.now()):d(t)?e._d=new Date(t.valueOf()):"string"==typeof t?function(e){var t=Tt.exec(e._i);null===t?(Et(e),!1===e._isValid&&(delete e._isValid,Pt(e),!1===e._isValid&&(delete e._isValid,i.createFromInputFallback(e)))):e._d=new Date(+t[1])}(e):r(t)?(e._a=c(t.slice(0),(function(e){return parseInt(e,10)})),gt(e)):a(t)?function(e){if(!e._d){var t=R(e._i);e._a=c([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),gt(e)}}(e):l(t)?e._d=new Date(t):i.createFromInputFallback(e)}(e),f(e)||(e._d=null),e))}function At(e,t,s,n,i){var o,l={};return!0!==s&&!1!==s||(n=s,s=void 0),(a(e)&&function(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}(e)||r(e)&&0===e.length)&&(e=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=i,l._l=s,l._i=e,l._f=t,l._strict=n,(o=new b(_t(Yt(l))))._nextDay&&(o.add(1,"d"),o._nextDay=void 0),o}function jt(e,t,s,n){return At(e,t,s,n,!1)}i.createFromInputFallback=E("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),i.ISO_8601=function(){},i.RFC_2822=function(){};var Ot=E("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=jt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:v()})),Rt=E("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=jt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:v()}));function Nt(e,t){var s,n;if(1===t.length&&r(t[0])&&(t=t[0]),!t.length)return jt();for(s=t[0],n=1;n<t.length;++n)t[n].isValid()&&!t[n][e](s)||(s=t[n]);return s}var Ht=["year","quarter","month","week","day","hour","minute","second","millisecond"];function It(e){var t=R(e),s=t.year||0,n=t.quarter||0,i=t.month||0,r=t.week||t.isoWeek||0,a=t.day||0,o=t.hour||0,l=t.minute||0,d=t.second||0,c=t.millisecond||0;this._isValid=function(e){for(var t in e)if(-1===De.call(Ht,t)||null!=e[t]&&isNaN(e[t]))return!1;for(var s=!1,n=0;n<Ht.length;++n)if(e[Ht[n]]){if(s)return!1;parseFloat(e[Ht[n]])!==L(e[Ht[n]])&&(s=!0)}return!0}(t),this._milliseconds=+c+1e3*d+6e4*l+1e3*o*60*60,this._days=+a+7*r,this._months=+i+3*n+12*s,this._data={},this._locale=vt(),this._bubble()}function Ft(e){return e instanceof It}function Vt(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function zt(e,t){B(e,0,0,(function(){var e=this.utcOffset(),s="+";return e<0&&(e=-e,s="-"),s+I(~~(e/60),2)+t+I(~~e%60,2)}))}zt("Z",":"),zt("ZZ",""),ce("Z",oe),ce("ZZ",oe),me(["Z","ZZ"],(function(e,t,s){s._useUTC=!0,s._tzm=Bt(oe,e)}));var Ut=/([\+\-]|\d\d)/gi;function Bt(e,t){var s=(t||"").match(e);if(null===s)return null;var n=((s[s.length-1]||[])+"").match(Ut)||["-",0,0],i=60*n[1]+L(n[2]);return 0===i?0:"+"===n[0]?i:-i}function $t(e,t){var s,n;return t._isUTC?(s=t.clone(),n=(M(e)||d(e)?e.valueOf():jt(e).valueOf())-s.valueOf(),s._d.setTime(s._d.valueOf()+n),i.updateOffset(s,!1),s):jt(e).local()}function Gt(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Wt(){return!!this.isValid()&&this._isUTC&&0===this._offset}i.updateOffset=function(){};var qt=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Jt=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Kt(e,t){var s,n,i,r,a,o,d=e,c=null;return Ft(e)?d={ms:e._milliseconds,d:e._days,M:e._months}:l(e)?(d={},t?d[t]=e:d.milliseconds=e):(c=qt.exec(e))?(s="-"===c[1]?-1:1,d={y:0,d:L(c[ge])*s,h:L(c[be])*s,m:L(c[Me])*s,s:L(c[we])*s,ms:L(Vt(1e3*c[Le]))*s}):(c=Jt.exec(e))?(s="-"===c[1]?-1:1,d={y:Qt(c[2],s),M:Qt(c[3],s),w:Qt(c[4],s),d:Qt(c[5],s),h:Qt(c[6],s),m:Qt(c[7],s),s:Qt(c[8],s)}):null==d?d={}:"object"==typeof d&&("from"in d||"to"in d)&&(r=jt(d.from),a=jt(d.to),i=r.isValid()&&a.isValid()?(a=$t(a,r),r.isBefore(a)?o=Xt(r,a):((o=Xt(a,r)).milliseconds=-o.milliseconds,o.months=-o.months),o):{milliseconds:0,months:0},(d={}).ms=i.milliseconds,d.M=i.months),n=new It(d),Ft(e)&&u(e,"_locale")&&(n._locale=e._locale),n}function Qt(e,t){var s=e&&parseFloat(e.replace(",","."));return(isNaN(s)?0:s)*t}function Xt(e,t){var s={};return s.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(s.months,"M").isAfter(t)&&--s.months,s.milliseconds=+t-+e.clone().add(s.months,"M"),s}function Zt(e,t){return function(s,n){var i;return null===n||isNaN(+n)||(S(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=s,s=n,n=i),es(this,Kt(s="string"==typeof s?+s:s,n),e),this}}function es(e,t,s,n){var r=t._milliseconds,a=Vt(t._days),o=Vt(t._months);e.isValid()&&(n=null==n||n,o&&He(e,Ce(e,"Month")+o*s),a&&Ye(e,"Date",Ce(e,"Date")+a*s),r&&e._d.setTime(e._d.valueOf()+r*s),n&&i.updateOffset(e,a||o))}Kt.fn=It.prototype,Kt.invalid=function(){return Kt(NaN)};var ts=Zt(1,"add"),ss=Zt(-1,"subtract");function ns(e,t){var s=12*(t.year()-e.year())+(t.month()-e.month()),n=e.clone().add(s,"months");return-(s+(t-n<0?(t-n)/(n-e.clone().add(s-1,"months")):(t-n)/(e.clone().add(s+1,"months")-n)))||0}function is(e){var t;return void 0===e?this._locale._abbr:(null!=(t=vt(e))&&(this._locale=t),this)}i.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",i.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var rs=E("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function as(){return this._locale}var os=1e3,ls=60*os,ds=60*ls,cs=3506328*ds;function us(e,t){return(e%t+t)%t}function hs(e,t,s){return e<100&&e>=0?new Date(e+400,t,s)-cs:new Date(e,t,s).valueOf()}function ps(e,t,s){return e<100&&e>=0?Date.UTC(e+400,t,s)-cs:Date.UTC(e,t,s)}function ms(e,t){B(0,[e,e.length],0,t)}function fs(e,t,s,n,i){var r;return null==e?We(this,n,i).year:(t>(r=qe(e,n,i))&&(t=r),vs.call(this,e,t,s,n,i))}function vs(e,t,s,n,i){var r=Ge(e,t,s,n,i),a=Be(r.year,0,r.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}B(0,["gg",2],0,(function(){return this.weekYear()%100})),B(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),ms("gggg","weekYear"),ms("ggggg","weekYear"),ms("GGGG","isoWeekYear"),ms("GGGGG","isoWeekYear"),j("weekYear","gg"),j("isoWeekYear","GG"),H("weekYear",1),H("isoWeekYear",1),ce("G",re),ce("g",re),ce("GG",X,q),ce("gg",X,q),ce("GGGG",se,K),ce("gggg",se,K),ce("GGGGG",ne,Q),ce("ggggg",ne,Q),fe(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,s,n){t[n.substr(0,2)]=L(e)})),fe(["gg","GG"],(function(e,t,s,n){t[n]=i.parseTwoDigitYear(e)})),B("Q",0,"Qo","quarter"),j("quarter","Q"),H("quarter",7),ce("Q",W),me("Q",(function(e,t){t[ye]=3*(L(e)-1)})),B("D",["DD",2],"Do","date"),j("date","D"),H("date",9),ce("D",X),ce("DD",X,q),ce("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),me(["D","DD"],ge),me("Do",(function(e,t){t[ge]=L(e.match(X)[0])}));var _s=Pe("Date",!0);B("DDD",["DDDD",3],"DDDo","dayOfYear"),j("dayOfYear","DDD"),H("dayOfYear",4),ce("DDD",te),ce("DDDD",J),me(["DDD","DDDD"],(function(e,t,s){s._dayOfYear=L(e)})),B("m",["mm",2],0,"minute"),j("minute","m"),H("minute",14),ce("m",X),ce("mm",X,q),me(["m","mm"],Me);var ys=Pe("Minutes",!1);B("s",["ss",2],0,"second"),j("second","s"),H("second",15),ce("s",X),ce("ss",X,q),me(["s","ss"],we);var gs,bs=Pe("Seconds",!1);for(B("S",0,0,(function(){return~~(this.millisecond()/100)})),B(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),B(0,["SSS",3],0,"millisecond"),B(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),B(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),B(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),B(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),B(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),B(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),j("millisecond","ms"),H("millisecond",16),ce("S",te,W),ce("SS",te,q),ce("SSS",te,J),gs="SSSS";gs.length<=9;gs+="S")ce(gs,ie);function Ms(e,t){t[Le]=L(1e3*("0."+e))}for(gs="S";gs.length<=9;gs+="S")me(gs,Ms);var ws=Pe("Milliseconds",!1);B("z",0,0,"zoneAbbr"),B("zz",0,0,"zoneName");var Ls=b.prototype;function xs(e){return e}Ls.add=ts,Ls.calendar=function(e,t){var s=e||jt(),n=$t(s,this).startOf("day"),r=i.calendarFormat(this,n)||"sameElse",a=t&&(P(t[r])?t[r].call(this,s):t[r]);return this.format(a||this.localeData().calendar(r,this,jt(s)))},Ls.clone=function(){return new b(this)},Ls.diff=function(e,t,s){var n,i,r;if(!this.isValid())return NaN;if(!(n=$t(e,this)).isValid())return NaN;switch(i=6e4*(n.utcOffset()-this.utcOffset()),t=O(t)){case"year":r=ns(this,n)/12;break;case"month":r=ns(this,n);break;case"quarter":r=ns(this,n)/3;break;case"second":r=(this-n)/1e3;break;case"minute":r=(this-n)/6e4;break;case"hour":r=(this-n)/36e5;break;case"day":r=(this-n-i)/864e5;break;case"week":r=(this-n-i)/6048e5;break;default:r=this-n}return s?r:w(r)},Ls.endOf=function(e){var t;if(void 0===(e=O(e))||"millisecond"===e||!this.isValid())return this;var s=this._isUTC?ps:hs;switch(e){case"year":t=s(this.year()+1,0,1)-1;break;case"quarter":t=s(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=s(this.year(),this.month()+1,1)-1;break;case"week":t=s(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=s(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=s(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=ds-us(t+(this._isUTC?0:this.utcOffset()*ls),ds)-1;break;case"minute":t=this._d.valueOf(),t+=ls-us(t,ls)-1;break;case"second":t=this._d.valueOf(),t+=os-us(t,os)-1}return this._d.setTime(t),i.updateOffset(this,!0),this},Ls.format=function(e){e||(e=this.isUtc()?i.defaultFormatUtc:i.defaultFormat);var t=$(this,e);return this.localeData().postformat(t)},Ls.from=function(e,t){return this.isValid()&&(M(e)&&e.isValid()||jt(e).isValid())?Kt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},Ls.fromNow=function(e){return this.from(jt(),e)},Ls.to=function(e,t){return this.isValid()&&(M(e)&&e.isValid()||jt(e).isValid())?Kt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},Ls.toNow=function(e){return this.to(jt(),e)},Ls.get=function(e){return P(this[e=O(e)])?this[e]():this},Ls.invalidAt=function(){return m(this).overflow},Ls.isAfter=function(e,t){var s=M(e)?e:jt(e);return!(!this.isValid()||!s.isValid())&&("millisecond"===(t=O(t)||"millisecond")?this.valueOf()>s.valueOf():s.valueOf()<this.clone().startOf(t).valueOf())},Ls.isBefore=function(e,t){var s=M(e)?e:jt(e);return!(!this.isValid()||!s.isValid())&&("millisecond"===(t=O(t)||"millisecond")?this.valueOf()<s.valueOf():this.clone().endOf(t).valueOf()<s.valueOf())},Ls.isBetween=function(e,t,s,n){var i=M(e)?e:jt(e),r=M(t)?t:jt(t);return!!(this.isValid()&&i.isValid()&&r.isValid())&&("("===(n=n||"()")[0]?this.isAfter(i,s):!this.isBefore(i,s))&&(")"===n[1]?this.isBefore(r,s):!this.isAfter(r,s))},Ls.isSame=function(e,t){var s,n=M(e)?e:jt(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=O(t)||"millisecond")?this.valueOf()===n.valueOf():(s=n.valueOf(),this.clone().startOf(t).valueOf()<=s&&s<=this.clone().endOf(t).valueOf()))},Ls.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},Ls.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},Ls.isValid=function(){return f(this)},Ls.lang=rs,Ls.locale=is,Ls.localeData=as,Ls.max=Rt,Ls.min=Ot,Ls.parsingFlags=function(){return h({},m(this))},Ls.set=function(e,t){if("object"==typeof e)for(var s=function(e){var t=[];for(var s in e)t.push({unit:s,priority:N[s]});return t.sort((function(e,t){return e.priority-t.priority})),t}(e=R(e)),n=0;n<s.length;n++)this[s[n].unit](e[s[n].unit]);else if(P(this[e=O(e)]))return this[e](t);return this},Ls.startOf=function(e){var t;if(void 0===(e=O(e))||"millisecond"===e||!this.isValid())return this;var s=this._isUTC?ps:hs;switch(e){case"year":t=s(this.year(),0,1);break;case"quarter":t=s(this.year(),this.month()-this.month()%3,1);break;case"month":t=s(this.year(),this.month(),1);break;case"week":t=s(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=s(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=s(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=us(t+(this._isUTC?0:this.utcOffset()*ls),ds);break;case"minute":t=this._d.valueOf(),t-=us(t,ls);break;case"second":t=this._d.valueOf(),t-=us(t,os)}return this._d.setTime(t),i.updateOffset(this,!0),this},Ls.subtract=ss,Ls.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},Ls.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},Ls.toDate=function(){return new Date(this.valueOf())},Ls.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,s=t?this.clone().utc():this;return s.year()<0||s.year()>9999?$(s,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):P(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",$(s,"Z")):$(s,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},Ls.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var s="["+e+'("]',n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i=t+'[")]';return this.format(s+n+"-MM-DD[T]HH:mm:ss.SSS"+i)},Ls.toJSON=function(){return this.isValid()?this.toISOString():null},Ls.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},Ls.unix=function(){return Math.floor(this.valueOf()/1e3)},Ls.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},Ls.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},Ls.year=Se,Ls.isLeapYear=function(){return ke(this.year())},Ls.weekYear=function(e){return fs.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},Ls.isoWeekYear=function(e){return fs.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},Ls.quarter=Ls.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},Ls.month=Ie,Ls.daysInMonth=function(){return Ae(this.year(),this.month())},Ls.week=Ls.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},Ls.isoWeek=Ls.isoWeeks=function(e){var t=We(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},Ls.weeksInYear=function(){var e=this.localeData()._week;return qe(this.year(),e.dow,e.doy)},Ls.isoWeeksInYear=function(){return qe(this.year(),1,4)},Ls.date=_s,Ls.day=Ls.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=function(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}(e,this.localeData()),this.add(e-t,"d")):t},Ls.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},Ls.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=function(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},Ls.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},Ls.hour=Ls.hours=lt,Ls.minute=Ls.minutes=ys,Ls.second=Ls.seconds=bs,Ls.millisecond=Ls.milliseconds=ws,Ls.utcOffset=function(e,t,s){var n,r=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=Bt(oe,e)))return this}else Math.abs(e)<16&&!s&&(e*=60);return!this._isUTC&&t&&(n=Gt(this)),this._offset=e,this._isUTC=!0,null!=n&&this.add(n,"m"),r!==e&&(!t||this._changeInProgress?es(this,Kt(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,i.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?r:Gt(this)},Ls.utc=function(e){return this.utcOffset(0,e)},Ls.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Gt(this),"m")),this},Ls.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Bt(ae,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},Ls.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?jt(e).utcOffset():0,(this.utcOffset()-e)%60==0)},Ls.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},Ls.isLocal=function(){return!!this.isValid()&&!this._isUTC},Ls.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},Ls.isUtc=Wt,Ls.isUTC=Wt,Ls.zoneAbbr=function(){return this._isUTC?"UTC":""},Ls.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},Ls.dates=E("dates accessor is deprecated. Use date instead.",_s),Ls.months=E("months accessor is deprecated. Use month instead",Ie),Ls.years=E("years accessor is deprecated. Use year instead",Se),Ls.zone=E("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()})),Ls.isDSTShifted=E("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!o(this._isDSTShifted))return this._isDSTShifted;var e={};if(y(e,this),(e=Yt(e))._a){var t=e._isUTC?p(e._a):jt(e._a);this._isDSTShifted=this.isValid()&&x(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}));var Ts=Y.prototype;function Es(e,t,s,n){var i=vt(),r=p().set(n,t);return i[s](r,e)}function ks(e,t,s){if(l(e)&&(t=e,e=void 0),e=e||"",null!=t)return Es(e,t,s,"month");var n,i=[];for(n=0;n<12;n++)i[n]=Es(e,n,s,"month");return i}function Ds(e,t,s,n){"boolean"==typeof e?(l(t)&&(s=t,t=void 0),t=t||""):(s=t=e,e=!1,l(t)&&(s=t,t=void 0),t=t||"");var i,r=vt(),a=e?r._week.dow:0;if(null!=s)return Es(t,(s+a)%7,n,"day");var o=[];for(i=0;i<7;i++)o[i]=Es(t,(i+a)%7,n,"day");return o}Ts.calendar=function(e,t,s){var n=this._calendar[e]||this._calendar.sameElse;return P(n)?n.call(t,s):n},Ts.longDateFormat=function(e){var t=this._longDateFormat[e],s=this._longDateFormat[e.toUpperCase()];return t||!s?t:(this._longDateFormat[e]=s.replace(/MMMM|MM|DD|dddd/g,(function(e){return e.slice(1)})),this._longDateFormat[e])},Ts.invalidDate=function(){return this._invalidDate},Ts.ordinal=function(e){return this._ordinal.replace("%d",e)},Ts.preparse=xs,Ts.postformat=xs,Ts.relativeTime=function(e,t,s,n){var i=this._relativeTime[s];return P(i)?i(e,t,s,n):i.replace(/%d/i,e)},Ts.pastFuture=function(e,t){var s=this._relativeTime[e>0?"future":"past"];return P(s)?s(t):s.replace(/%s/i,t)},Ts.set=function(e){var t,s;for(s in e)P(t=e[s])?this[s]=t:this["_"+s]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},Ts.months=function(e,t){return e?r(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||je).test(t)?"format":"standalone"][e.month()]:r(this._months)?this._months:this._months.standalone},Ts.monthsShort=function(e,t){return e?r(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[je.test(t)?"format":"standalone"][e.month()]:r(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},Ts.monthsParse=function(e,t,s){var n,i,r;if(this._monthsParseExact)return Ne.call(this,e,t,s);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(i=p([2e3,n]),s&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),s||this._monthsParse[n]||(r="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[n]=new RegExp(r.replace(".",""),"i")),s&&"MMMM"===t&&this._longMonthsParse[n].test(e))return n;if(s&&"MMM"===t&&this._shortMonthsParse[n].test(e))return n;if(!s&&this._monthsParse[n].test(e))return n}},Ts.monthsRegex=function(e){return this._monthsParseExact?(u(this,"_monthsRegex")||ze.call(this),e?this._monthsStrictRegex:this._monthsRegex):(u(this,"_monthsRegex")||(this._monthsRegex=Ve),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},Ts.monthsShortRegex=function(e){return this._monthsParseExact?(u(this,"_monthsRegex")||ze.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(u(this,"_monthsShortRegex")||(this._monthsShortRegex=Fe),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},Ts.week=function(e){return We(e,this._week.dow,this._week.doy).week},Ts.firstDayOfYear=function(){return this._week.doy},Ts.firstDayOfWeek=function(){return this._week.dow},Ts.weekdays=function(e,t){var s=r(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Je(s,this._week.dow):e?s[e.day()]:s},Ts.weekdaysMin=function(e){return!0===e?Je(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},Ts.weekdaysShort=function(e){return!0===e?Je(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},Ts.weekdaysParse=function(e,t,s){var n,i,r;if(this._weekdaysParseExact)return Ze.call(this,e,t,s);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(i=p([2e3,1]).day(n),s&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(r="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[n]=new RegExp(r.replace(".",""),"i")),s&&"dddd"===t&&this._fullWeekdaysParse[n].test(e))return n;if(s&&"ddd"===t&&this._shortWeekdaysParse[n].test(e))return n;if(s&&"dd"===t&&this._minWeekdaysParse[n].test(e))return n;if(!s&&this._weekdaysParse[n].test(e))return n}},Ts.weekdaysRegex=function(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||nt.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(u(this,"_weekdaysRegex")||(this._weekdaysRegex=et),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},Ts.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||nt.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(u(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=tt),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},Ts.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||nt.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(u(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=st),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},Ts.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},Ts.meridiem=function(e,t,s){return e>11?s?"pm":"PM":s?"am":"AM"},mt("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===L(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),i.lang=E("moment.lang is deprecated. Use moment.locale instead.",mt),i.langData=E("moment.langData is deprecated. Use moment.localeData instead.",vt);var Ss=Math.abs;function Ps(e,t,s,n){var i=Kt(t,s);return e._milliseconds+=n*i._milliseconds,e._days+=n*i._days,e._months+=n*i._months,e._bubble()}function Cs(e){return e<0?Math.floor(e):Math.ceil(e)}function Ys(e){return 4800*e/146097}function As(e){return 146097*e/4800}function js(e){return function(){return this.as(e)}}var Os=js("ms"),Rs=js("s"),Ns=js("m"),Hs=js("h"),Is=js("d"),Fs=js("w"),Vs=js("M"),zs=js("Q"),Us=js("y");function Bs(e){return function(){return this.isValid()?this._data[e]:NaN}}var $s=Bs("milliseconds"),Gs=Bs("seconds"),Ws=Bs("minutes"),qs=Bs("hours"),Js=Bs("days"),Ks=Bs("months"),Qs=Bs("years"),Xs=Math.round,Zs={ss:44,s:45,m:45,h:22,d:26,M:11};function en(e,t,s,n,i){return i.relativeTime(t||1,!!s,e,n)}var tn=Math.abs;function sn(e){return(e>0)-(e<0)||+e}function nn(){if(!this.isValid())return this.localeData().invalidDate();var e,t,s=tn(this._milliseconds)/1e3,n=tn(this._days),i=tn(this._months);e=w(s/60),t=w(e/60),s%=60,e%=60;var r=w(i/12),a=i%=12,o=n,l=t,d=e,c=s?s.toFixed(3).replace(/\.?0+$/,""):"",u=this.asSeconds();if(!u)return"P0D";var h=u<0?"-":"",p=sn(this._months)!==sn(u)?"-":"",m=sn(this._days)!==sn(u)?"-":"",f=sn(this._milliseconds)!==sn(u)?"-":"";return h+"P"+(r?p+r+"Y":"")+(a?p+a+"M":"")+(o?m+o+"D":"")+(l||d||c?"T":"")+(l?f+l+"H":"")+(d?f+d+"M":"")+(c?f+c+"S":"")}var rn=It.prototype;return rn.isValid=function(){return this._isValid},rn.abs=function(){var e=this._data;return this._milliseconds=Ss(this._milliseconds),this._days=Ss(this._days),this._months=Ss(this._months),e.milliseconds=Ss(e.milliseconds),e.seconds=Ss(e.seconds),e.minutes=Ss(e.minutes),e.hours=Ss(e.hours),e.months=Ss(e.months),e.years=Ss(e.years),this},rn.add=function(e,t){return Ps(this,e,t,1)},rn.subtract=function(e,t){return Ps(this,e,t,-1)},rn.as=function(e){if(!this.isValid())return NaN;var t,s,n=this._milliseconds;if("month"===(e=O(e))||"quarter"===e||"year"===e)switch(t=this._days+n/864e5,s=this._months+Ys(t),e){case"month":return s;case"quarter":return s/3;case"year":return s/12}else switch(t=this._days+Math.round(As(this._months)),e){case"week":return t/7+n/6048e5;case"day":return t+n/864e5;case"hour":return 24*t+n/36e5;case"minute":return 1440*t+n/6e4;case"second":return 86400*t+n/1e3;case"millisecond":return Math.floor(864e5*t)+n;default:throw new Error("Unknown unit "+e)}},rn.asMilliseconds=Os,rn.asSeconds=Rs,rn.asMinutes=Ns,rn.asHours=Hs,rn.asDays=Is,rn.asWeeks=Fs,rn.asMonths=Vs,rn.asQuarters=zs,rn.asYears=Us,rn.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*L(this._months/12):NaN},rn._bubble=function(){var e,t,s,n,i,r=this._milliseconds,a=this._days,o=this._months,l=this._data;return r>=0&&a>=0&&o>=0||r<=0&&a<=0&&o<=0||(r+=864e5*Cs(As(o)+a),a=0,o=0),l.milliseconds=r%1e3,e=w(r/1e3),l.seconds=e%60,t=w(e/60),l.minutes=t%60,s=w(t/60),l.hours=s%24,a+=w(s/24),i=w(Ys(a)),o+=i,a-=Cs(As(i)),n=w(o/12),o%=12,l.days=a,l.months=o,l.years=n,this},rn.clone=function(){return Kt(this)},rn.get=function(e){return e=O(e),this.isValid()?this[e+"s"]():NaN},rn.milliseconds=$s,rn.seconds=Gs,rn.minutes=Ws,rn.hours=qs,rn.days=Js,rn.weeks=function(){return w(this.days()/7)},rn.months=Ks,rn.years=Qs,rn.humanize=function(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),s=function(e,t,s){var n=Kt(e).abs(),i=Xs(n.as("s")),r=Xs(n.as("m")),a=Xs(n.as("h")),o=Xs(n.as("d")),l=Xs(n.as("M")),d=Xs(n.as("y")),c=i<=Zs.ss&&["s",i]||i<Zs.s&&["ss",i]||r<=1&&["m"]||r<Zs.m&&["mm",r]||a<=1&&["h"]||a<Zs.h&&["hh",a]||o<=1&&["d"]||o<Zs.d&&["dd",o]||l<=1&&["M"]||l<Zs.M&&["MM",l]||d<=1&&["y"]||["yy",d];return c[2]=t,c[3]=+e>0,c[4]=s,en.apply(null,c)}(this,!e,t);return e&&(s=t.pastFuture(+this,s)),t.postformat(s)},rn.toISOString=nn,rn.toString=nn,rn.toJSON=nn,rn.locale=is,rn.localeData=as,rn.toIsoString=E("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",nn),rn.lang=rs,B("X",0,0,"unix"),B("x",0,0,"valueOf"),ce("x",re),ce("X",/[+-]?\d+(\.\d{1,3})?/),me("X",(function(e,t,s){s._d=new Date(1e3*parseFloat(e,10))})),me("x",(function(e,t,s){s._d=new Date(L(e))})),i.version="2.24.0",t=jt,i.fn=Ls,i.min=function(){return Nt("isBefore",[].slice.call(arguments,0))},i.max=function(){return Nt("isAfter",[].slice.call(arguments,0))},i.now=function(){return Date.now?Date.now():+new Date},i.utc=p,i.unix=function(e){return jt(1e3*e)},i.months=function(e,t){return ks(e,t,"months")},i.isDate=d,i.locale=mt,i.invalid=v,i.duration=Kt,i.isMoment=M,i.weekdays=function(e,t,s){return Ds(e,t,s,"weekdays")},i.parseZone=function(){return jt.apply(null,arguments).parseZone()},i.localeData=vt,i.isDuration=Ft,i.monthsShort=function(e,t){return ks(e,t,"monthsShort")},i.weekdaysMin=function(e,t,s){return Ds(e,t,s,"weekdaysMin")},i.defineLocale=ft,i.updateLocale=function(e,t){if(null!=t){var s,n,i=dt;null!=(n=pt(e))&&(i=n._config),t=C(i,t),(s=new Y(t)).parentLocale=ct[e],ct[e]=s,mt(e)}else null!=ct[e]&&(null!=ct[e].parentLocale?ct[e]=ct[e].parentLocale:null!=ct[e]&&delete ct[e]);return ct[e]},i.locales=function(){return k(ct)},i.weekdaysShort=function(e,t,s){return Ds(e,t,s,"weekdaysShort")},i.normalizeUnits=O,i.relativeTimeRounding=function(e){return void 0===e?Xs:"function"==typeof e&&(Xs=e,!0)},i.relativeTimeThreshold=function(e,t){return void 0!==Zs[e]&&(void 0===t?Zs[e]:(Zs[e]=t,"s"===e&&(Zs.ss=t-1),!0))},i.calendarFormat=function(e,t){var s=e.diff(t,"days",!0);return s<-6?"sameElse":s<-1?"lastWeek":s<0?"lastDay":s<1?"sameDay":s<2?"nextDay":s<7?"nextWeek":"sameElse"},i.prototype=Ls,i.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},i}()}).call(this,s(505)(e))},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(11),i=s(80);t.types=i.types;const r=s(326),a=s(119),o=s(327),l=s(8);t.Node=l.default;class d extends n.default{constructor(e,t){super({knownEvents:!1}),this.ins=new r.default(this),this.outs=new r.default(this),this.changed=!0,this.updated=!1,this._name="",this._tags=new Set,this._trackers=[],this.node=e,this.id=t}static getTypeName(e){return"function"==typeof e?e.typeName:"object"==typeof e?e.constructor.typeName:e||d.typeName}create(){this.node._addComponent(this),this.graph.isActive&&this.activate&&this.activate()}dispose(){this.graph.isActive&&this.deactivate&&this.deactivate(),this.emit({type:"dispose",component:this}),this.ins.dispose(),this.outs.dispose(),this._trackers.forEach(e=>e.dispose()),this.node&&(this.node._removeComponent(this),this.node=null)}get isNodeSingleton(){return this.constructor.isNodeSingleton}get isGraphSingleton(){return this.constructor.isGraphSingleton}get isSystemSingleton(){return this.constructor.isSystemSingleton}get typeName(){return this.constructor.typeName}get displayTypeName(){const e=this.typeName;return"Component"===e?e:e.substr(1)}get text(){return this.constructor.text}get icon(){return this.constructor.icon}get name(){return this._name}get displayName(){return this._name||this.text||this.displayTypeName}set name(e){this._name=e,this.emit({type:"change",component:this,what:"name"})}get tags(){return this._tags}addTag(e){this._tags.has(e)||(this._tags.add(e),this.node._addComponentTag(e,this))}removeTag(e){this._tags.has(e)&&(this._tags.delete(e),this.node._removeComponentTag(e,this))}get graph(){return this.node.graph}get system(){return this.node.system}get components(){return this.node.components}get isActive(){return this.graph.isActive}getComponent(e,t=!1){return this.node.components.get(e,t)}getComponents(e){return this.node.components.getArray(e)}getComponentsByTag(e){return this.node.components.getByTag(e)}createComponent(e){return this.node.createComponent(e)}getOrCreateComponent(e){return this.node.components.get(e,!0)||this.node.createComponent(e)}hasComponent(e){return this.node.components.has(e)}getGraphComponent(e,t=!1){return this.node.graph.components.get(e,t)}getGraphComponents(e){return this.node.graph.components.getArray(e)}getGraphComponentsByTag(e){return this.node.graph.components.getByTag(e)}hasGraphComponent(e){return this.node.graph.components.has(e)}getMainComponent(e,t=!1){return this.node.system.graph.components.get(e,t)}getMainComponents(e){return this.node.system.graph.components.getArray(e)}getMainComponentsByTag(e){return this.node.system.graph.components.getByTag(e)}hasMainComponent(e){return this.node.system.graph.components.has(e)}getSystemComponent(e,t=!1){return this.node.system.components.get(e,t)}getSystemComponents(e){return this.node.system.components.getArray(e)}getSystemComponentsByTag(e){return this.node.system.components.getByTag(e)}hasSystemComponent(e){return this.node.system.components.has(e)}getComponentById(e){return this.node.system.components.getById(e)}getNode(e,t=!1){return this.node.graph.nodes.get(e,t)}getNodes(e){return this.node.graph.nodes.getArray(e)}getNodesByTag(e){return this.node.graph.nodes.getByTag(e)}hasNode(e){return this.node.graph.nodes.has(e)}getMainNode(e,t=!1){return this.node.system.graph.nodes.get(e,t)}getMainNodes(e){return this.node.system.graph.nodes.getArray(e)}getMainNodesByTag(e){return this.node.system.graph.nodes.getByTag(e)}hasMainNode(e){return this.node.system.graph.nodes.has(e)}getSystemNode(e,t=!1){return this.node.system.nodes.get(e,t)}getSystemNodes(e){return this.node.system.nodes.getArray(e)}getSystemNodesByTag(e){return this.node.system.nodes.getByTag(e)}hasSystemNode(e){return this.node.system.nodes.has(e)}getNodeById(e){return this.node.system.nodes.getById(e)}activate(){}update(e){throw new Error("this should never be called")}tick(e){throw new Error("this should never be called")}tock(e){throw new Error("this should never be called")}deactivate(){}requestSort(){this.graph.requestSort()}is(e){const t=d.getTypeName(e);let s=this;do{if((s=Object.getPrototypeOf(s)).constructor.typeName===t)return!0}while(s.constructor.typeName!==d.typeName);return!1}unlinkAllProperties(){this.ins.unlinkAllProperties(),this.outs.unlinkAllProperties()}resetChanged(){this.changed=!1;const e=this.ins.properties;for(let t=0,s=e.length;t<s;++t)e[t].changed=!1;const t=this.outs.properties;for(let e=0,s=t.length;e<s;++e)t[e].changed=!1}trackComponent(e,t,s){const n=new a.default(this.node.components,e,t,s);return this._trackers.push(n),n}referenceComponent(e){return new o.default(this.system,e)}toString(){return`${this.typeName}${this.name?" ("+this.name+")":""}`}dump(e=""){console.log(e+`%cComponent '${this.typeName}' (${this.displayName})`,"color: green"),this.ins.properties.forEach(t=>t.dump(e+"  IN  ")),this.outs.properties.forEach(t=>t.dump(e+"  OUT "))}toJSON(){let e={};const t=this.ins.toJSON();t&&(e.ins=t);const s=this.outs.toJSON();return s&&(e.outs=s),e}fromJSON(e){e.ins&&this.ins.fromJSON(e.ins),e.outs&&this.outs.fromJSON(e.outs)}referencesFromJSON(e){const t=this.system.components.getDictionary();e.ins&&this.ins.linksFromJSON(e.ins,t),e.outs&&this.outs.linksFromJSON(e.outs,t)}addCustomInput(e,t,s){return this.changed=!0,this.ins.createCustomProperty(e,t,s)}allowCustomInput(e){return!1}addCustomOutput(e,t,s){return this.outs.createCustomProperty(e,t,s)}allowCustomOutput(e){return!1}addInputs(e,t){return this.ins.createProperties(e,t)}addOutputs(e,t){return this.outs.createProperties(e,t)}}t.default=d,d.typeName="Component",d.text="",d.icon="",d.isNodeSingleton=!0,d.isGraphSingleton=!1,d.isSystemSingleton=!1,d.prototype.activate=null,d.prototype.update=null,d.prototype.tick=null,d.prototype.tock=null,d.prototype.deactivate=null},function(e,t,s){"use strict";var n,i=this&&this.__decorate||function(e,t,s,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r<3?i(a):r>3?i(t,s,a):i(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};Object.defineProperty(t,"__esModule",{value:!0});const r=s(320);var a=s(320);t.property=a.property;var o=s(6);t.html=o.html,t.svg=o.svg,t.render=o.render,t.TemplateResult=o.TemplateResult;var l=s(336);t.repeat=l.repeat;let d=n=class extends r.LitElement{constructor(){super(...arguments),this._isFirstConnected=!1}static setStyle(e,t){Object.assign(e.style,t)}static setAttribs(e,t){for(let s in t)e.setAttribute(s,t[s])}get shady(){return this.constructor.shady}appendTo(e){return e.appendChild(this),this}removeChildren(){for(;this.firstChild;)this.removeChild(this.firstChild)}getChildrenArray(){return Array.from(this.children)}appendElement(e,t){return this.createElement(e,t,this)}createElement(e,t,s){let n;return n="string"==typeof e?document.createElement(e):e instanceof HTMLElement?e:new e,t&&Object.assign(n.style,t),s&&s.appendChild(n),n}setStyle(e){return n.setStyle(this,e),this}setAttribute(e,t){return super.setAttribute(e,t),this}setAttributes(e){return n.setAttribs(this,e),this}addClass(...e){return e.forEach(e=>this.classList.add(e)),this}removeClass(...e){return e.forEach(e=>this.classList.remove(e)),this}setClass(e,t){return t?this.classList.add(e):this.classList.remove(e),this}hasFocus(){return document.activeElement===this}on(e,t,s){return this.addEventListener(e,t,s),this}off(e,t,s){return this.removeEventListener(e,t,s),this}connectedCallback(){this._isFirstConnected||(this._isFirstConnected=!0,this.firstConnected()),this.connected(),super.connectedCallback()}disconnectedCallback(){super.disconnectedCallback(),this.disconnected()}createRenderRoot(){return this.shady?super.createRenderRoot():this}firstConnected(){}connected(){}disconnected(){}onUpdate(){this.requestUpdate()}};function c(e){return t=>(t.tagName=e,customElements.define(t.tagName,t),t)}d.tagName="ff-custom-element",d.shady=!1,d=n=i([c("ff-custom-element")],d),t.default=d,t.customElement=c},function(e,t){e.exports=THREE},function(e,t,s){"use strict";s.d(t,"f",(function(){return n})),s.d(t,"g",(function(){return i})),s.d(t,"b",(function(){return a})),s.d(t,"a",(function(){return o})),s.d(t,"d",(function(){return d})),s.d(t,"c",(function(){return c})),s.d(t,"e",(function(){return u}));const n=`{{lit-${String(Math.random()).slice(2)}}}`,i=`\x3c!--${n}--\x3e`,r=new RegExp(`${n}|${i}`),a="$lit$";class o{constructor(e,t){this.parts=[],this.element=t;const s=[],i=[],o=document.createTreeWalker(t.content,133,null,!1);let d=0,h=-1,p=0;const{strings:m,values:{length:f}}=e;for(;p<f;){const e=o.nextNode();if(null!==e){if(h++,1===e.nodeType){if(e.hasAttributes()){const t=e.attributes,{length:s}=t;let n=0;for(let e=0;e<s;e++)l(t[e].name,a)&&n++;for(;n-- >0;){const t=m[p],s=u.exec(t)[2],n=s.toLowerCase()+a,i=e.getAttribute(n);e.removeAttribute(n);const o=i.split(r);this.parts.push({type:"attribute",index:h,name:s,strings:o}),p+=o.length-1}}"TEMPLATE"===e.tagName&&(i.push(e),o.currentNode=e.content)}else if(3===e.nodeType){const t=e.data;if(t.indexOf(n)>=0){const n=e.parentNode,i=t.split(r),o=i.length-1;for(let t=0;t<o;t++){let s,r=i[t];if(""===r)s=c();else{const e=u.exec(r);null!==e&&l(e[2],a)&&(r=r.slice(0,e.index)+e[1]+e[2].slice(0,-a.length)+e[3]),s=document.createTextNode(r)}n.insertBefore(s,e),this.parts.push({type:"node",index:++h})}""===i[o]?(n.insertBefore(c(),e),s.push(e)):e.data=i[o],p+=o}}else if(8===e.nodeType)if(e.data===n){const t=e.parentNode;null!==e.previousSibling&&h!==d||(h++,t.insertBefore(c(),e)),d=h,this.parts.push({type:"node",index:h}),null===e.nextSibling?e.data="":(s.push(e),h--),p++}else{let t=-1;for(;-1!==(t=e.data.indexOf(n,t+1));)this.parts.push({type:"node",index:-1}),p++}}else o.currentNode=i.pop()}for(const e of s)e.parentNode.removeChild(e)}}const l=(e,t)=>{const s=e.length-t.length;return s>=0&&e.slice(s)===t},d=e=>-1!==e.index,c=()=>document.createComment(""),u=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/},function(e,t,s){"use strict";var n=this&&this.__decorate||function(e,t,s,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r<3?i(a):r>3?i(t,s,a):i(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};Object.defineProperty(t,"__esModule",{value:!0}),s(29);const i=s(2);let r=class extends i.default{constructor(){super(),this.name="",this.index=0,this.selectedIndex=-1,this.selected=!1,this.selectable=!1,this.disabled=!1,this.icon="",this.caret=!1,this.inline=!1,this.transparent=!1,this.addEventListener("click",e=>this.onClick(e)),this.addEventListener("keydown",e=>this.onKeyDown(e))}firstConnected(){this.tabIndex=0,this.classList.add("ff-button")}shouldUpdate(e){return(e.has("selectedIndex")||e.has("index"))&&this.selectedIndex>=0&&(this.selected=this.index===this.selectedIndex),e.has("disabled")&&this.setClass("ff-disabled",this.disabled),!0}update(e){this.classList.remove("ff-inline","ff-transparent","ff-control"),this.inline?this.classList.add("ff-inline"):this.transparent?this.classList.add("ff-transparent"):this.classList.add("ff-control"),super.update(e)}render(){return i.html`${this.renderIcon()}${this.renderText()}${this.renderCaret()}`}renderIcon(){return this.icon?i.html`<ff-icon class="ff-off" name=${this.icon}></ff-icon>`:null}renderText(){return this.text?i.html`<div class="ff-text ff-off">${this.text}</div>`:null}renderCaret(){return this.caret?i.html`<div class="ff-caret-down ff-off"></div>`:null}onClick(e){this.selectable&&(this.selected=!this.selected)}onKeyDown(e){document.activeElement!==this||"Space"!==e.code&&"Enter"!==e.code||this.dispatchEvent(new MouseEvent("click",{bubbles:!0}))}};n([i.property({type:String})],r.prototype,"name",void 0),n([i.property({type:Number})],r.prototype,"index",void 0),n([i.property({type:Number})],r.prototype,"selectedIndex",void 0),n([i.property({type:Boolean,reflect:!0})],r.prototype,"selected",void 0),n([i.property({type:Boolean})],r.prototype,"selectable",void 0),n([i.property({type:Boolean})],r.prototype,"disabled",void 0),n([i.property()],r.prototype,"text",void 0),n([i.property()],r.prototype,"icon",void 0),n([i.property({type:Boolean})],r.prototype,"caret",void 0),n([i.property({type:Boolean})],r.prototype,"inline",void 0),n([i.property({type:Boolean})],r.prototype,"transparent",void 0),r=n([i.customElement("ff-button")],r),t.default=r},function(e,t,s){"use strict";s.r(t);var n=s(7);class i{handleAttributeExpressions(e,t,s,i){const r=t[0];if("."===r){return new n.f(e,t.slice(1),s).parts}return"@"===r?[new n.d(e,t.slice(1),i.eventContext)]:"?"===r?[new n.c(e,t.slice(1),s)]:new n.a(e,t,s).parts}handleTextExpression(e){return new n.e(e)}}const r=new i;var a=s(34),o=s(25),l=s(12),d=s(9),c=s(26),u=s(24),h=s(40),p=s(4);s.d(t,"html",(function(){return m})),s.d(t,"svg",(function(){return f})),s.d(t,"DefaultTemplateProcessor",(function(){return i})),s.d(t,"defaultTemplateProcessor",(function(){return r})),s.d(t,"directive",(function(){return o.a})),s.d(t,"isDirective",(function(){return o.b})),s.d(t,"removeNodes",(function(){return l.b})),s.d(t,"reparentNodes",(function(){return l.c})),s.d(t,"noChange",(function(){return d.a})),s.d(t,"nothing",(function(){return d.b})),s.d(t,"AttributeCommitter",(function(){return n.a})),s.d(t,"AttributePart",(function(){return n.b})),s.d(t,"BooleanAttributePart",(function(){return n.c})),s.d(t,"EventPart",(function(){return n.d})),s.d(t,"isIterable",(function(){return n.h})),s.d(t,"isPrimitive",(function(){return n.i})),s.d(t,"NodePart",(function(){return n.e})),s.d(t,"PropertyCommitter",(function(){return n.f})),s.d(t,"PropertyPart",(function(){return n.g})),s.d(t,"parts",(function(){return c.a})),s.d(t,"render",(function(){return c.b})),s.d(t,"templateCaches",(function(){return u.a})),s.d(t,"templateFactory",(function(){return u.b})),s.d(t,"TemplateInstance",(function(){return h.a})),s.d(t,"SVGTemplateResult",(function(){return a.a})),s.d(t,"TemplateResult",(function(){return a.b})),s.d(t,"createMarker",(function(){return p.c})),s.d(t,"isTemplatePartActive",(function(){return p.d})),s.d(t,"Template",(function(){return p.a})),(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.1.2");const m=(e,...t)=>new a.b(e,t,"html",r),f=(e,...t)=>new a.a(e,t,"svg",r)},function(e,t,s){"use strict";s.d(t,"i",(function(){return d})),s.d(t,"h",(function(){return c})),s.d(t,"a",(function(){return u})),s.d(t,"b",(function(){return h})),s.d(t,"e",(function(){return p})),s.d(t,"c",(function(){return m})),s.d(t,"f",(function(){return f})),s.d(t,"g",(function(){return v})),s.d(t,"d",(function(){return y}));var n=s(25),i=s(12),r=s(9),a=s(40),o=s(34),l=s(4);const d=e=>null===e||!("object"==typeof e||"function"==typeof e),c=e=>Array.isArray(e)||!(!e||!e[Symbol.iterator]);class u{constructor(e,t,s){this.dirty=!0,this.element=e,this.name=t,this.strings=s,this.parts=[];for(let e=0;e<s.length-1;e++)this.parts[e]=this._createPart()}_createPart(){return new h(this)}_getValue(){const e=this.strings,t=e.length-1;let s="";for(let n=0;n<t;n++){s+=e[n];const t=this.parts[n];if(void 0!==t){const e=t.value;if(d(e)||!c(e))s+="string"==typeof e?e:String(e);else for(const t of e)s+="string"==typeof t?t:String(t)}}return s+=e[t]}commit(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}class h{constructor(e){this.value=void 0,this.committer=e}setValue(e){e===r.a||d(e)&&e===this.value||(this.value=e,Object(n.b)(e)||(this.committer.dirty=!0))}commit(){for(;Object(n.b)(this.value);){const e=this.value;this.value=r.a,e(this)}this.value!==r.a&&this.committer.commit()}}class p{constructor(e){this.value=void 0,this.__pendingValue=void 0,this.options=e}appendInto(e){this.startNode=e.appendChild(Object(l.c)()),this.endNode=e.appendChild(Object(l.c)())}insertAfterNode(e){this.startNode=e,this.endNode=e.nextSibling}appendIntoPart(e){e.__insert(this.startNode=Object(l.c)()),e.__insert(this.endNode=Object(l.c)())}insertAfterPart(e){e.__insert(this.startNode=Object(l.c)()),this.endNode=e.endNode,e.endNode=this.startNode}setValue(e){this.__pendingValue=e}commit(){for(;Object(n.b)(this.__pendingValue);){const e=this.__pendingValue;this.__pendingValue=r.a,e(this)}const e=this.__pendingValue;e!==r.a&&(d(e)?e!==this.value&&this.__commitText(e):e instanceof o.b?this.__commitTemplateResult(e):e instanceof Node?this.__commitNode(e):c(e)?this.__commitIterable(e):e===r.b?(this.value=r.b,this.clear()):this.__commitText(e))}__insert(e){this.endNode.parentNode.insertBefore(e,this.endNode)}__commitNode(e){this.value!==e&&(this.clear(),this.__insert(e),this.value=e)}__commitText(e){const t=this.startNode.nextSibling,s="string"==typeof(e=null==e?"":e)?e:String(e);t===this.endNode.previousSibling&&3===t.nodeType?t.data=s:this.__commitNode(document.createTextNode(s)),this.value=e}__commitTemplateResult(e){const t=this.options.templateFactory(e);if(this.value instanceof a.a&&this.value.template===t)this.value.update(e.values);else{const s=new a.a(t,e.processor,this.options),n=s._clone();s.update(e.values),this.__commitNode(n),this.value=s}}__commitIterable(e){Array.isArray(this.value)||(this.value=[],this.clear());const t=this.value;let s,n=0;for(const i of e)void 0===(s=t[n])&&(s=new p(this.options),t.push(s),0===n?s.appendIntoPart(this):s.insertAfterPart(t[n-1])),s.setValue(i),s.commit(),n++;n<t.length&&(t.length=n,this.clear(s&&s.endNode))}clear(e=this.startNode){Object(i.b)(this.startNode.parentNode,e.nextSibling,this.endNode)}}class m{constructor(e,t,s){if(this.value=void 0,this.__pendingValue=void 0,2!==s.length||""!==s[0]||""!==s[1])throw new Error("Boolean attributes can only contain a single expression");this.element=e,this.name=t,this.strings=s}setValue(e){this.__pendingValue=e}commit(){for(;Object(n.b)(this.__pendingValue);){const e=this.__pendingValue;this.__pendingValue=r.a,e(this)}if(this.__pendingValue===r.a)return;const e=!!this.__pendingValue;this.value!==e&&(e?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=e),this.__pendingValue=r.a}}class f extends u{constructor(e,t,s){super(e,t,s),this.single=2===s.length&&""===s[0]&&""===s[1]}_createPart(){return new v(this)}_getValue(){return this.single?this.parts[0].value:super._getValue()}commit(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}class v extends h{}let _=!1;try{const e={get capture(){return _=!0,!1}};window.addEventListener("test",e,e),window.removeEventListener("test",e,e)}catch(e){}class y{constructor(e,t,s){this.value=void 0,this.__pendingValue=void 0,this.element=e,this.eventName=t,this.eventContext=s,this.__boundHandleEvent=e=>this.handleEvent(e)}setValue(e){this.__pendingValue=e}commit(){for(;Object(n.b)(this.__pendingValue);){const e=this.__pendingValue;this.__pendingValue=r.a,e(this)}if(this.__pendingValue===r.a)return;const e=this.__pendingValue,t=this.value,s=null==e||null!=t&&(e.capture!==t.capture||e.once!==t.once||e.passive!==t.passive),i=null!=e&&(null==t||s);s&&this.element.removeEventListener(this.eventName,this.__boundHandleEvent,this.__options),i&&(this.__options=g(e),this.element.addEventListener(this.eventName,this.__boundHandleEvent,this.__options)),this.value=e,this.__pendingValue=r.a}handleEvent(e){"function"==typeof this.value?this.value.call(this.eventContext||this.element,e):this.value.handleEvent(e)}}const g=e=>e&&(_?{capture:e.capture,passive:e.passive,once:e.once}:e.capture)},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(16),i=s(11),r=s(62),a=s(1);class o extends i.default{constructor(e,t){super({knownEvents:!1}),this.graph=null,this.components=new r.default(a.default),this._name="",this._tags=new Set,this._isLocked=void 0,this.graph=e,this.id=t}static getTypeName(e){return"function"==typeof e?e.typeName:"object"==typeof e?e.constructor.typeName:e||o.typeName}get typeName(){return this.constructor.typeName}get displayTypeName(){const e=this.typeName;return"Node"===e?e:e.substr(1)}get isLocked(){return this._isLocked}get text(){return this.constructor.text}get icon(){return this.constructor.icon}get name(){return this._name}get displayName(){return this._name||this.text||this.displayTypeName}set name(e){this._name=e,this.emit({type:"change",what:"name",node:this})}get tags(){return this._tags}addTag(e){this._tags.has(e)||(this._tags.add(e),this.graph._addNodeTag(e,this))}removeTag(e){this._tags.has(e)&&(this._tags.delete(e),this.graph._removeNodeTag(e,this))}get system(){return this.graph.system}getComponent(e,t=!1){return this.components.get(e,t)}getComponents(e){return this.components.getArray(e)}getComponentsByTag(e){return this.components.getByTag(e)}getOrCreateComponent(e){return this.components.get(e,!0)||this.createComponent(e)}hasComponent(e){return this.components.has(e)}getGraphComponent(e,t=!1){return this.graph.components.get(e,t)}getGraphComponents(e){return this.graph.components.getArray(e)}getGraphComponentsByTag(e){return this.graph.components.getByTag(e)}hasGraphComponent(e){return this.graph.components.has(e)}getMainComponent(e,t=!1){return this.graph.system.graph.components.get(e,t)}getMainComponents(e){return this.graph.system.graph.components.getArray(e)}getMainComponentsByTag(e){return this.graph.system.graph.components.getByTag(e)}hasMainComponent(e){return this.graph.system.graph.components.has(e)}getSystemComponent(e,t=!1){return this.graph.system.components.get(e,t)}getSystemComponents(e){return this.graph.system.components.getArray(e)}getSystemComponentsByTag(e){return this.graph.system.components.getByTag(e)}hasSystemComponent(e){return this.graph.system.components.has(e)}getComponentById(e){return this.graph.system.components.getById(e)}getNode(e,t=!1){return this.graph.nodes.get(e,t)}getNodes(e){return this.graph.nodes.getArray(e)}getNodesByTag(e){return this.graph.nodes.getByTag(e)}hasNode(e){return this.graph.nodes.has(e)}getMainNode(e,t=!1){return this.graph.system.graph.nodes.get(e,t)}getMainNodes(e){return this.graph.system.graph.nodes.getArray(e)}getMainNodesByTag(e){return this.graph.system.graph.nodes.getByTag(e)}hasMainNode(e){return this.graph.system.graph.nodes.has(e)}getSystemNode(e,t=!1){return this.graph.system.nodes.get(e,t)}getSystemNodes(e){return this.graph.system.nodes.getArray(e)}getSystemNodesByTag(e){return this.graph.system.nodes.getByTag(e)}hasSystemNode(e){return this.graph.system.nodes.has(e)}getNodeById(e){return this.graph.system.nodes.getById(e)}lock(){if(!1===this._isLocked)throw new Error("can't lock an unlocked node again");this._isLocked=!0}unlock(){this._isLocked=!1}create(){this.graph._addNode(this)}createComponents(){}clear(){this.components.getArray().slice().forEach(e=>e.dispose())}dispose(){this.components.cloneArray().reverse().forEach(e=>e.dispose()),this.emit({type:"dispose",node:this}),this.graph&&(this.graph._removeNode(this),this.graph=null)}createComponent(e,t,s){if(!0===this._isLocked)throw new Error("node is locked, can't create component");const i=this.system.registry.getType(e);if(!i)throw new Error(`component type '${a.default.getTypeName(e)}' not registered`);const r=new i(this,s||n.default(12,this.system.components.getDictionary()));return r.create(),t&&(r.name=t),r}is(e){const t=o.getTypeName(e);let s=this;do{if((s=Object.getPrototypeOf(s)).constructor.typeName===t)return!0}while(s.constructor.typeName!==o.typeName);return!1}toString(e=!1){const t=this.components.getArray(),s=`Node '${this.name}' - ${t.length} components`;return e?s+"\n"+t.map(e=>"  "+e.toString()).join("\n"):s}dump(e=""){console.log(e+`%cNode '${this.typeName}' (${this.displayName})`,"color: blue"),this.components.getArray().forEach(t=>t.dump(e+"  "))}toJSON(){const e={},t=[];this._isLocked&&(e.locked=!0);const s=this.components.getArray();for(let e=0,n=s.length;e<n;++e){const n=s[e],i=this.componentToJSON(n);i&&(i.type=n.typeName,i.id=n.id,n.name&&(i.name=n.name),t.push(i))}return t.length>0&&(e.components=t),e}fromJSON(e){this._isLocked=!!e.locked,e.components&&e.components.forEach(e=>this.componentFromJSON(e))}componentFromJSON(e){this.createComponent(e.type,e.name,e.id).fromJSON(e)}referencesFromJSON(e){e.components&&e.components.forEach(e=>{this.components.getById(e.id).referencesFromJSON(e)})}componentToJSON(e){return e.toJSON()}_addComponent(e){if(e.isNodeSingleton&&this.components.has(e))throw new Error(`only one component of type '${e.typeName}' allowed per node`);this.components.add(e),this.graph._addComponent(e)}_removeComponent(e){this.graph._removeComponent(e),this.components.remove(e)}_addComponentTag(e,t){this.components.addByTag(e,t),this.graph._addComponentTag(e,t)}_removeComponentTag(e,t){this.graph._removeComponentTag(e,t),this.components.removeByTag(e,t)}}t.default=o,o.typeName="Node",o.text="",o.icon=""},function(e,t,s){"use strict";s.d(t,"a",(function(){return n})),s.d(t,"b",(function(){return i}));const n={},i={}},function(e,t,s){"use strict";var n=this&&this.__decorate||function(e,t,s,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r<3?i(a):r>3?i(t,s,a):i(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};Object.defineProperty(t,"__esModule",{value:!0});const i=s(1);t.types=i.types;const r=s(61),a=s(158),o=s(102);t.customElement=o.customElement,t.property=o.property,t.html=o.html;class l extends a.default{constructor(){super(...arguments),this.ins=this.addInputs(l.taskIns),this.outs=this.addOutputs(l.taskOuts),this._isActiveTask=!1,this.configuration={bracketsVisible:void 0,interfaceVisible:void 0,gridVisible:void 0,annotationsVisible:void 0},this._savedConfig={bracketsVisible:void 0,interfaceVisible:void 0,gridVisible:void 0,annotationsVisible:void 0}}get selection(){return this.getMainComponent(r.default)}get isActiveTask(){return this._isActiveTask}dispose(){this._isActiveTask&&this.deactivateTask(),super.dispose()}createView(){throw new Error("must override")}activateTask(){this._isActiveTask=!0,this.outs.isActive.setValue(!0);const e=this.configuration,t=this._savedConfig;if(void 0!==e.bracketsVisible){const s=this.selection.ins.viewportBrackets;t.bracketsVisible=s.value,s.setValue(!!e.bracketsVisible)}}deactivateTask(){const e=this._savedConfig;void 0!==e.bracketsVisible&&this.selection.ins.viewportBrackets.setValue(e.bracketsVisible),this._isActiveTask=!1,this.outs.isActive.setValue(!1)}onActiveDocument(e,t){const s=this.configuration,n=this._savedConfig;if(e&&(void 0!==n.gridVisible&&e.setup.grid.ins.visible.setValue(n.gridVisible),void 0!==n.annotationsVisible&&e.setup.viewer.ins.annotationsVisible.setValue(n.annotationsVisible),void 0!==n.interfaceVisible&&e.setup.interface.ins.visible.setValue(n.interfaceVisible)),t){if(void 0!==s.gridVisible){const e=t.setup.grid.ins.visible;n.gridVisible=e.value,e.setValue(!!s.gridVisible)}if(void 0!==s.annotationsVisible){const e=t.setup.viewer.ins.annotationsVisible;n.annotationsVisible=e.value,e.setValue(!!s.annotationsVisible)}if(void 0!==s.interfaceVisible){const e=t.setup.interface.ins.visible;n.interfaceVisible=e.value,e.setValue(!!s.interfaceVisible)}}}}t.default=l,l.typeName="CVTask",l.text="Task",l.icon="fa fa-tasks",l.taskIns={},l.taskOuts={isActive:i.types.Boolean("Task.IsActive")};class d extends o.default{constructor(e){super(e.system),this.task=null,this.task=e}firstConnected(){this.classList.add("sv-task-view")}}n([o.property({attribute:!1})],d.prototype,"task",void 0),t.TaskView=d},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=Symbol("Publisher private data"),i=Symbol("Publisher strict option");t.default=class{constructor(e){const t=!e||e.knownEvents;this[n]={[i]:t}}on(e,t,s){if(Array.isArray(e))return void e.forEach(e=>{this.on(e,t,s)});if(!t)throw new Error("missing callback function");let r=this[n][e];if(!r){if(this[n][i])throw new Error(`can't subscribe; unknown event: '${e}'`);r=this[n][e]=[]}let a={callback:t,context:s};r.push(a)}addEventListener(e,t,s){this.on(e,t,s)}once(e,t,s){if(Array.isArray(e))return void e.forEach(e=>{this.once(e,t,s)});const n=i=>{this.off(e,n,s),t.call(s,i)};n.cb=t,this.on(e,n,s)}off(e,t,s){if("object"==typeof e){if(Array.isArray(e))e.forEach(e=>{this.off(e,t,s)});else{const t=this[n];for(let s=0,n=Object.keys(t).length;s<n;++s){const s=t[e],n=[];for(let t=0,i=s.length;t<i;++t){const i=s[t];e&&i.context!==e&&n.push(i)}t[e]=n}}return}const i=this[n][e];if(!i)throw new Error(`can't unsubscribe; unknown event type: '${e}'`);const r=[];for(let e=0,n=i.length;e<n;++e){const n=i[e];(t&&t!==n.callback&&t!==n.callback.cb||s&&s!==n.context)&&r.push(n)}this[n][e]=r}removeEventListener(e,t,s){this.off(e,t,s)}emit(e,t){let s,r;if("string"==typeof e?(s=e,r=t):(s=e.type,r=e),!s)throw new Error(`empty or invalid event type: '${s}'`);const a=this[n],o=a[s];if(o)for(let e=0,t=o.length;e<t;++e){const t=o[e];t.context?t.callback.call(t.context,r):t.callback(r)}else if(a[i])throw new Error(`can't emit; unknown event type: '${s}'`)}addEvent(e){this[n][e]||(this[n][e]=[])}addEvents(...e){e.forEach(e=>{this[n][e]||(this[n][e]=[])})}hasEvent(e){return!!this[n][e]}listEvents(){return Object.getOwnPropertyNames(this[n])}}},function(e,t,s){"use strict";s.d(t,"a",(function(){return n})),s.d(t,"c",(function(){return i})),s.d(t,"b",(function(){return r}));const n=void 0!==window.customElements&&void 0!==window.customElements.polyfillWrapFlushCallback,i=(e,t,s=null,n=null)=>{for(;t!==s;){const s=t.nextSibling;e.insertBefore(t,n),t=s}},r=(e,t,s=null)=>{for(;t!==s;){const s=t.nextSibling;e.removeChild(t),t=s}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(3),i=s(1);class r extends i.default{constructor(){super(...arguments),this.ins=this.addInputs(r.ins),this.outs=this.addOutputs(r.outs),this._loadingManager=new a(this),this._baseUrl=window.location.href}get loadingManager(){return this._loadingManager}get baseUrl(){return this._baseUrl}set baseUrl(e){this._baseUrl=new URL(e,window.location.href).href}getAssetName(e){return e.split("/").pop()}getAssetUrl(e){return new URL(e,this._baseUrl).href}getAssetPath(e){const t=this._baseUrl,s=e.indexOf(t);return s>=0?e.substr(s+t.length):e}getAssetBasePath(e){const t=this.getAssetPath(e).split("/");t.pop();const s=t.join("/");return s?s+"/":s}getRelativeAssetPath(e,t){const s=this.getAssetUrl(e),n=this.getAssetUrl(t),i=s.indexOf(n);return i>=0?s.substr(i+n.length):this.getAssetPath(s)}create(){super.create()}update(){const{ins:e,outs:t}=this;if(e.busy.changed){const s=e.busy.value||this._loadingManager.isBusy;t.busy.setValue(s),s||t.completed.set()}return!0}}t.default=r,r.typeName="CVAssetManager",r.text="AssetManager",r.icon="",r.isSystemSingleton=!0,r.ins={busy:i.types.Boolean("State.Busy")},r.outs={busy:i.types.Boolean("State.Busy"),completed:i.types.Event("State.Completed")};class a extends n.LoadingManager{constructor(e){super(),this._manager=e,this._isBusy=!1,this.onStart=this.onLoadingStart.bind(this),this.onProgress=this.onLoadingProgress.bind(this),this.onLoad=this.onLoadingCompleted.bind(this),this.onError=this.onLoadingError.bind(this)}get isBusy(){return this._isBusy}onLoadingStart(){this._isBusy=!0,this._manager.ins.busy.set()}onLoadingProgress(e,t,s){0}onLoadingCompleted(){this._isBusy=!1,this._manager.ins.busy.set()}onLoadingError(){this._isBusy=!1,this._manager.ins.busy.set()}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n={PI:3.141592653589793,DOUBLE_PI:6.283185307179586,HALF_PI:1.5707963267948966,QUARTER_PI:.7853981633974483,DEG2RAD:.017453292519943295,RAD2DEG:57.29577951308232,limit:(e,t,s)=>e<t?t:e>s?s:e,limitInt:function(e,t,s){return(e=Math.trunc(e))<t?t:e>s?s:e},normalize:(e,t,s)=>(e-t)/(s-t),normalizeLimit:(e,t,s)=>(e=(e-t)/(s-t))<0?0:e>1?1:e,denormalize:(e,t,s)=>(t+e)*(s-t),scale:(e,t,s,n,i)=>n+(e-t)/(s-t)*(i-n),scaleLimit:(e,t,s,n,i)=>n+((e=e<t?t:e>s?s:e)-t)/(s-t)*(i-n),deg2rad:function(e){return.017453292519943295*e},rad2deg:function(e){return 57.29577951308232*e},deltaRadians:function(e,t){return e=(e%=n.DOUBLE_PI)<0?e+n.DOUBLE_PI:e,(t=(t%=n.DOUBLE_PI)<0?t+n.DOUBLE_PI:t)-e>n.PI&&(e+=n.DOUBLE_PI),t-e},deltaDegrees:function(e,t){return e=(e%=n.DOUBLE_PI)<0?e+n.DOUBLE_PI:e,(t=(t%=n.DOUBLE_PI)<0?t+n.DOUBLE_PI:t)-e>n.PI&&(e+=n.DOUBLE_PI),t-e},curves:{linear:e=>e,easeIn:e=>Math.sin(e*n.HALF_PI),easeOut:e=>Math.cos(e*n.HALF_PI-n.PI)+1,ease:e=>.5*Math.cos(e*n.PI-n.PI)+.5,easeInQuad:e=>e*e,easeOutQuad:e=>e*(2-e),easeQuad:e=>e<.5?2*e*e:(4-2*e)*e-1,easeInCubic:e=>e*e*e,easeOutCubic:e=>--e*e*e+1,easeCubic:e=>e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1,easeInQuart:e=>e*e*e*e,easeOutQuart:e=>1- --e*e*e*e,easeQuart:e=>e<.5?8*e*e*e*e:1-8*--e*e*e*e}};t.default=n},function(e,t,s){"use strict";var n=this&&this.__decorate||function(e,t,s,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r<3?i(a):r>3?i(t,s,a):i(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};Object.defineProperty(t,"__esModule",{value:!0});const i=s(124);t.System=i.default;const r=s(2);t.customElement=r.customElement,t.property=r.property,t.html=r.html,t.TemplateResult=r.TemplateResult;class a extends r.default{constructor(e){super(),this.system=e}}n([r.property({attribute:!1})],a.prototype,"system",void 0),t.default=a},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";t.default=function(e,t){let s;e&&"number"==typeof e||(e=12);do{s="";for(let t=0;t<e;++t)s+=n[62*Math.random()|0]}while(t&&t[s]);return s}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(3),i=s(1);t.Node=i.Node,t.types=i.types;const r=s(83),a=s(47),o=s(35);t.ERotationOrder=o.ERotationOrder;const l=new n.Vector3;class d extends i.default{constructor(e,t){super(e,t),this.ins=this.addInputs(d.object3DIns),this.outs=this.addOutputs(d.object3DOuts),this._object3D=null,this._isPickable=!1,this.addEvent("object"),this.node.components.on(this.parentComponentClass,this._onParent,this)}get parentComponentClass(){return this.constructor.parentComponentClass}get parentComponent(){return this.node.components.get(this.parentComponentClass,!0)}get transform(){return this.node.components.get(o.default,!0)}get scene(){const e=this.transform;return e?e.getParentComponent(a.default,!0):void 0}get object3D(){return this._object3D}set object3D(e){const t=this.parentComponent,s=this._object3D;s&&(s.userData.component=null,this.unregisterPickableObject3D(s,!0),s.parent&&this.onRemoveFromParent(s.parent)),this.emit({type:"object",current:s,next:e}),this._object3D=e,e&&(e.userData.component=this,e.matrixAutoUpdate=!1,e.visible=this.ins.visible.value,this.registerPickableObject3D(e,!0),t&&this.onAddToParent(t.object3D))}update(e){const{visible:t,pickable:s}=this.ins;return t.changed&&this._object3D&&(this._object3D.visible=t.value),s.changed&&s.value!==this._isPickable&&(this._isPickable=s.value,s.value?this.enablePointerEvents():this.disablePointerEvents()),!0}dispose(){this.object3D=null,this.ins.pickable.value&&this.disablePointerEvents(),this.node.components.off(this.parentComponentClass,this._onParent,this),super.dispose()}preRender(e){}postRender(e){}toString(){return super.toString()+(this._object3D?` - type: ${this._object3D.type}`:" - (null)")}onPointer(e){const t=this.outs;"pointer-down"===e.type?(t.pointerDown.set(),t.pointerActive.setValue(!0)):"pointer-up"===e.type&&(t.pointerUp.set(),t.pointerActive.setValue(!1)),e.stopPropagation=!0}enablePointerEvents(){this.on("pointer-down",this.onPointer,this),this.on("pointer-up",this.onPointer,this)}disablePointerEvents(){this.off("pointer-down",this.onPointer,this),this.off("pointer-up",this.onPointer,this);const e=this.outs;e.pointerActive.value&&(e.pointerUp.set(),e.pointerActive.setValue(!1))}updateTransform(){const e=this._object3D;if(!e)return;const{position:t,rotation:s,order:i,scale:r}=this.ins;if(t.changed||s.changed||i.changed||r.changed){e.position.fromArray(t.value),l.fromArray(s.value).multiplyScalar(n.Math.DEG2RAD);const a=i.getOptionText();e.rotation.setFromVector3(l,a),e.scale.fromArray(r.value),e.updateMatrix()}return!0}onAddToParent(e){e.add(this._object3D)}onRemoveFromParent(e){e.remove(this._object3D)}addObject3D(e){this._object3D.add(e),this.registerPickableObject3D(e,!0)}removeObject3D(e){this.unregisterPickableObject3D(e,!0),this._object3D.remove(e)}registerPickableObject3D(e,t){r.default.add(e,t)}unregisterPickableObject3D(e,t){r.default.remove(e,t)}_onParent(e){this._object3D&&!this._object3D.parent&&e.add&&this.onAddToParent(e.object.object3D)}}t.default=d,d.typeName="CObject3D",d.parentComponentClass=o.default,d.object3DIns={visible:i.types.Boolean("Object.Visible",!0),pickable:i.types.Boolean("Object.Pickable")},d.object3DOuts={pointerDown:i.types.Event("Pointer.Down"),pointerUp:i.types.Event("Pointer.Up"),pointerActive:i.types.Boolean("Pointer.Active")},d.transformIns=o.default.transformIns,d.prototype.preRender=null,d.prototype.postRender=null},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(3),i=s(28),r=s(1),a=s(17),o=s(63),l=s(31),d=s(397),c=s(89),u=s(398),h=s(50),p=s(36),m=s(27),f=new n.Vector3,v=new n.Vector3,_=new n.Quaternion,y=new n.Box3;class g extends a.default{constructor(e,t){super(e,t),this.ins=this.addInputs(g.ins),this.outs=this.addOutputs(g.outs),this._derivatives=new u.default,this._activeDerivative=null,this._visible=!0,this._boxFrame=null,this._localBoundingBox=new n.Box3,this.object3D=new n.Group}get settingProperties(){return[this.ins.visible,this.ins.quality,this.ins.localUnits,this.ins.tags,this.ins.shader,this.ins.override,this.ins.color,this.ins.opacity,this.ins.hiddenOpacity,this.ins.roughness,this.ins.metalness,this.ins.occlusion]}get derivatives(){return this._derivatives}get activeDerivative(){return this._activeDerivative}get localBoundingBox(){return this._localBoundingBox}get assetReader(){return this.getMainComponent(p.default)}get renderer(){return this.getMainComponent(m.default)}create(){super.create(),this.node.createComponent(h.default).ins.unitScale.linkFrom(this.outs.unitScale);const e=this.renderer.outs.maxTextureSize.value;e<2048?this.ins.quality.setValue(l.EDerivativeQuality.Low):e<4096?this.ins.quality.setValue(l.EDerivativeQuality.Medium):this.ins.quality.setValue(l.EDerivativeQuality.High)}update(){const e=this.ins;if(e.tags.changed||e.activeTags.changed||e.visible.changed){let t=e.visible.value;if(t){const s=e.tags.value.split(",").map(e=>e.trim()).filter(e=>e),n=e.activeTags.value.split(",").map(e=>e.trim()).filter(e=>e);t=!s.length,n.forEach(e=>{s.indexOf(e)>=0&&(t=!0)})}const s=this.ins.override.value;this._visible=t,t?(this.object3D.visible=!0,s&&this.updateMaterial()):e.visible.value&&s&&this.ins.hiddenOpacity.value>0?(this.object3D.visible=!0,this.updateMaterial()):this.object3D.visible=!1}if(e.tags.changed&&this.emit({type:"tag-update"}),!this.activeDerivative&&e.autoLoad.changed&&e.autoLoad.value)this.autoLoad(e.quality.value);else if(e.quality.changed){const t=this.derivatives.select(l.EDerivativeUsage.Web3D,e.quality.value);t&&t!==this.activeDerivative&&this.loadDerivative(t).catch(e=>{console.warn("Model.update - failed to load derivative"),console.warn(e)})}return(e.localUnits.changed||e.globalUnits.changed)&&this.updateUnitScale(),e.shader.changed&&this.updateShader(),e.override.value&&e.shader.value===c.EShaderMode.Default&&(e.override.changed||e.color.changed||e.opacity.changed||e.roughness.changed||e.metalness.changed||e.occlusion.changed)&&this.updateMaterial(),e.center.changed&&this.center(),(e.position.changed||e.rotation.changed)&&this.updateMatrixFromProps(),e.dumpDerivatives.changed&&console.log(this.derivatives.toString(!0)),!0}dispose(){this.derivatives.clear(),this._activeDerivative=null,super.dispose()}center(){const e=this.object3D,t=this.ins.position;e.matrix.decompose(f,_,v),e.matrix.makeRotationFromQuaternion(_),y.makeEmpty(),o.computeLocalBoundingBox(e,y,e.parent),y.getCenter(f),f.multiplyScalar(-1).toArray(t.value),t.set()}setFromMatrix(e){const t=this.ins;e.decompose(f,_,v),f.multiplyScalar(1/this.outs.unitScale.value).toArray(t.position.value),t.position.set(),o.quaternionToDegrees(_,g.rotationOrder,t.rotation.value),t.rotation.set()}fromDocument(e,t){const{ins:s,outs:i}=this;if(!isFinite(t.model))throw new Error("model property missing in node");const r=e.models[t.model],a=l.EUnitType[r.units||"cm"];if(s.localUnits.setValue(isFinite(a)?a:l.EUnitType.cm),s.visible.setValue(void 0===r.visible||r.visible),s.tags.setValue(r.tags||""),s.position.reset(),s.rotation.reset(),r.translation&&s.position.copyValue(r.translation),r.rotation&&(_.fromArray(r.rotation),o.quaternionToDegrees(_,g.rotationOrder,s.rotation.value),s.rotation.set()),r.boundingBox){const e=this._localBoundingBox;e.min.fromArray(r.boundingBox.min),e.max.fromArray(r.boundingBox.max),this._boxFrame=new n.Box3Helper(e,"#009cde"),this.addObject3D(this._boxFrame),i.updated.set()}if(r.derivatives&&this.derivatives.fromJSON(r.derivatives),r.material){const e=r.material;s.copyValues({override:!0,color:e.color||s.color.schema.preset,opacity:void 0!==e.opacity?e.opacity:s.opacity.schema.preset,hiddenOpacity:void 0!==e.hiddenOpacity?e.hiddenOpacity:s.hiddenOpacity.schema.preset,roughness:void 0!==e.roughness?e.roughness:s.roughness.schema.preset,metalness:void 0!==e.metalness?e.metalness:s.metalness.schema.preset,occlusion:void 0!==e.occlusion?e.occlusion:s.occlusion.schema.preset})}return r.annotations&&this.getComponent(h.default).fromData(r.annotations),this.emit({type:"tag-update"}),this.ins.autoLoad.set(),t.model}toDocument(e,t){const s={units:l.EUnitType[this.ins.localUnits.getValidatedValue()]},n=this.ins;n.visible.value||(s.visible=!1),n.tags.value&&(s.tags=n.tags.value);const i=n.position.value;0===i[0]&&0===i[1]&&0===i[2]||(s.translation=n.position.value);const r=n.rotation.value;0===r[0]&&0===r[1]&&0===r[2]||(o.degreesToQuaternion(r,g.rotationOrder,_),s.rotation=_.toArray()),n.override.value&&(s.material={color:n.color.value,opacity:n.opacity.value,hiddenOpacity:n.hiddenOpacity.value,roughness:n.roughness.value,metalness:n.metalness.value,occlusion:n.occlusion.value}),s.boundingBox={min:this._localBoundingBox.min.toArray(),max:this._localBoundingBox.max.toArray()},s.derivatives=this.derivatives.toJSON();const a=this.getComponent(h.default).toData();a&&a.length>0&&(s.annotations=a),e.models=e.models||[];const d=e.models.length;return e.models.push(s),d}updateShader(){const e=this.ins.shader.getValidatedValue();this.object3D.traverse(t=>{const s=t.material;s&&s.isUberPBRMaterial&&s.setShaderMode(e)})}updateMaterial(){const e=this.ins;this.object3D.traverse(t=>{const s=t.material;s&&s.isUberPBRMaterial&&(s.aoMapMix.setScalar(e.occlusion.value),s.color.fromArray(e.color.value),s.opacity=this._visible?e.opacity.value:e.hiddenOpacity.value,s.transparent=s.opacity<1||!!s.alphaMap,s.depthWrite=1===s.opacity,s.roughness=e.roughness.value,s.metalness=e.metalness.value)})}updateUnitScale(){const e=this.ins.localUnits.getValidatedValue(),t=this.ins.globalUnits.getValidatedValue();this.outs.unitScale.setValue(d.default(e,t)),this.updateMatrixFromProps()}updateMatrixFromProps(){const e=this.ins,t=this.outs.unitScale.value,s=this.object3D;f.fromArray(e.position.value).multiplyScalar(t),o.degreesToQuaternion(e.rotation.value,g.rotationOrder,_),v.setScalar(t),s.matrix.compose(f,_,v),s.matrixWorldNeedsUpdate=!0,this.outs.updated.set()}autoLoad(e){const t=[],s=this.derivatives.select(l.EDerivativeUsage.Web3D,l.EDerivativeQuality.Thumb);s&&t.push(s);const n=this.derivatives.select(l.EDerivativeUsage.Web3D,e);return n&&n!==s&&t.push(n),0===t.length?(i.default.show(`No 3D derivatives available for '${this.displayName}'.`),Promise.resolve()):t.reduce((e,t)=>e.then(()=>this.loadDerivative(t)),Promise.resolve())}loadDerivative(e){return e.load(this.assetReader).then(()=>{e.model&&(this._activeDerivative&&(this.removeObject3D(this._activeDerivative.model),this._activeDerivative.unload()),this._activeDerivative=e,this.addObject3D(e.model),this._boxFrame&&(this.removeObject3D(this._boxFrame),this._boxFrame.geometry.dispose(),this._boxFrame=null),o.computeLocalBoundingBox(e.model,this._localBoundingBox),this.outs.updated.set(),this.outs.quality.setValue(e.data.quality),this.ins.override&&this.updateMaterial())}).catch(e=>i.default.show(`Failed to load model derivative: ${e.message}`))}}t.default=g,g.typeName="CVModel2",g.text="Model",g.icon="cube",g.rotationOrder="ZYX",g.ins={globalUnits:r.types.Enum("Model.GlobalUnits",l.EUnitType,l.EUnitType.cm),localUnits:r.types.Enum("Model.LocalUnits",l.EUnitType,l.EUnitType.cm),quality:r.types.Enum("Model.Quality",l.EDerivativeQuality,l.EDerivativeQuality.High),tags:r.types.String("Model.Tags"),activeTags:r.types.String("Model.ActiveTags"),autoLoad:r.types.Boolean("Model.AutoLoad",!0),position:r.types.Vector3("Model.Position"),rotation:r.types.Vector3("Model.Rotation"),center:r.types.Event("Model.Center"),shader:r.types.Enum("Material.Shader",c.EShaderMode,c.EShaderMode.Default),override:r.types.Boolean("Material.Override"),color:r.types.ColorRGB("Material.BaseColor"),opacity:r.types.Percent("Material.Opacity",1),hiddenOpacity:r.types.Percent("Material.HiddenOpacity",0),roughness:r.types.Percent("Material.Roughness",.8),metalness:r.types.Percent("Material.Metalness",.1),occlusion:r.types.Percent("Material.Occlusion",.3),dumpDerivatives:r.types.Event("Derivatives.Dump")},g.outs={unitScale:r.types.Number("UnitScale",{preset:1,precision:5}),quality:r.types.Enum("LoadedQuality",l.EDerivativeQuality),updated:r.types.Event("Updated")}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(1),i=s(64),r=s(127);class a extends i.default{constructor(e,t){super(e,t),this.outs=this.addOutputs(a.outs),this.scope=i.EComponentScope.Node}createDocument(e,t){const s=this.node.createComponent(r.default);return this.activeComponent=s,e&&s.openDocument(e,t),s}amendDocument(e,t,s){const n=this.activeComponent;if(!n)throw new Error("no active document, can't amend");return n.openDocument(e,t,s),n}appendModel(e,t){const s=this.activeComponent;if(!s)throw new Error("no active document, can't append model");return s.appendModel(e,t),s}appendGeometry(e,t,s,n,i){const r=this.activeComponent;if(!r)throw new Error("no active document, can't append geometry");return r.appendGeometry(e,t,s,n,i),r}removeActiveDocument(){const e=this.activeComponent;e&&e.dispose()}activateComponent(e){e.ins.visible.setValue(!0),e.ins.active.setValue(!0)}deactivateComponent(e){e.ins.visible.setValue(!1),e.ins.active.setValue(!1)}onActiveComponent(e,t){this.outs.activeDocument.setValue(t)}onScopedComponents(){this.outs.changedDocuments.set()}}t.default=a,a.typeName="CVDocumentProvider",a.componentType=r.default,a.outs={activeDocument:n.types.Object("Documents.Active",r.default),changedDocuments:n.types.Event("Documents.Changed")}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(1);class i extends n.default{constructor(){super(...arguments),this._title="Untitled"}setTitle(e){this._title=e}sendProperty(e,t){if(ga){const s=void 0!==t?t.toString():void 0;ga("send","event",this._title,e,s)}}}t.default=i,i.typeName="CVAnalytics",i.text="Analytics",i.icon="",i.isSystemSingleton=!0},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(81),i=s(17);var r;!function(e){e[e.Low=0]="Low",e[e.Medium=1]="Medium",e[e.High=2]="High"}(r=t.EShadowMapResolution||(t.EShadowMapResolution={}));const a={[r.Low]:512,[r.Medium]:1024,[r.High]:2048};class o extends i.default{constructor(){super(...arguments),this.ins=this.addInputs(o.lightIns)}get light(){return this.object3D}update(e){super.update(e);const t=this.light,s=this.ins;if((s.color.changed||s.intensity.changed)&&(t.color.fromArray(s.color.value),t.intensity=s.intensity.value),s.shadowEnabled.changed||s.shadowEnabled.value&&(s.shadowResolution.changed||s.shadowBlur.changed)){t.castShadow=s.shadowEnabled.value;const e=a[s.shadowResolution.getValidatedValue()];t.shadow.mapSize.set(e,e),t.shadow.radius=s.shadowBlur.value}return!0}}t.default=o,o.typeName="CLight",o.lightIns={color:n.types.ColorRGB("Light.Color"),intensity:n.types.Number("Light.Intensity",1),shadowEnabled:n.types.Boolean("Shadow.Enabled"),shadowResolution:n.types.Enum("Shadow.Resolution",r,r.Medium),shadowBlur:n.types.Number("Shadow.Blur",1)}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(2);t.customElement=n.customElement,t.property=n.property,t.html=n.html,t.TemplateResult=n.TemplateResult;const i=s(15),r=s(19);class a extends i.default{constructor(){super(...arguments),this.activeDocument=null}get documentProvider(){return this.system.getMainComponent(r.default)}connected(){const e=this.documentProvider;e.on("active-component",this.onActiveDocumentEvent,this);const t=e.activeComponent;t&&(this.activeDocument=t,this.onActiveDocument(null,t))}disconnected(){this.documentProvider.off("active-component",this.onActiveDocumentEvent,this);const e=this.activeDocument;e&&(this.activeDocument=null,this.onActiveDocument(e,null))}onActiveDocument(e,t){}onActiveDocumentEvent(e){this.activeDocument=e.next,this.onActiveDocument(e.previous,e.next)}}t.default=a},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(1),i=s(64),r=s(10),a=s(105);t.ETaskMode=a.ETaskMode;class o extends i.default{constructor(e,t){super(e,t),this.ins=this.addInputs(o.ins),this.scope=i.EComponentScope.Node}get expertMode(){return this.ins.mode.getValidatedValue()===a.ETaskMode.Expert}update(e){const t=this.ins;if(t.mode.changed){this.scopedComponents.forEach(e=>e.dispose()),a.default[t.mode.getValidatedValue()].forEach(e=>this.createComponent(e))}return!0}activateComponent(e){e.activateTask()}deactivateComponent(e){e.deactivateTask()}onActiveComponent(e,t){}}t.default=o,o.typeName="CVTaskProvider",o.isSystemSingleton=!0,o.componentType=r.default,o.ins={mode:n.types.Enum("Tasks.Mode",a.ETaskMode)}},function(e,t,s){"use strict";s.d(t,"b",(function(){return i})),s.d(t,"a",(function(){return r}));var n=s(4);function i(e){let t=r.get(e.type);void 0===t&&(t={stringsArray:new WeakMap,keyString:new Map},r.set(e.type,t));let s=t.stringsArray.get(e.strings);if(void 0!==s)return s;const i=e.strings.join(n.f);return void 0===(s=t.keyString.get(i))&&(s=new n.a(e,e.getTemplateElement()),t.keyString.set(i,s)),t.stringsArray.set(e.strings,s),s}const r=new Map},function(e,t,s){"use strict";s.d(t,"a",(function(){return i})),s.d(t,"b",(function(){return r}));const n=new WeakMap,i=e=>(...t)=>{const s=e(...t);return n.set(s,!0),s},r=e=>"function"==typeof e&&n.has(e)},function(e,t,s){"use strict";s.d(t,"a",(function(){return a})),s.d(t,"b",(function(){return o}));var n=s(12),i=s(7),r=s(24);const a=new WeakMap,o=(e,t,s)=>{let o=a.get(t);void 0===o&&(Object(n.b)(t,t.firstChild),a.set(t,o=new i.e(Object.assign({templateFactory:r.b},s))),o.appendInto(t)),o.setValue(e),o.commit()}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(1),i=s(84);class r extends n.default{constructor(e,t){super(e,t),this.ins=this.addInputs(r.ins),this.outs=this.addOutputs(r.outs),this.views=[],this._activeSceneComponent=null,this._forceRender=!1,this.addEvents("active-scene","active-camera")}get activeSceneComponent(){return this._activeSceneComponent}set activeSceneComponent(e){if(e!==this._activeSceneComponent){const t=this._activeSceneComponent,s=this.activeCameraComponent;t&&t.off("active-camera",this.onActiveCamera,this),e&&e.on("active-camera",this.onActiveCamera,this),this._activeSceneComponent=e;const n=this.activeCameraComponent,i={type:"active-scene",previous:t,next:e};this.emit(i);const r={type:"active-camera",previous:s,next:n};this.emit(r)}}get activeSceneGraph(){return this._activeSceneComponent?this._activeSceneComponent.graph:null}get activeScene(){return this._activeSceneComponent?this._activeSceneComponent.scene:null}get activeCameraComponent(){return this._activeSceneComponent?this._activeSceneComponent.activeCameraComponent:null}get activeCamera(){const e=this._activeSceneComponent?this._activeSceneComponent.activeCameraComponent:null;return e?e.camera:null}forceRender(){this._forceRender=!0}create(){super.create(),this.trackComponent(i.default,e=>{e.on("pulse",this.onPulse,this)},e=>{e.off("pulse",this.onPulse,this)})}update(){const e=this.ins;if(e.shadowsEnabled.changed&&this.views.forEach(t=>t.renderer.shadowMap.enabled=e.shadowsEnabled.value),e.exposure.changed&&this.views.forEach(t=>t.renderer.toneMappingExposure=e.exposure.value),e.gamma.changed){this.views.forEach(t=>t.renderer.gammaFactor=e.gamma.value);const t=this.activeScene;t&&t.traverse(e=>{const t=e;t.isMesh&&(Array.isArray(t.material)?t.material.forEach(e=>e.needsUpdate=!0):t.material.needsUpdate=!0)})}return!0}attachView(e){if(0===this.views.length){const t=e.renderer,s=this.outs;s.maxTextureSize.setValue(t.capabilities.maxTextureSize),s.maxCubemapSize.setValue(t.capabilities.maxCubemapSize)}this.views.push(e)}detachView(e){const t=this.views.indexOf(e);if(t<0)throw new Error("render view not registered");this.views.splice(t,1)}logInfo(){this.views.forEach(e=>{console.log(e.renderer.info)})}onPulse(e){(e.systemUpdated||this._forceRender)&&(this.views.forEach(e=>{e.render()}),this._forceRender=!1)}onActiveCamera(e){this.emit(e)}}t.default=r,r.typeName="CRenderer",r.isSystemSingleton=!0,r.ins={exposure:n.types.Number("Shading.Exposure",1),gamma:n.types.Number("Shading.Gamma",2),shadowsEnabled:n.types.Boolean("Shadows.Enabled",!0)},r.outs={maxTextureSize:n.types.Integer("Caps.MaxTextureSize"),maxCubemapSize:n.types.Integer("Caps.MaxCubemapSize")}},function(e,t,s){"use strict";var n,i=this&&this.__decorate||function(e,t,s,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r<3?i(a):r>3?i(t,s,a):i(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};Object.defineProperty(t,"__esModule",{value:!0}),s(29);const r=s(2),a={info:"ff-info",success:"ff-success",warning:"ff-warning",error:"ff-error"},o={info:"info",success:"check",warning:"warning",error:"error"},l={info:2e3,success:2e3,warning:5e3,error:0};let d=n=class extends r.default{constructor(e,t,s){super(),this._handler=0,this.on("transitionend",this.remove.bind(this)),this.message=e||"<messge>",this.level=t||"info",this.timeout=void 0!==s?s:l[this.level];const i=document.getElementById(n.stackId);i?i.appendChild(this):console.warn(`element '#${n.stackId}' not found`)}static show(e,t,s){new n(e,t,s)}close(){this._handler>0&&(window.clearTimeout(this._handler),this._handler=0),this.classList.add("ff-out")}firstUpdated(){this.classList.add("ff-notification",a[this.level]),this.timeout>0&&(this._handler=window.setTimeout(()=>this.close(),this.timeout))}render(){const e=o[this.level];return r.html`<ff-icon name=${e}></ff-icon>
            <div class="ff-text">${this.message}</div>
            <ff-button inline icon="close" @click=${this.onClose}>`}onClose(e){e.stopPropagation(),this.close()}};d.stackId="ff-notification-stack",i([r.property({type:String})],d.prototype,"message",void 0),i([r.property({type:String})],d.prototype,"level",void 0),i([r.property({type:Number})],d.prototype,"timeout",void 0),d=n=i([r.customElement("ff-notification")],d),t.default=d,t.info=(e,t)=>new d(e,"info",t),t.success=(e,t)=>new d(e,"success",t),t.warning=(e,t)=>new d(e,"warning",t),t.error=(e,t)=>new d(e,"error",t)},function(e,t,s){"use strict";var n,i=this&&this.__decorate||function(e,t,s,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r<3?i(a):r>3?i(t,s,a):i(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};Object.defineProperty(t,"__esModule",{value:!0});const r=s(2);t.html=r.html;let a=n=class extends r.default{constructor(e){super(),this.template=null,this.name=e||""}static add(e,t){if(n.templates[e])throw new Error(`icon already registered: '${e}'`);n.templates[e]=t}static getTemplateNames(){return Object.keys(n.templates)}firstConnected(){this.classList.add("ff-icon")}render(){if(this.name){const e=this.constructor.templates[this.name];return e||console.warn(`icon not found: '${this.name}'`),e}return this.template?this.template:r.html`[icon undefined]`}};a.templates={},i([r.property({attribute:!1})],a.prototype,"template",void 0),i([r.property({type:String})],a.prototype,"name",void 0),a=n=i([r.customElement("ff-icon")],a),t.default=a,a.add("empty",r.html``),a.add("check",r.html`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg>`),a.add("close",r.html`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 352 512"><path d="M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"/></svg>`),a.add("grip",r.html`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M149.333 56v80c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V56c0-13.255 10.745-24 24-24h101.333c13.255 0 24 10.745 24 24zm181.334 240v-80c0-13.255-10.745-24-24-24H205.333c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24h101.333c13.256 0 24.001-10.745 24.001-24zm32-240v80c0 13.255 10.745 24 24 24H488c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24H386.667c-13.255 0-24 10.745-24 24zm-32 80V56c0-13.255-10.745-24-24-24H205.333c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24h101.333c13.256 0 24.001-10.745 24.001-24zm-205.334 56H24c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24h101.333c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24zM0 376v80c0 13.255 10.745 24 24 24h101.333c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H24c-13.255 0-24 10.745-24 24zm386.667-56H488c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H386.667c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24zm0 160H488c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H386.667c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24zM181.333 376v80c0 13.255 10.745 24 24 24h101.333c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H205.333c-13.255 0-24 10.745-24 24z"/></svg>`),a.add("up",r.html`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"/></svg>`),a.add("down",r.html`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M413.1 222.5l22.2 22.2c9.4 9.4 9.4 24.6 0 33.9L241 473c-9.4 9.4-24.6 9.4-33.9 0L12.7 278.6c-9.4-9.4-9.4-24.6 0-33.9l22.2-22.2c9.5-9.5 25-9.3 34.3.4L184 343.4V56c0-13.3 10.7-24 24-24h32c13.3 0 24 10.7 24 24v287.4l114.8-120.5c9.3-9.8 24.8-10 34.3-.4z"/></svg>`),a.add("caret-up",r.html`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path d="M288.662 352H31.338c-17.818 0-26.741-21.543-14.142-34.142l128.662-128.662c7.81-7.81 20.474-7.81 28.284 0l128.662 128.662c12.6 12.599 3.676 34.142-14.142 34.142z"/></svg>`),a.add("caret-down",r.html`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path d="M31.3 192h257.3c17.8 0 26.7 21.5 14.1 34.1L174.1 354.8c-7.8 7.8-20.5 7.8-28.3 0L17.2 226.1C4.6 213.5 13.5 192 31.3 192z"/></svg>`),a.add("folder",r.html`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M464 128H272l-64-64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V176c0-26.51-21.49-48-48-48z"/></svg>`),a.add("file",r.html`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48z"/></svg>`),a.add("info",r.html`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"/></svg>`),a.add("warning",r.html`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"/></svg>`),a.add("error",r.html`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"/></svg>`),a.add("prompt",r.html`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z"/></svg>`)},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(395),i=s(396),r=s(1),a=s(95);class o extends r.default{constructor(){super(...arguments),this.collection=new i.default,this.process=new i.default,this.images=new i.default,this.articles=new n.default,this.leadArticle=null,this.notes=[]}fromDocument(e,t){if(!isFinite(t.meta))throw new Error("info property missing in node");const s=e.metas[t.meta];if(s.collection&&(this.collection.dictionary=s.collection),s.process&&(this.process.dictionary=s.process),s.images){const e={};s.images.forEach(t=>e[t.quality]=t),this.images.dictionary=e}return s.articles&&(this.articles.items=s.articles.map(e=>a.default.fromJSON(e)),void 0!==s.leadArticle&&(this.leadArticle=this.articles.getAt(s.leadArticle))),this.emit("load"),t.meta}toDocument(e,t){let s=null;if(this.collection.length>0&&(s={collection:this.collection.dictionary}),this.process.length>0&&((s=s||{}).process=this.process.dictionary),this.images.length>0&&((s=s||{}).images=this.images.items),this.articles.length>0){s=s||{};const e=this.articles.items;s.articles=e.map(e=>e.toJSON()),this.leadArticle&&(s.leadArticle=e.indexOf(this.leadArticle))}if(s){e.metas=e.metas||[];const t=e.metas.length;return e.metas.push(s),t}}}t.default=o,o.typeName="CVMeta",o.text="Meta",o.icon="document"},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(67);t.EUnitType=n.EUnitType,function(e){e[e.Image2D=0]="Image2D",e[e.Web3D=1]="Web3D",e[e.Print3D=2]="Print3D",e[e.Editorial3D=3]="Editorial3D"}(t.EDerivativeUsage||(t.EDerivativeUsage={})),function(e){e[e.Thumb=0]="Thumb",e[e.Low=1]="Low",e[e.Medium=2]="Medium",e[e.High=3]="High",e[e.Highest=4]="Highest",e[e.LOD=5]="LOD",e[e.Stream=6]="Stream"}(t.EDerivativeQuality||(t.EDerivativeQuality={})),function(e){e[e.Model=0]="Model",e[e.Geometry=1]="Geometry",e[e.Image=2]="Image",e[e.Texture=3]="Texture",e[e.Points=4]="Points",e[e.Volume=5]="Volume"}(t.EAssetType||(t.EAssetType={})),function(e){e[e.Color=0]="Color",e[e.Emissive=1]="Emissive",e[e.Occlusion=2]="Occlusion",e[e.Normal=3]="Normal",e[e.MetallicRoughness=4]="MetallicRoughness",e[e.Zone=5]="Zone"}(t.EMapType||(t.EMapType={}))},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(3),i=s(1),r=s(67),a=s(94),o=s(18),l=new n.Vector3;class d extends a.default{constructor(){super(...arguments),this.ins=this.addInputs(d.ins),this.outs=this.addOutputs(d.outs)}get settingProperties(){return null}get snapshotProperties(){return null}get models(){return this.getGraphComponents(o.default)}create(){super.create(),this.outs.boundingBox.setValue(new n.Box3),this.graph.components.on(o.default,this.onModelComponent,this),this.models.forEach(e=>{e.ins.globalUnits.linkFrom(this.ins.units),this.ins.modelUpdated.linkFrom(e.outs.updated)})}update(e){const t=this.ins;return t.units.changed&&this.updateModelBoundingBox(),t.modelUpdated.changed&&this.updateModelBoundingBox(),!0}dispose(){this.graph.components.off(o.default,this.onModelComponent,this),super.dispose()}fromDocument(e,t){this.ins.units.setValue(r.EUnitType[t.units]||0)}toDocument(e,t){t.units=r.EUnitType[this.ins.units.getValidatedValue()]}onModelComponent(e){const t=e.object;e.add&&(t.ins.globalUnits.linkFrom(this.ins.units),this.ins.modelUpdated.linkFrom(t.outs.updated)),this.updateModelBoundingBox()}updateModelBoundingBox(){const e=this.outs.boundingBox.value;e.makeEmpty(),this.models.forEach(t=>e.expandByObject(t.object3D)),e.getSize(l),this.outs.boundingBox.set(),this.outs.boundingRadius.setValue(.5*l.length())}}t.default=d,d.typeName="CVScene",d.text="Scene",d.icon="hierarchy",d.ins={units:i.types.Enum("Scene.Units",r.EUnitType,r.EUnitType.cm),modelUpdated:i.types.Event("Scene.ModelUpdated")},d.outs={boundingBox:i.types.Object("Models.BoundingBox",n.Box3),boundingRadius:i.types.Number("Models.BoundingRadius")}},function(e,t,s){"use strict";var n,i=this&&this.__decorate||function(e,t,s,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r<3?i(a):r>3?i(t,s,a):i(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};Object.defineProperty(t,"__esModule",{value:!0});const r=s(2);let a=n=class extends r.default{constructor(){super(),this.direction="horizontal",this.width=5,this.margin=20,this.detached=!1,this._isActive=!1,this._offset=0,this._position=0,this.addEventListener("pointerdown",e=>this.onPointerDown(e)),this.addEventListener("pointermove",e=>this.onPointerMove(e)),this.addEventListener("pointerup",e=>this.onPointerUpOrCancel(e)),this.addEventListener("pointercancel",e=>this.onPointerUpOrCancel(e))}get position(){return this._position}isHorizontal(){return"horizontal"===this.direction}update(e){super.update(e);const t=this.isHorizontal(),s=this.width;this.setStyle({padding:t?`0 ${s}px`:`${s}px 0`,margin:t?`0 ${-s}px`:`${-s}px 0`,cursor:t?"col-resize":"row-resize"})}firstUpdated(){this.classList.add("ff-splitter"),this.setAttribute("touch-action","none"),this.setStyle({position:"relative",display:"block",zIndex:"1",touchAction:"none"})}onPointerDown(e){if(e.isPrimary){e.stopPropagation(),e.preventDefault(),this._isActive=!0,this.setPointerCapture(e.pointerId);const t=this.getBoundingClientRect();this._offset=this.isHorizontal()?t.left+.5*t.width-e.clientX:t.top+.5*t.height-e.clientY}}onPointerMove(e){if(e.isPrimary&&this._isActive){e.stopPropagation(),e.preventDefault();const t=this.parentElement;if(!t)return;const s=t.getBoundingClientRect(),i=this.isHorizontal(),r=i?s.width:s.height;let a=this._offset+(i?e.clientX-s.left:e.clientY-s.top),o=a/r;if(!this.detached){const e=this.previousElementSibling,s=this.nextElementSibling;if(e instanceof HTMLElement&&s instanceof HTMLElement){const l=Array.from(t.children);let d=0,c=r,u=!1;l.forEach(t=>{if(t instanceof n)return;if(t===e||t===s)return void(u=!0);const r=t.getBoundingClientRect(),a=i?r.width:r.height;c-=a,u||(d+=a)});const h=this.margin,p=c-h,m=(c-(a=(a-=d)<h?h:a>p?p:a))/r;o=a/r,e.style.flexBasis=(100*o).toFixed(3)+"%",s.style.flexBasis=(100*m).toFixed(3)+"%",setTimeout(()=>window.dispatchEvent(new CustomEvent("resize")),0)}}this._position=o,this.dispatchEvent(new CustomEvent(n.changeEvent,{detail:{direction:this.direction,position:this._position,isDragging:!0}}))}}onPointerUpOrCancel(e){e.isPrimary&&(e.stopPropagation(),e.preventDefault(),this._isActive=!1,this.dispatchEvent(new CustomEvent(n.changeEvent,{detail:{direction:this.direction,position:this._position,isDragging:!1}})))}};a.changeEvent="ff-splitter-change",i([r.property({type:String})],a.prototype,"direction",void 0),i([r.property({type:Number})],a.prototype,"width",void 0),i([r.property({type:Number})],a.prototype,"margin",void 0),i([r.property({type:Boolean})],a.prototype,"detached",void 0),a=n=i([r.customElement("ff-splitter")],a),t.default=a},function(e,t,s){"use strict";s.d(t,"b",(function(){return a})),s.d(t,"a",(function(){return o}));var n=s(12),i=s(4);const r=` ${i.f} `;class a{constructor(e,t,s,n){this.strings=e,this.values=t,this.type=s,this.processor=n}getHTML(){const e=this.strings.length-1;let t="",s=!1;for(let n=0;n<e;n++){const e=this.strings[n],a=e.lastIndexOf("\x3c!--");s=(a>-1||s)&&-1===e.indexOf("--\x3e",a+1);const o=i.e.exec(e);t+=null===o?e+(s?r:i.g):e.substr(0,o.index)+o[1]+o[2]+i.b+o[3]+i.f}return t+=this.strings[e]}getTemplateElement(){const e=document.createElement("template");return e.innerHTML=this.getHTML(),e}}class o extends a{getHTML(){return`<svg>${super.getHTML()}</svg>`}getTemplateElement(){const e=super.getTemplateElement(),t=e.content,s=t.firstChild;return t.removeChild(s),Object(n.c)(t,s.firstChild),e}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(3),i=s(14),r=s(1);t.types=r.types;const a=s(85),o=new n.Vector3,l=new n.Vector3,d=new n.Quaternion,c=new n.Euler;var u;!function(e){e[e.XYZ=0]="XYZ",e[e.YZX=1]="YZX",e[e.ZXY=2]="ZXY",e[e.XZY=3]="XZY",e[e.YXZ=4]="YXZ",e[e.ZYX=5]="ZYX"}(u=t.ERotationOrder||(t.ERotationOrder={}));class h extends a.default{constructor(e,t){super(e,t),this.ins=this.addInputs(h.transformIns),this.outs=this.addOutputs(h.transformOuts),this._object3D=this.createObject3D(),this._object3D.matrixAutoUpdate=!1}get transform(){return this}get object3D(){return this._object3D}get children(){return this._children||[]}get matrix(){return this._object3D.matrix}update(e){const t=this._object3D,{position:s,rotation:n,order:r,scale:a}=this.ins,{matrix:l}=this.outs;t.position.fromArray(s.value),o.fromArray(n.value).multiplyScalar(i.default.DEG2RAD);const d=r.getOptionText();return t.rotation.setFromVector3(o,d),t.scale.fromArray(a.value),t.updateMatrix(),t.matrix.toArray(l.value),l.set(),!0}dispose(){this._object3D&&(this._object3D.children.slice().forEach(e=>this._object3D.remove(e)),this._object3D.parent&&this._object3D.parent.remove(this._object3D)),super.dispose()}setPropertiesFromMatrix(e){const t=!e;e=e||this._object3D.matrix;const{position:s,rotation:n,order:r,scale:a}=this.ins;e.decompose(o,d,l),o.toArray(s.value);const u=r.getOptionText();c.setFromQuaternion(d,u),c.toVector3(o),o.multiplyScalar(i.default.RAD2DEG).toArray(n.value),l.toArray(a.value),s.set(t),n.set(t),a.set(t)}addChild(e){super.addChild(e),this._object3D.add(e._object3D)}removeChild(e){this._object3D.remove(e._object3D),super.removeChild(e)}createObject3D(){return new n.Object3D}}t.default=h,h.typeName="CTransform",h.transformIns={position:r.types.Vector3("Transform.Position"),rotation:r.types.Vector3("Transform.Rotation"),order:r.types.Enum("Transform.Order",u),scale:r.types.Scale3("Transform.Scale")},h.transformOuts={matrix:r.types.Matrix4("Transform.Matrix")}},function(e,t,s){"use strict";var n=this&&this.__awaiter||function(e,t,s,n){return new(s||(s=Promise))((function(i,r){function a(e){try{l(n.next(e))}catch(e){r(e)}}function o(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(a,o)}l((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=s(87),r=s(1),a=s(339),o=s(340),l=s(345),d=s(348),c=s(126),u=s(13);class h extends r.default{constructor(e,t){super(e,t);const s=this.assetManager.loadingManager;this.jsonLoader=new a.default(s),this.modelLoader=new o.default(s),this.geometryLoader=new l.default(s),this.textureLoader=new d.default(s),this.fontReader=new c.default(s)}get assetManager(){return this.getMainComponent(u.default)}getJSON(e){return n(this,void 0,void 0,(function*(){const t=this.assetManager.getAssetUrl(e);return this.jsonLoader.get(t)}))}getText(e){return n(this,void 0,void 0,(function*(){const t=this.assetManager.getAssetUrl(e);return i.default.text(t,"GET")}))}getModel(e){return n(this,void 0,void 0,(function*(){const t=this.assetManager.getAssetUrl(e);return this.modelLoader.get(t)}))}getGeometry(e){return n(this,void 0,void 0,(function*(){const t=this.assetManager.getAssetUrl(e);return this.geometryLoader.get(t)}))}getTexture(e){return n(this,void 0,void 0,(function*(){const t=this.assetManager.getAssetUrl(e);return this.textureLoader.get(t)}))}getFont(e){return n(this,void 0,void 0,(function*(){const t=this.assetManager.getAssetUrl(e);return this.fontReader.load(t)}))}}t.default=h,h.typeName="CVAssetReader",h.text="AssetReader",h.icon="",h.isSystemSingleton=!0},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var s=function(){};s.prototype=t.prototype,e.prototype=new s,e.prototype.constructor=e}},function(e,t,s){"use strict";var n=this&&this.__decorate||function(e,t,s,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r<3?i(a):r>3?i(t,s,a):i(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};Object.defineProperty(t,"__esModule",{value:!0});const i=s(1);t.types=i.types;const r=s(158),a=s(20),o=s(102);t.customElement=o.customElement,t.property=o.property,t.html=o.html;class l extends r.default{constructor(){super(...arguments),this.ins=this.addInputs(l.toolIns),this.outs=this.addOutputs(l.toolOuts),this._isActiveTool=!1}get isActiveTool(){return this._isActiveTool}dispose(){this._isActiveTool&&this.deactivateTool(),super.dispose()}createView(){throw new Error("must override")}activateTool(){this._isActiveTool=!0,this.startObserving()}deactivateTool(){this.stopObserving(),this._isActiveTool=!1}}t.default=l,l.typeName="CVTool",l.toolIns={},l.toolOuts={};class d extends o.default{constructor(e){super(e.system),this.tool=null,this.tool=e}get analytics(){return this.system.getMainComponent(a.default)}firstConnected(){this.classList.add("sv-group","sv-tool-view")}connected(){super.connected(),this.tool.on("update",this.onUpdate,this)}disconnected(){this.tool.off("update",this.onUpdate,this),super.disconnected()}}n([o.property({attribute:!1})],d.prototype,"tool",void 0),t.ToolView=d},function(e,t,s){"use strict";var n=s(77),i=Object.keys||function(e){var t=[];for(var s in e)t.push(s);return t};e.exports=u;var r=s(59);r.inherits=s(37);var a=s(184),o=s(110);r.inherits(u,a);for(var l=i(o.prototype),d=0;d<l.length;d++){var c=l[d];u.prototype[c]||(u.prototype[c]=o.prototype[c])}function u(e){if(!(this instanceof u))return new u(e);a.call(this,e),o.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",h)}function h(){this.allowHalfOpen||this._writableState.ended||n.nextTick(p,this)}function p(e){e.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),u.prototype._destroy=function(e,t){this.push(null),this.end(),n.nextTick(t,e)}},function(e,t,s){"use strict";s.d(t,"a",(function(){return r}));var n=s(12),i=s(4);class r{constructor(e,t,s){this.__parts=[],this.template=e,this.processor=t,this.options=s}update(e){let t=0;for(const s of this.__parts)void 0!==s&&s.setValue(e[t]),t++;for(const e of this.__parts)void 0!==e&&e.commit()}_clone(){const e=n.a?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),t=[],s=this.template.parts,r=document.createTreeWalker(e,133,null,!1);let a,o=0,l=0,d=r.nextNode();for(;o<s.length;)if(a=s[o],Object(i.d)(a)){for(;l<a.index;)l++,"TEMPLATE"===d.nodeName&&(t.push(d),r.currentNode=d.content),null===(d=r.nextNode())&&(r.currentNode=t.pop(),d=r.nextNode());if("node"===a.type){const e=this.processor.handleTextExpression(this.options);e.insertAfterNode(d.previousSibling),this.__parts.push(e)}else this.__parts.push(...this.processor.handleAttributeExpressions(d,a.name,a.strings,this.options));o++}else this.__parts.push(void 0),o++;return n.a&&(document.adoptNode(e),customElements.upgrade(e)),e}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(62),i=s(81),r=s(1),a=s(8),o=s(46),l=s(329);class d extends l.default{constructor(e,t){super(e,t),this.outs=this.addOutputs(d.selOuts),this.multiSelect=!1,this.exclusiveSelect=!0,this.selectedNodes=new n.default(a.default),this.selectedComponents=new n.default(r.default),this._activeGraph=null,this.addEvents("select-node","select-component","active-graph","update"),this.selectedNodes.on(a.default,e=>this.onSelectNode(e.object,e.add)),this.selectedComponents.on(r.default,e=>this.onSelectComponent(e.object,e.add)),this._activeGraph=this.system.graph}getSelectedNode(e){return this.selectedNodes.get(e,!0)}getSelectedNodes(e){return this.selectedNodes.getArray(e)}getSelectedComponent(e){return this.selectedComponents.get(e,!0)}getSelectedComponents(e){return this.selectedComponents.getArray(e)}get activeGraph(){return this._activeGraph}set activeGraph(e){if(e!==this.activeGraph){this.clearSelection();const t=this._activeGraph;this._activeGraph=e,this.onActiveGraph(e),this.emit({type:"active-graph",previous:t,next:e})}}hasParentGraph(){return this._activeGraph&&this._activeGraph.parent}activateParentGraph(){this._activeGraph&&this._activeGraph.parent.graph&&(this.activeGraph=this._activeGraph.parent.graph)}hasChildGraph(){return this.selectedComponents.has(o.default)}activateChildGraph(){const e=this.selectedComponents.get(o.default,!0);e&&(this.activeGraph=e.innerGraph)}create(){super.create(),this.system.nodes.on(a.default,this.onSystemNode,this),this.system.components.on(r.default,this.onSystemComponent,this)}dispose(){this.system.nodes.off(a.default,this.onSystemNode,this),this.system.components.off(r.default,this.onSystemComponent,this),super.dispose()}createActions(e){return{selectNode:e.register({name:"Select Node",do:this.selectNode,target:this}),selectComponent:e.register({name:"Select Component",do:this.selectComponent,target:this}),clearSelection:e.register({name:"Clear Selection",do:this.clearSelection,target:this})}}nodeContainsSelectedComponent(e){const t=e.components.getArray();for(let e=0,s=t.length;e<s;++e)if(this.selectedComponents.contains(t[e]))return!0;return!1}selectNode(e,t=!1){this.activeGraph=e.graph;const s=this.selectedNodes,n=this.multiSelect&&t;e&&s.contains(e)?n&&s.remove(e):(this.exclusiveSelect&&this.selectedComponents.clear(),n||s.clear(),e&&s.add(e)),this.updateStats()}selectComponent(e,t=!1){this.activeGraph=e.graph;const s=this.selectedComponents,n=this.multiSelect&&t;e&&s.contains(e)?n&&s.remove(e):(this.exclusiveSelect&&this.selectedNodes.clear(),n||s.clear(),e&&s.add(e)),this.updateStats()}clearSelection(){this.selectedNodes.clear(),this.selectedComponents.clear(),this.updateStats()}onSelectNode(e,t){}onSelectComponent(e,t){}onActiveGraph(e){}onSystemNode(e){e.remove&&this.selectedNodes.contains(e.object)&&(this.selectedNodes.remove(e.object),this.updateStats())}onSystemComponent(e){e.remove&&this.selectedComponents.contains(e.object)&&(this.selectedComponents.remove(e.object),this.updateStats())}updateStats(){const e=this.outs;e.selNodeCount.setValue(this.selectedNodes.length),e.selComponentCount.setValue(this.selectedComponents.length)}}t.default=d,d.typeName="CSelection",d.selOuts={selNodeCount:i.types.Integer("Selection.Nodes"),selComponentCount:i.types.Integer("Selection.Components")}},function(e,t,s){"use strict";function n(e,t,s){var n=s?" !== ":" === ",i=s?" || ":" && ",r=s?"!":"",a=s?"":"!";switch(e){case"null":return t+n+"null";case"array":return r+"Array.isArray("+t+")";case"object":return"("+r+t+i+"typeof "+t+n+'"object"'+i+a+"Array.isArray("+t+"))";case"integer":return"(typeof "+t+n+'"number"'+i+a+"("+t+" % 1)"+i+t+n+t+")";default:return"typeof "+t+n+'"'+e+'"'}}e.exports={copy:function(e,t){for(var s in t=t||{},e)t[s]=e[s];return t},checkDataType:n,checkDataTypes:function(e,t){switch(e.length){case 1:return n(e[0],t,!0);default:var s="",i=r(e);for(var a in i.array&&i.object&&(s=i.null?"(":"(!"+t+" || ",s+="typeof "+t+' !== "object")',delete i.null,delete i.array,delete i.object),i.number&&delete i.integer,i)s+=(s?" && ":"")+n(a,t,!0);return s}},coerceToTypes:function(e,t){if(Array.isArray(t)){for(var s=[],n=0;n<t.length;n++){var r=t[n];i[r]?s[s.length]=r:"array"===e&&"array"===r&&(s[s.length]=r)}if(s.length)return s}else{if(i[t])return[t];if("array"===e&&"array"===t)return["array"]}},toHash:r,getProperty:l,escapeQuotes:d,equal:s(92),ucs2length:s(354),varOccurences:function(e,t){t+="[^0-9]";var s=e.match(new RegExp(t,"g"));return s?s.length:0},varReplace:function(e,t,s){return t+="([^0-9])",s=s.replace(/\$/g,"$$$$"),e.replace(new RegExp(t,"g"),s+"$1")},cleanUpCode:function(e){return e.replace(c,"").replace(u,"").replace(h,"if (!($1))")},finalCleanUpCode:function(e,t){var s=e.match(p);s&&2==s.length&&(e=t?e.replace(f,"").replace(y,g):e.replace(m,"").replace(v,_));return(s=e.match(b))&&3===s.length?e.replace(M,""):e},schemaHasRules:function(e,t){if("boolean"==typeof e)return!e;for(var s in e)if(t[s])return!0},schemaHasRulesExcept:function(e,t,s){if("boolean"==typeof e)return!e&&"not"!=s;for(var n in e)if(n!=s&&t[n])return!0},schemaUnknownRules:function(e,t){if("boolean"==typeof e)return;for(var s in e)if(!t[s])return s},toQuotedString:w,getPathExpr:function(e,t,s,n){return T(e,s?"'/' + "+t+(n?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):n?"'[' + "+t+" + ']'":"'[\\'' + "+t+" + '\\']'")},getPath:function(e,t,s){var n=w(s?"/"+E(t):l(t));return T(e,n)},getData:function(e,t,s){var n,i,r,a;if(""===e)return"rootData";if("/"==e[0]){if(!L.test(e))throw new Error("Invalid JSON-pointer: "+e);i=e,r="rootData"}else{if(!(a=e.match(x)))throw new Error("Invalid JSON-pointer: "+e);if(n=+a[1],"#"==(i=a[2])){if(n>=t)throw new Error("Cannot access property/index "+n+" levels up, current level is "+t);return s[t-n]}if(n>t)throw new Error("Cannot access data "+n+" levels up, current level is "+t);if(r="data"+(t-n||""),!i)return r}for(var o=r,d=i.split("/"),c=0;c<d.length;c++){var u=d[c];u&&(r+=l(k(u)),o+=" && "+r)}return o},unescapeFragment:function(e){return k(decodeURIComponent(e))},unescapeJsonPointer:k,escapeFragment:function(e){return encodeURIComponent(E(e))},escapeJsonPointer:E};var i=r(["string","number","integer","boolean","null"]);function r(e){for(var t={},s=0;s<e.length;s++)t[e[s]]=!0;return t}var a=/^[a-z$_][a-z$_0-9]*$/i,o=/'|\\/g;function l(e){return"number"==typeof e?"["+e+"]":a.test(e)?"."+e:"['"+d(e)+"']"}function d(e){return e.replace(o,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}var c=/else\s*{\s*}/g,u=/if\s*\([^)]+\)\s*\{\s*\}(?!\s*else)/g,h=/if\s*\(([^)]+)\)\s*\{\s*\}\s*else(?!\s*if)/g;var p=/[^v.]errors/g,m=/var errors = 0;|var vErrors = null;|validate.errors = vErrors;/g,f=/var errors = 0;|var vErrors = null;/g,v="return errors === 0;",_="validate.errors = null; return true;",y=/if \(errors === 0\) return data;\s*else throw new ValidationError\(vErrors\);/,g="return data;",b=/[^A-Za-z_$]rootData[^A-Za-z0-9_$]/g,M=/if \(rootData === undefined\) rootData = data;/;function w(e){return"'"+d(e)+"'"}var L=/^\/(?:[^~]|~0|~1)*$/,x=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function T(e,t){return'""'==e?t:(e+" + "+t).replace(/' \+ '/g,"")}function E(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}function k(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(8),i=s(94),r=s(136),a=s(391),o=s(137),l=s(138),d=s(139),c=s(30),u=s(18),h=s(32);class p extends n.default{get transform(){return this.components.get(i.default)}get meta(){return this.components.get(c.default,!0)}get model(){return this.components.get(u.default,!0)}get camera(){return this.components.get(r.default,!0)}get light(){return this.components.get(a.CLight,!0)}get scene(){return this.components.get(h.default,!0)}createComponents(){this.name="Node",this.createComponent(i.default)}createModel(){this.name="Model",this.createComponent(c.default),this.createComponent(u.default)}fromDocument(e,t,s){const n=e.nodes[t];this.transform.fromData(n),s.set(`node/${t}`,this.transform);let i="Node";if(isFinite(n.meta)&&(this.createComponent(c.default).fromDocument(e,n),s.set(`meta/${n.meta}`,this.meta),i="Meta"),isFinite(n.model)&&(this.createComponent(u.default).fromDocument(e,n),s.set(`model/${n.model}`,this.model),i="Model"),isFinite(n.camera)&&(this.createComponent(r.default).fromDocument(e,n),s.set(`camera/${n.camera}`,this.camera),i="Camera"),isFinite(n.light)){const t=e.lights[n.light].type;switch(t){case"directional":this.createComponent(o.default).fromDocument(e,n),i="Directional Light";break;case"point":this.createComponent(l.default).fromDocument(e,n),i="Point Light";break;case"spot":this.createComponent(d.default).fromDocument(e,n),i="Spot Light";break;default:throw new Error(`unknown light type: '${t}'`)}s.set(`light/${n.light}`,this.light)}this.name=n.name||i;const a=n.children;a&&a.forEach(t=>{const n=this.graph.createCustomNode(p);this.transform.addChild(n.transform),n.fromDocument(e,t,s)})}toDocument(e,t,s){s=s||{meta:!0,setup:!0,model:!0,camera:!0,light:!0},e.nodes=e.nodes||[];const n=e.nodes.length,i=this.transform.toData();return e.nodes.push(i),t.set(this.transform,`node/${n}`),this.name&&(i.name=this.name),this.model&&s.model&&(i.model=this.model.toDocument(e,i),t.set(this.model,`model/${i.model}`)),this.camera&&s.camera&&(i.camera=this.camera.toDocument(e,i),t.set(this.camera,`camera/${i.camera}`)),this.light&&s.light&&(i.light=this.light.toDocument(e,i),t.set(this.light,`light/${i.light}`)),this.meta&&s.meta&&(i.meta=this.meta.toDocument(e,i),t.set(this.meta,`info/${i.meta}`)),this.transform.children.map(e=>e.node).filter(e=>e.is(p)).forEach(n=>{if(n.hasNodeComponents(s)){const r=n.toDocument(e,t,s);i.children=i.children||[],i.children.push(r)}}),n}hasNodeComponents(e){if(!e)return!0;const t=this.transform,s=this.components;return!(!e.model||!s.has(u.default)&&!t.hasChildComponents(u.default,!0))||(!(!e.camera||!s.has(r.default)&&!t.hasChildComponents(r.default,!0))||!(!e.light||!s.has(a.CLight)&&!t.hasChildComponents(a.CLight,!0)))}}t.default=p,p.typeName="NVNode"},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(181),i=s(28);class r extends n.default{rootUrlChanged(){return this.createArticleFolder()}createArticleFolder(){const e=r.articleFolder;return this.exists(e).then(t=>{if(!t){const t=this.root,s=`folder '${e}' in '${t.info.path}.'`;return this.createFolder(t,e).then(()=>i.default.show(`Created ${s}'`)).catch(e=>i.default.show(`Failed to create ${s}`))}})}}t.default=r,r.typeName="CVMediaManager",r.articleFolder="articles"},function(e,t){var s;s=function(){return this}();try{s=s||new Function("return this")()}catch(e){"object"==typeof window&&(s=window)}e.exports=s},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(1);t.types=n.types;const i=s(82),r=s(8);t.Node=r.default;class a extends n.default{constructor(e,t){super(e,t),this.ins=this.addInputs(a.graphIns),this._innerGraph=null,this._innerRoot=null,this._innerGraph=new i.default(this.system,this)}get innerGraph(){return this._innerGraph}get innerNodes(){return this._innerGraph.nodes}get innerComponents(){return this._innerGraph.components}get innerRoots(){return this._innerGraph.roots}getInnerComponent(e,t=!1){return this._innerGraph.components.get(e,t)}getInnerComponents(e){return this._innerGraph.components.getArray(e)}hasInnerComponent(e){return this._innerGraph.components.has(e)}getInnerNode(e,t=!1){return this._innerGraph.nodes.get(e,t)}getInnerNodes(e){return this._innerGraph.nodes.getArray(e)}hasInnerNode(e){return this._innerGraph.nodes.has(e)}isEmpty(){return 0===this._innerGraph.nodes.count()}update(e){const t=this.ins;if(t.active.changed){const e=t.active.value;e!==this._innerGraph.isActive&&(e?this.activateInnerGraph():this.deactivateInnerGraph())}return!0}tick(e){return this._innerGraph.tick(e)}tock(e){return this._innerGraph.tock(e)}dispose(){this._innerGraph.clear(),this._innerGraph=null,this._innerRoot=null,super.dispose()}clearInnerGraph(){this._innerGraph.clear()}fromJSON(e){super.fromJSON(e),this._innerGraph.clear(),this._innerGraph.fromJSON(e.graph)}toJSON(){const e=super.toJSON();return e.graph=this._innerGraph.toJSON(),e}dump(e=""){super.dump(e),this.innerGraph.dump(e+"  ")}onAddInnerRoot(e){}onRemoveInnerRoot(e){}activateInnerGraph(){this._innerGraph.activate()}deactivateInnerGraph(){this._innerGraph.deactivate()}}t.default=a,a.typeName="CGraph",a.graphIns={active:n.types.Boolean("Graph.Active",!0)}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(3),i=s(1),r=s(27),a=s(35),o={view:null,viewport:null,renderer:null,scene:null,camera:null},l={type:"before-render",component:null,context:o},d={type:"after-render",component:null,context:o},c={activate:i.types.Event("Scene.Activate")};class u extends a.default{constructor(e,t){super(e,t),this._activeCameraComponent=null,this._preRenderList=[],this._postRenderList=[],this._renderListsNeedUpdate=!0,this.ins=this.addInputs(c,0),this.addEvents("before-render","after-render","active-camera")}get scene(){return this.object3D}get activeCameraComponent(){return this._activeCameraComponent}set activeCameraComponent(e){if(e!==this._activeCameraComponent){const t=this._activeCameraComponent;this._activeCameraComponent=e;const s={type:"active-camera",previous:t,next:e};this.emit(s)}}get activeCamera(){return this._activeCameraComponent?this._activeCameraComponent.camera:null}get renderer(){return this.getMainComponent(r.default)}create(){super.create(),this.on("hierarchy",this.shouldUpdateRenderLists,this),this.on("child",this.shouldUpdateRenderLists,this);const e=this.renderer;e&&!e.activeSceneComponent&&(e.activeSceneComponent=this)}update(e){if(super.update(e),this.ins.activate.changed){const e=this.renderer;e&&(e.activeSceneComponent=this)}return!0}tick(e){return this._renderListsNeedUpdate&&(this.updateRenderLists(),this._renderListsNeedUpdate=!1),!1}dispose(){const e=this.renderer;e&&e.activeSceneComponent===this&&(e.activeSceneComponent=null),this.off("hierarchy",this.shouldUpdateRenderLists,this),this.off("child",this.shouldUpdateRenderLists,this),super.dispose()}preRender(e){const t=this._preRenderList;for(let s=0,n=t.length;s<n;++s)t[s].preRender(e)}postRender(e){const t=this._postRenderList;for(let s=0,n=t.length;s<n;++s)t[s].postRender(e)}createObject3D(){const e=new n.Scene;return e.onBeforeRender=this._onBeforeRender.bind(this),e.onAfterRender=this._onAfterRender.bind(this),e}shouldUpdateRenderLists(){this._renderListsNeedUpdate=!0}updateRenderLists(){this._preRenderList=[],this._postRenderList=[],this.traverseDown(!1,!0,!0,e=>(e.preRender&&this._preRenderList.push(e),e.postRender&&this._postRenderList.push(e),!1)),this.changed=!0}_onBeforeRender(e,t,s){o.view=e.__view,o.viewport=e.__viewport,o.renderer=e,o.scene=t,o.camera=s,this.preRender(o),l.component=this,this.emit(l)}_onAfterRender(e,t,s){o.view=e.__view,o.viewport=e.__viewport,o.renderer=e,o.scene=t,o.camera=s,this.postRender(o),d.component=this,this.emit(d)}}t.default=u,u.typeName="CScene",u.isGraphSingleton=!0},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.Default=0]="Default",e[e.Clay=1]="Clay",e[e.XRay=2]="XRay",e[e.Normals=3]="Normals",e[e.Wireframe=4]="Wireframe"}(t.EShaderMode||(t.EShaderMode={})),function(e){e[e.Solid=0]="Solid",e[e.LinearGradient=1]="LinearGradient",e[e.RadialGradient=2]="RadialGradient"}(t.EBackgroundStyle||(t.EBackgroundStyle={})),function(e){e[e.Orbit=0]="Orbit",e[e.Walk=1]="Walk"}(t.ENavigationType||(t.ENavigationType={})),function(e){e[e.Overlay=0]="Overlay",e[e.Left=1]="Left",e[e.Right=2]="Right"}(t.EReaderPosition||(t.EReaderPosition={})),function(e){e[e.X=0]="X",e[e.Y=1]="Y",e[e.Z=2]="Z"}(t.ESliceAxis||(t.ESliceAxis={}))},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(3),i=s(14),r=.5*Math.PI,a=new n.Box3,o=new n.Vector3,l=new n.Vector3,d=new n.Vector3,c=new n.Matrix4,u=(new n.Matrix4,[new n.Vector3(0,-r,0),new n.Vector3(0,r,0),new n.Vector3(-r,0,0),new n.Vector3(r,0,0),new n.Vector3(0,0,0),new n.Vector3(0,Math.PI,0)]);var h,p;!function(e){e[e.Perspective=0]="Perspective",e[e.Orthographic=1]="Orthographic"}(h=t.EProjection||(t.EProjection={})),function(e){e[e.None=-1]="None",e[e.Left=0]="Left",e[e.Right=1]="Right",e[e.Top=2]="Top",e[e.Bottom=3]="Bottom",e[e.Front=4]="Front",e[e.Back=5]="Back"}(p=t.EViewPreset||(t.EViewPreset={}));class m extends n.Camera{constructor(e){super(),this.isUniversalCamera=!0,this.fov=50,this.size=20,this.aspect=1,this.distance=20,this.zoom=1,this.near=.1,this.far=2e3,this.focus=10,this.filmGauge=35,this.filmOffset=0,this.view=null,this.setProjection(e)}setProjection(e){e===h.Orthographic?(this.type="OrthographicCamera",this.isPerspectiveCamera=!1,this.isOrthographicCamera=!0):(this.type="PerspectiveCamera",this.isPerspectiveCamera=!0,this.isOrthographicCamera=!1),this.updateProjectionMatrix()}getProjection(){return this.isOrthographicCamera?h.Orthographic:h.Perspective}setPreset(e){e!==p.None?(this.rotation.setFromVector3(u[e],"XYZ"),this.position.set(0,0,this.distance).applyQuaternion(this.quaternion)):(this.rotation.set(0,0,0),this.position.set(0,0,0)),this.updateMatrix()}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=2*n.Math.RAD2DEG*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(.5*n.Math.DEG2RAD*this.fov);return.5*this.getFilmHeight()/e}getEffectiveFOV(){return 2*n.Math.RAD2DEG*Math.atan(Math.tan(.5*n.Math.DEG2RAD*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,s,i,r,a){this.isPerspectiveCamera?n.PerspectiveCamera.prototype.setViewOffset.call(this,e,t,s,i,r,a):n.OrthographicCamera.prototype.setViewOffset.call(this,e,t,s,i,r,a)}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}zoomToView(){}moveToView(e){this.updateMatrixWorld(!1),a.copy(e),c.extractRotation(this.matrixWorldInverse),a.applyMatrix4(c),a.getSize(o),a.getCenter(l);const t=Math.max(o.x/this.aspect,o.y);d.set(-l.x,-l.y,0),this.isPerspectiveCamera?d.z=o.z/(2*Math.tan(this.fov*i.default.DEG2RAD*.5)):(this.size=.5*t,d.z=2*o.z,this.far=Math.max(this.far,2*d.z)),c.extractRotation(this.matrixWorld),d.applyMatrix4(c),this.matrix.decompose(this.position,this.quaternion,this.scale),this.position.copy(d),this.updateMatrix()}updateProjectionMatrix(){const e=this.near,t=this.far,s=this.aspect,i=this.zoom,r=this.view;if(this.isOrthographicCamera){const n=this.size,a=n/(2*i),o=a*s;let l=-o,d=o,c=a,u=-a;if(r&&r.enabled){const e=i/(r.width/r.fullWidth),t=i/(r.height/r.fullHeight),a=n*s/r.width,o=n/r.height;d=(l+=a*(r.offsetX/e))+a*(r.width/e),u=(c-=o*(r.offsetY/t))-o*(r.height/t)}this.projectionMatrix.makeOrthographic(l,d,c,u,e,t)}else{let o=e*Math.tan(.5*n.Math.DEG2RAD*this.fov)/i,l=2*o,d=s*l,c=-.5*d;r&&r.enabled&&(c+=r.offsetX*d/r.fullWidth,o-=r.offsetY*l/r.fullHeight,d*=r.width/r.fullWidth,l*=r.height/r.fullHeight);var a=this.filmOffset;0!==a&&(c+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(c,c+d,o,o-l,e,t)}this.projectionMatrixInverse.getInverse(this.projectionMatrix)}copy(e,t){return super.copy(e,t),this.type=e.type,this.isOrthographicCamera=e.isOrthographicCamera,this.isPerspectiveCamera=e.isPerspectiveCamera,this.fov=e.fov,this.size=e.size,this.aspect=e.aspect,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this.view=e.view?Object.assign({},e.view):null,this}clone(){return(new this.constructor).copy(this)}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.size=this.size,t.object.aspect=this.aspect,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}t.default=m},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(1),i=s(399),r=s(17),a=s(18),o=s(30),l=s(96),d=s(97);t.Annotation=d.default;const c=s(51);s(400),s(402),s(403);class u extends r.default{constructor(e,t){super(e,t),this.ins=this.addInputs(u.ins),this._activeAnnotation=null,this._annotations={},this._viewports=new Set,this._sprites={},this.addEvents("active-annotation","group"),this.onSpriteClick=this.onSpriteClick.bind(this),this.onSpriteLink=this.onSpriteLink.bind(this),this.on("pointer-up",this.onPointerUp,this),this.system.on("pointer-up",this.onSystemPointerUp,this),this.object3D=new i.default}get model(){return this.getComponent(a.default)}get meta(){return this.getComponent(o.default,!0)}get reader(){return this.getGraphComponent(l.default,!0)}get articles(){const e=this.meta;return e?e.articles:null}get activeAnnotation(){return this._activeAnnotation}set activeAnnotation(e){if(e!==this._activeAnnotation){const t=this._activeAnnotation;t&&(t.set("expanded",!1),this.updateSprite(t)),this._activeAnnotation=e,e&&(e.set("expanded",!0),this.updateSprite(e));const s=this.ins;s.marker.setValue(e?e.data.marker:"",!0),s.title.setValue(e?e.data.title:"",!0),s.lead.setValue(e?e.data.lead:"",!0),s.tags.setValue(e?e.data.tags.join(", "):"",!0),s.style.setOption(e?e.data.style:c.default.defaultTypeName,!0),s.scale.setValue(e?e.data.scale:1,!0),s.offset.setValue(e?e.data.offset:0,!0),s.tilt.setValue(e?e.data.tilt:0,!0),s.azimuth.setValue(e?e.data.azimuth:0,!0),s.color.setValue(e?e.data.color.slice():[1,1,1],!0);const n=this.articles;if(n){const t=n.items.map(e=>e.data.title);t.unshift("(none)"),s.article.setOptions(t);const i=e?n.getById(e.data.articleId):null;s.article.setValue(i?n.getIndexOf(i)+1:0,!0)}else s.article.setOptions(["(none)"]),s.article.setValue(0);s.image.setValue(e?e.data.imageUri:"",!0),this.emit({type:"annotation-update",annotation:e})}}setActiveAnnotationById(e){this.activeAnnotation=this._annotations[e]}update(e){super.update(e);const t=this.ins,s=this.object3D,n=this.activeAnnotation;if(t.unitScale.changed&&(s.scale.setScalar(t.unitScale.value),s.updateMatrix()),t.activeTags.changed){const e=t.activeTags.value.split(",").map(e=>e.trim()).filter(e=>e);for(const t in this._annotations){const s=this._annotations[t],n=s.data.tags;let i=0===n.length;e.forEach(e=>{n.indexOf(e)>=0&&(i=!0)}),s.set("visible",i),this.updateSprite(s)}}if(n){if(t.marker.changed&&n.set("marker",t.marker.value),t.title.changed&&n.set("title",t.title.value),t.lead.changed&&n.set("lead",t.lead.value),t.tags.changed&&(n.set("tags",t.tags.value.split(",").map(e=>e.trim()).filter(e=>e)),this.emit({type:"tag-update"})),t.style.changed&&(n.set("style",t.style.getOptionText()),this.createSprite(n)),t.scale.changed&&n.set("scale",t.scale.value),t.offset.changed&&n.set("offset",t.offset.value),t.tilt.changed&&n.set("tilt",t.tilt.value),t.azimuth.changed&&n.set("azimuth",t.azimuth.value),t.color.changed&&n.set("color",t.color.value.slice()),t.image.changed&&n.set("imageUri",t.image.value),t.article.changed){const e=this.articles,s=e&&e.getAt(t.article.getValidatedValue()-1);n.set("articleId",s?s.id:"")}this.updateSprite(n),this.emit({type:"annotation-update",annotation:n})}return!0}tock(){if(this.updated)return!0}postRender(e){const t=e.viewport;this._viewports.has(t)||(t.on("dispose",this.onViewportDispose,this),this._viewports.add(t)),this.object3D.render(t.overlay,e.camera)}dispose(){this.object3D.dispose(),this.off("pointer-up",this.onPointerUp,this),this.system.off("pointer-up",this.onSystemPointerUp,this),this._viewports.forEach(e=>e.off("dispose",this.onViewportDispose,this)),this._viewports.clear(),super.dispose()}getAnnotations(){return Object.keys(this._annotations).map(e=>this._annotations[e])}addAnnotation(e){this._annotations[e.id]=e,this.createSprite(e),this.changed=!0}removeAnnotation(e){const t=Object.keys(this._annotations);if(delete this._annotations[e.id],this.removeSprite(e),e===this.activeAnnotation){const s=Math.min(t.indexOf(e.id)+1,t.length-1);this.activeAnnotation=s<0?null:this._annotations[t[s]]}this.changed=!0}updateAnnotation(e){this.changed=!0}toJSON(){const e=super.toJSON(),t=this.toData();return t&&(e.data=t),e}fromJSON(e){e.data&&this.fromData(e.data)}toData(){const e=Object.keys(this._annotations);return 0===e.length?null:e.map(e=>this._annotations[e].toJSON())}fromData(e){e.forEach(e=>this.addAnnotation(new d.default(e))),this.emit({type:"tag-update"})}onPointerUp(e){if(e.isDragging)return;let t=e.object3D;for(;t&&!t.isHTMLSprite;)t=t.parent;const s=t&&t.annotation;s&&(this.emit({type:"click",sprite:t,annotation:s}),e.stopPropagation=!0)}onSystemPointerUp(e){e.isDragging||this.emit({type:"click",sprite:null,annotation:null})}onViewportDispose(e){this.object3D.disposeHTMLElements(e.viewport.overlay)}onSpriteClick(e){this.emit(e)}onSpriteLink(e){this.reader&&(this.reader.ins.articleId.setValue(e.annotation.data.articleId),this.reader.ins.enabled.setValue(!0))}createSprite(e){this.removeSprite(e);const t=c.default.createInstance(e);t.addEventListener("click",this.onSpriteClick),t.addEventListener("link",this.onSpriteLink),this._sprites[e.id]=t,this.object3D.add(t),this.registerPickableObject3D(t,!0)}removeSprite(e){const t=this._sprites[e.id];t&&(t.removeEventListener("click",this.onSpriteClick),t.removeEventListener("link",this.onSpriteLink),t.dispose(),this._sprites[e.id]=void 0,this.object3D.remove(t),this.unregisterPickableObject3D(t,!0))}updateSprite(e){const t=this._sprites[e.id];t&&t.update()}}t.default=u,u.typeName="CVAnnotationView",u.ins={unitScale:n.types.Number("Transform.UnitScale",{preset:1,precision:5}),activeTags:n.types.String("Tags.Active"),title:n.types.String("Annotation.Title"),lead:n.types.String("Annotation.Lead"),marker:n.types.String("Annotation.Marker"),tags:n.types.String("Annotation.Tags"),style:n.types.Option("Annotation.Style",c.default.typeNames),scale:n.types.Scale("Annotation.Scale",{preset:1,precision:3}),offset:n.types.Number("Annotation.Offset",{preset:0,precision:3}),article:n.types.Option("Annotation.Article",[]),image:n.types.String("Annotation.Image"),tilt:n.types.Number("Annotation.Tilt"),azimuth:n.types.Number("Annotation.Azimuth"),color:n.types.ColorRGB("Annotation.Color")}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n{static registerType(e){if(this.types[e.typeName])throw new Error(`Annotation type '${e.typeName}' already registered.`);this.types[e.typeName]=e}static registerDefaultType(e){this.defaultType=e}static get typeNames(){return[this.defaultTypeName,...Object.keys(this.types).sort()]}static get defaultTypeName(){return this.defaultType.typeName}static getType(e){const t=this.types[e]||this.defaultType;if(!t)throw new Error(`type '${e}' not registered and no default type set.`);return t}static createInstance(e,t){return t=t||e.data.style,new(this.getType(t))(e)}}t.default=n,n.types={},n.defaultType=null},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(1),i=s(125),r=s(43),a=s(19);class o extends i.default{constructor(e,t){super(e,t),this.outs=this.addOutputs(o.outs),this.scope=i.ENodeScope.Graph}get documentProvider(){return this.getComponent(a.default)}create(){super.create(),this.documentProvider.on("active-component",this.onActiveDocument,this)}dispose(){this.documentProvider.off("active-component",this.onActiveDocument,this),super.dispose()}onActiveDocument(e){this.scopedGraph=e.next}onActiveNode(e,t){this.outs.activeNode.setValue(t);const s=this.selection;t?s.nodeContainsSelectedComponent(t)||s.selectNode(t):e&&s.clearSelection()}onScopedNodes(){this.outs.changedNodes.set()}}t.default=o,o.typeName="CVNodeProvider",o.nodeType=r.default,o.followComponentSelection=!0,o.outs={activeNode:n.types.Object("Nodes.Active",r.default),changedNodes:n.types.Event("Nodes.Changed")}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(1),i=s(64),r=s(38),a=s(20);class o extends i.default{constructor(e,t){super(e,t),this.ins=this.addInputs(o.ins),this.scope=i.EComponentScope.Node}get analytics(){return this.getMainComponent(a.default)}update(e){const t=this.ins;return t.visible.changed&&(t.visible.value&&!this.activeComponent&&(this.activeComponent=this.scopedComponents[0]),this.analytics.sendProperty("Tools.Visible",t.visible.value)),!0}activateComponent(e){e.activateTool(),this.analytics.sendProperty("Tools.ActiveTool",e.text)}deactivateComponent(e){e.deactivateTool()}onActiveComponent(e,t){}}t.default=o,o.typeName="CVToolProvider",o.isSystemSingleton=!0,o.componentType=r.default,o.ins={visible:n.types.Boolean("Tools.Visible")}},function(e,t,s){"use strict";var n=this&&this.__decorate||function(e,t,s,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r<3?i(a):r>3?i(t,s,a):i(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};Object.defineProperty(t,"__esModule",{value:!0});const i=s(2);let r=class extends i.default{constructor(){super(...arguments),this.name="",this.index=0,this.text="",this.placeholder="",this.align="left",this.initialValue="",this.requestFocus=!1}get inputElement(){return this.getElementsByTagName("input").item(0)}focus(){this.requestFocus=!0,this.performUpdate()}hasFocus(){return this.inputElement===document.activeElement}firstConnected(){this.classList.add("ff-control","ff-line-edit")}shouldUpdate(e){return!this.hasFocus()&&super.shouldUpdate(e)}render(){return i.html`<input
            type="text" .value=${this.text} placeholder=${this.placeholder}
            @keydown=${this.onKeyDown} @change=${this.onChange} @input=${this.onInput}
            @focus=${this.onFocus} @blur=${this.onBlur}
            style="box-sizing: border-box; width:100%; text-align: ${this.align};">`}updated(){this.requestFocus&&(this.requestFocus=!1,this.inputElement.focus())}onKeyDown(e){const t=e.target;"Enter"===e.key?(this.commit(t),t.blur()):"Escape"===e.key&&(this.revert(t),t.blur())}onChange(e){e.stopPropagation(),e.preventDefault(),this.text=e.target.value,this.dispatchChangeEvent(this.text,!1)}onInput(e){e.stopPropagation(),e.preventDefault(),this.text=e.target.value,this.dispatchChangeEvent(this.text,!0)}onFocus(e){this.initialValue=e.target.value,e.target.select()}onBlur(e){this.commit(e.target),this.requestUpdate()}revert(e){e.value=this.initialValue,this.dispatchChangeEvent(e.value,!1)}commit(e){this.initialValue=e.value,this.dispatchChangeEvent(e.value,!1)}dispatchChangeEvent(e,t){this.dispatchEvent(new CustomEvent("change",{detail:{text:e,isEditing:t}}))}};n([i.property({type:String})],r.prototype,"name",void 0),n([i.property({type:Number})],r.prototype,"index",void 0),n([i.property({type:String})],r.prototype,"text",void 0),n([i.property({type:String})],r.prototype,"placeholder",void 0),n([i.property({type:String})],r.prototype,"align",void 0),r=n([i.customElement("ff-line-edit")],r),t.default=r},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(87),i=s(1),r=s(451),a=s(13);class o extends i.default{constructor(e,t){super(e,t);const s=this.assetManager.loadingManager;this.jsonWriter=new r.default(s)}get assetManager(){return this.getMainComponent(a.default)}putJSON(e,t){const s=this.assetManager.getAssetUrl(t);return this.jsonWriter.put(e,s)}putText(e,t){const s=this.assetManager.getAssetUrl(t);return n.default.text(s,"PUT",e)}putDocument(e,t,s){const n=this.assetManager.getAssetUrl(s||e.outs.assetPath.value),i=e.deflateDocument(t);return this.jsonWriter.put(i,n)}}t.default=o,o.typeName="CVAssetWriter",o.text="AssetWriter",o.icon="",o.isSystemSingleton=!0},function(e,t,s){"use strict";var n,i=this&&this.__decorate||function(e,t,s,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r<3?i(a):r>3?i(t,s,a):i(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};Object.defineProperty(t,"__esModule",{value:!0});const r=s(16),a=s(2);t.customElement=a.customElement,t.property=a.property,t.html=a.html,t.TemplateResult=a.TemplateResult;let o=n=class extends a.default{constructor(e){super(),this.root=null,this.includeRoot=!1,this.draggable=!1,this._nodeById={},this._idByNode=new Map,this._containerId=r.default(4),this.root=e}toggleSelected(e){this.setSelected(e,void 0)}setSelected(e,t){const s=this._idByNode.get(e);if(s){const e=document.getElementById(s);void 0===t&&(t=!e.hasAttribute("selected")),t?e.setAttribute("selected",""):e.removeAttribute("selected")}}isSelected(e){const t=this._idByNode.get(e);if(t){return document.getElementById(t).hasAttribute("selected")}return!1}toggleExpanded(e){this.setExpanded(e,void 0)}setExpanded(e,t){const s=this._idByNode.get(e);if(s){const e=document.getElementById(s);void 0===t&&(t=!e.hasAttribute("expanded")),t?e.setAttribute("expanded",""):e.removeAttribute("expanded")}}isExpanded(e){const t=this._idByNode.get(e);if(t){return document.getElementById(t).hasAttribute("expanded")}return!1}firstConnected(){this.classList.add("ff-tree"),this.draggable&&(this.addEventListener("dragstart",this.onDragStart.bind(this)),this.addEventListener("dragover",this.onDragOver.bind(this)),this.addEventListener("dragenter",this.onDragEnter.bind(this)),this.addEventListener("dragleave",this.onDragLeave.bind(this)),this.addEventListener("drop",this.onDrop.bind(this)))}render(){this._nodeById={},this._idByNode.clear();const e=this.root;if(!e)return a.html``;if(this.includeRoot){const t=this.getId(e)+this._containerId;return this.renderNode(e,t,0)}{const t=this.getChildren(e);return t.length>0?this.renderNodeChildren(e,t,0):a.html``}}getId(e){return e.id||r.default()}getClasses(e){return""}getChildren(e){return e.children||null}isNodeSelected(e){return!!e.selected}isNodeExpanded(e){return void 0===e.expanded||e.expanded}renderNodeHeader(e){return e.toString()}renderNodeContent(e,t,s){return this.renderNodeChildren(e,t,s)}renderNodeChildren(e,t,s){if(!t||0===t.length)return null;let n;return a.html`
            ${a.repeat(t,e=>n=this.getId(e)+this._containerId,e=>this.renderNode(e,n,s))}
        `}renderNode(e,t,s){this._nodeById[t]=e,this._idByNode.set(e,t);const n=this.getChildren(e),i=this.isNodeSelected(e),r=this.isNodeExpanded(e);let o="ff-tree-node "+(n&&n.length>0?"ff-inner ":"ff-leaf ")+(s%2==0?"ff-even ":"ff-odd ")+this.getClasses(e);const l=this.renderNodeHeader(e),d=this.renderNodeContent(e,n,s+1);return a.html`
            <div class="ff-tree-node-container">
                <div class=${o} id=${t} ?selected=${i} ?expanded=${r}>
                    <div class="ff-header" draggable="true"
                        @click=${this.onClick} @dblclick=${this.onDblClick}>${l}</div>
                    <div class="ff-content">${d}</div>
                </div>
            </div>
        `}onDragStart(e){const t=this.getNodeFromEventTarget(e);t&&this.onNodeDragStart(e,t)?e.dataTransfer.setData(n.dragDropMimeType,this.getId(t)):e.preventDefault()}onDragEnter(e){let t=this.getNodeFromEventTarget(e);t&&this.canDrop(e,t)&&this.onNodeDragEnter(e,t)}onDragOver(e){const t=this.getNodeFromEventTarget(e);t&&this.canDrop(e,t)&&this.onNodeDragOver(e,t)&&e.preventDefault()}onDragLeave(e){const t=this.getNodeFromEventTarget(e);t&&this.canDrop(e,t)&&this.onNodeDragLeave(e,t)}onDrop(e){const t=this.getNodeFromEventTarget(e);t&&this.canDrop(e,t)&&(this.onNodeDrop(e,t),e.stopPropagation()),e.preventDefault()}onClick(e){const t=this.getNodeFromEventTarget(e);t&&this.onNodeClick(e,t),e.stopPropagation()}onDblClick(e){const t=this.getNodeFromEventTarget(e);t&&this.onNodeDblClick(e,t),e.stopPropagation()}canDrop(e,t){return!!e.dataTransfer.types.find(e=>e===n.dragDropMimeType)}onNodeDragStart(e,t){return!0}onNodeDragOver(e,t){return!0}onNodeDragEnter(e,t){this.getElementByNode(t).classList.add("ff-drop-target")}onNodeDragLeave(e,t){this.getElementByNode(t).classList.remove("ff-drop-target")}onNodeDrop(e,t){this.getElementByNode(t).classList.remove("ff-drop-target")}onNodeClick(e,t){this.toggleExpanded(t)}onNodeDblClick(e,t){}getNodeFromEventTarget(e){let t=e.target;for(;t&&!t.classList.contains("ff-tree-node");)t=t===this?null:t.parentElement;return t&&this._nodeById[t.id]}getElementByNode(e){const t=this._idByNode.get(e);return t&&document.getElementById(t)}};o.dragDropMimeType="application/x-ff-tree-node",i([a.property({attribute:!1})],o.prototype,"root",void 0),i([a.property({type:Boolean})],o.prototype,"includeRoot",void 0),i([a.property({type:Boolean})],o.prototype,"draggable",void 0),o=n=i([a.customElement("ff-tree")],o),t.default=o},function(e,t,s){"use strict";var n=this&&this.__decorate||function(e,t,s,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r<3?i(a):r>3?i(t,s,a):i(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};Object.defineProperty(t,"__esModule",{value:!0});const i=s(16),r=s(2);t.customElement=r.customElement,t.property=r.property,t.html=r.html,t.TemplateResult=r.TemplateResult;let a=class extends r.default{constructor(e){super(),this.data=null,this.data=e,this._itemById=new Map,this._idByItem=new Map,this._containerId=i.default(4),this.onClickEmpty=this.onClickEmpty.bind(this),this.addEventListener("click",this.onClickEmpty)}setSelected(e,t){const s=this._idByItem.get(e);if(s){const e=document.getElementById(s);void 0===t&&(t=!e.hasAttribute("selected")),t?e.setAttribute("selected",""):e.removeAttribute("selected")}}toggleSelected(e){this.setSelected(e,void 0)}isSelected(e){const t=this._idByItem.get(e);if(t){return document.getElementById(t).hasAttribute("selected")}return!1}firstConnected(){this.setStyle({display:"flex",flexDirection:"column"}),this.classList.add("ff-list")}render(){this._itemById.clear(),this._idByItem.clear();const e=this.data;if(!e)return null;let t;return r.html`${r.repeat(e,e=>t=this.getId(e)+this._containerId,e=>{this._itemById.set(t,e),this._idByItem.set(e,t);const s=this.isItemSelected(e),n=this.isItemExpanded(e),i="ff-list-item "+this.getClass(e);return r.html`<div class=${i} id=${t} ?selected=${s} ?expanded=${n}
                        @click=${this.onClick} @dblclick=${this.onDblClick}>
                    ${this.renderItem(e)}
                </div>`})}`}renderItem(e){return String(e)}getId(e){return e.id||i.default()}getClass(e){return""}isItemSelected(e){return void 0!==e.selected&&e.selected}isItemExpanded(e){return void 0===e.expanded||e.expanded}onClick(e){const t=e.currentTarget,s=this._itemById.get(t.id);if(s){const t=this.data.indexOf(s);this.onClickItem(e,s,t)}e.stopPropagation()}onDblClick(e){const t=e.currentTarget,s=this._itemById.get(t.id);if(s){const t=this.data.indexOf(s);this.onDblClickItem(e,s,t)}e.stopPropagation()}onClickItem(e,t,s){}onDblClickItem(e,t,s){}onClickEmpty(e){}};n([r.property({attribute:!1})],a.prototype,"data",void 0),a=n([r.customElement("ff-list")],a),t.default=a},function(e,t){var s,n,i=e.exports={};function r(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function o(e){if(s===setTimeout)return setTimeout(e,0);if((s===r||!s)&&setTimeout)return s=setTimeout,setTimeout(e,0);try{return s(e,0)}catch(t){try{return s.call(null,e,0)}catch(t){return s.call(this,e,0)}}}!function(){try{s="function"==typeof setTimeout?setTimeout:r}catch(e){s=r}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var l,d=[],c=!1,u=-1;function h(){c&&l&&(c=!1,l.length?d=l.concat(d):u=-1,d.length&&p())}function p(){if(!c){var e=o(h);c=!0;for(var t=d.length;t;){for(l=d,d=[];++u<t;)l&&l[u].run();u=-1,t=d.length}l=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function f(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var s=1;s<arguments.length;s++)t[s-1]=arguments[s];d.push(new m(e,t)),1!==d.length||c||o(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=f,i.addListener=f,i.once=f,i.off=f,i.removeListener=f,i.removeAllListeners=f,i.emit=f,i.prependListener=f,i.prependOnceListener=f,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,s){(function(e){function s(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===s(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===s(e)},t.isObject=function(e){return"object"==typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===s(e)},t.isError=function(e){return"[object Error]"===s(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=e.isBuffer}).call(this,s(76).Buffer)},function(e,t,s){"use strict";var n=this&&this.__decorate||function(e,t,s,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r<3?i(a):r>3?i(t,s,a):i(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};Object.defineProperty(t,"__esModule",{value:!0});const i=s(2),r=s(489),a=s(191),o=s(115);let l=class extends i.default{setPanelsMovable(e){const t=this.getElementsByTagName(o.default.tagName);for(let s of t)s.movable=e}setPanelsClosable(e){const t=this.getElementsByTagName(o.default.tagName);for(let s of t)s.closable=e}setLayout(e,t){for(;this.firstChild;)this.removeChild(this.firstChild);let s;switch(e.type){case"strip":s=new r.default;break;case"stack":s=new a.default}s.setLayout(e,t),this.appendChild(s),setTimeout(()=>window.dispatchEvent(new CustomEvent("resize")),0)}getLayout(){const e=this.firstChild;return e&&(e instanceof r.default||e instanceof a.default)?e.getLayout():null}firstConnected(){this.setStyle({display:"flex",alignItems:"stretch"})}};l.changeEvent="ff-dock-view-change",l=n([i.customElement("ff-dock-view")],l),t.default=l},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(1),i=s(119),r=s(41),a=s(332),o=s(17),l=s(35),d=s(47),c={viewportPicking:n.types.Boolean("Viewport.Picking",!0),viewportBrackets:n.types.Boolean("Viewport.Brackets",!0)};class u extends r.default{constructor(){super(...arguments),this.ins=this.addInputs(c),this._brackets=new Map,this._sceneTracker=null}create(){super.create(),this.system.on("pointer-up",this.onPointerUp,this),this._sceneTracker=new i.default(this.system.components,d.default,e=>{e.on("after-render",this.onSceneAfterRender,this)},e=>{e.off("after-render",this.onSceneAfterRender,this)})}dispose(){this._sceneTracker.dispose(),this.system.off("pointer-up",this.onPointerUp,this),this._sceneTracker.dispose(),super.dispose()}update(){return!0}onSelectNode(e,t){super.onSelectNode(e,t);const s=e.getComponent(l.default,!0);s&&this.updateBracket(s,t)}onSelectComponent(e,t){super.onSelectComponent(e,t),(e instanceof o.default||e instanceof l.default)&&this.updateBracket(e,t)}onPointerUp(e){this.ins.viewportPicking.value&&e.isPrimary&&!e.isDragging&&(e.component?this.selectComponent(e.component,e.ctrlKey):e.ctrlKey||this.clearSelection())}onSceneAfterRender(e){if(!this.ins.viewportBrackets.value)return;const t=e.context.renderer,s=e.context.camera;for(let e of this._brackets)t.render(e[1],s)}updateBracket(e,t){if(e){if(t){if(e.object3D){const t=new a.default(e.object3D);this._brackets.set(e,t)}}else{const t=this._brackets.get(e);t&&(this._brackets.delete(e),t.dispose())}this.changed=!0}}}t.default=u,u.typeName="CPickSelection"},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(11),i=[];class r extends n.default{constructor(e){super({knownEvents:!1});const t=e.typeName;if(!t)throw new Error("root type must have a 'typeName' member");this._rootTypeName=t,this._objLists={[this._rootTypeName]:[]},this._objTags={},this._objDict={}}static getTypeName(e){return"function"==typeof e?e.typeName:"object"==typeof e?e.constructor.typeName:e}add(e){const t=e.id;if("string"==typeof t){if(void 0!==this._objDict[t])throw new Error("object already registered");this._objDict[t]=e}let s,n=e;const i=this._rootTypeName,r={type:"",add:!0,remove:!1,object:e};do{(s=(n=Object.getPrototypeOf(n)).constructor.typeName)&&((this._objLists[s]||(this._objLists[s]=[])).push(e),r.type=s,this.emit(r))}while(s!==i)}remove(e){const t=e.id;if("string"==typeof t){if(this._objDict[t]!==e)throw new Error("object not registered");delete this._objDict[t]}let s,n=e;const i=this._rootTypeName,r={type:"",add:!1,remove:!0,object:e};do{if(s=(n=Object.getPrototypeOf(n)).constructor.typeName){r.type=s,this.emit(r);const t=this._objLists[s];t.splice(t.indexOf(e),1)}}while(s!==i)}addByTag(e,t){if(!e||"tag"===e)throw new Error("illegal tag name");(this._objTags[e]||(this._objTags[e]=[])).push(t);const s={type:"tag",add:!0,remove:!1,object:t,tag:e};this.emit(s),s.type=e,this.emit(s)}removeByTag(e,t){if(!e||"tag"===e)throw new Error("illegal tag name");const s=this._objTags[e];if(s){const n=s.indexOf(t);if(n>=0){const i={type:"tag",add:!1,remove:!0,object:t,tag:e};return this.emit(i),i.type=e,this.emit(i),s.splice(n,1),!0}}return!1}clear(){this.cloneArray().forEach(e=>this.remove(e))}get length(){return this._objLists[this._rootTypeName].length}count(e){const t=this._objLists[this.getTypeName(e)];return t?t.length:0}has(e){if("function"==typeof e){const t=this._objLists[e.typeName];return!!t&&t.length>0}if("string"==typeof e){const t=this._objLists[e];return!!t&&t.length>0}const t=this._objLists[e.constructor.typeName];return t&&t.indexOf(e)>=0}contains(e){const t=e.id;if("string"==typeof t)return!!this._objDict[t];const s=this._objLists[e.constructor.typeName];return s&&s.indexOf(e)>=0}get(e,t=!1){const s=this.getTypeName(e),n=this._objLists[s],i=n?n[0]:void 0;if(!t&&!i)throw new Error(`no instances of class '${s}' in object registry`);return i}getArray(e){return this._objLists[this.getTypeName(e)]||i}cloneArray(e){return this.getArray(e).slice()}getById(e){return this._objDict[e]}getDictionary(){return this._objDict}getByTag(e){return this._objTags[e]||i}on(e,t,s){super.on(this.getTypeName(e),t,s)}once(e,t,s){super.once(this.getTypeName(e),t,s)}off(e,t,s){super.off(this.getTypeName(e),t,s)}getTypeName(e){return"function"==typeof e?e.typeName:"object"==typeof e?e.constructor.typeName:e||this._rootTypeName}}t.default=r},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(3),i=new n.Vector3,r=new n.Matrix4,a=new n.Euler;new n.Quaternion;t.degreesToQuaternion=function(e,t,s){const r=s||new n.Quaternion;return i.fromArray(e).multiplyScalar(n.Math.DEG2RAD),a.setFromVector3(i,t),r.setFromEuler(a),r},t.quaternionToDegrees=function(e,t,s){const r=s||[0,0,0];return a.setFromQuaternion(e,t),a.toVector3(i),i.multiplyScalar(n.Math.RAD2DEG).toArray(r),r},t.disposeObject=function(e){const t=new Map,s=new Map,n=new Map;e.traverse(e=>{const i=e;if(i.isMesh){const e=i.geometry;e&&t.set(e.uuid,e);const r=i.material;if(r){s.set(r.uuid,r);for(let e in r){const t=r[e];t&&t.isTexture&&n.set(t.uuid,t)}}}});for(let e of n)e[1].dispose();for(let e of s)e[1].dispose();for(let e of t)e[1].dispose()},t.computeLocalBoundingBox=function e(t,s,n){n||(n=t);const a=t.geometry;if(a&&t.visible){let e=t;for(r.identity();e&&e!==n;)r.premultiply(e.matrix),e=e.parent;if(a.isGeometry){const e=a.vertices;for(let t=0,n=e.length;t<n;++t)i.copy(e[t]).applyMatrix4(r),s.expandByPoint(i)}else if(a.isBufferGeometry){const e=a.attributes.position;if(void 0!==e)for(let t=0,n=e.count;t<n;++t)i.fromBufferAttribute(e,t).applyMatrix4(r),s.expandByPoint(i)}}const o=t.children;for(let t=0,i=o.length;t<i;++t)e(o[t],s,n)}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(1),i=s(8),r=s(41);var a;!function(e){e[e.Node=0]="Node",e[e.Graph=1]="Graph",e[e.Main=2]="Main",e[e.System=3]="System"}(a=t.EComponentScope||(t.EComponentScope={}));class o extends n.default{constructor(){super(...arguments),this._scope=a.Node,this._scopedNode=null,this._scopedGraph=null,this._activeComponent=null}get componentType(){return this.constructor.componentType}get followComponentSelection(){return this.constructor.followComponentSelection}get followNodeSelection(){return this.constructor.followNodeSelection}get retainSelection(){return this.constructor.retainSelection}get scope(){return this._scope}set scope(e){this._scope=e,this._activeComponent&&!this.isComponentInScope(this._activeComponent)&&(this.activeComponent=null)}get scopedNode(){return this._scopedNode}set scopedNode(e){e!==this._scopedNode&&(this._scopedNode=e,this._activeComponent&&!this.isComponentInScope(this._activeComponent)&&(this.activeComponent=null),this.onScopedComponents(),this.emit({type:"scoped-components"}))}get scopedGraph(){return this._scopedGraph}set scopedGraph(e){e!==this._scopedGraph&&(this._scopedGraph=e,this._activeComponent&&!this.isComponentInScope(this._activeComponent)&&(this.activeComponent=null),this.onScopedComponents(),this.emit({type:"scoped-components"}))}get scopedComponents(){switch(this._scope){case a.Node:return(this._scopedNode||this.node).getComponents(this.componentType);case a.Graph:return(this._scopedGraph?this._scopedGraph.innerGraph:this.graph).getComponents(this.componentType);case a.Main:return this.getMainComponents(this.componentType);case a.System:return this.getSystemComponents(this.componentType)}}get activeComponent(){return this._activeComponent}set activeComponent(e){const t=this.activeComponent;if(e!==t){if(t&&this.deactivateComponent(t),e){if(!this.isComponentInScope(e))throw new Error("can't activate, component out of scope");this.activateComponent(e)}this._activeComponent=e,this.onActiveComponent(t,e),this.emit({type:"active-component",previous:t,next:e})}}get selection(){return this.getSystemComponent(r.default)}create(){super.create(),this.system.components.on(n.default,this.onComponent,this),this.followComponentSelection&&this.selection.selectedComponents.on(this.componentType,this.onSelectComponent,this),this.followNodeSelection&&this.selection.selectedNodes.on(i.default,this.onSelectNode,this)}dispose(){this.activeComponent&&(this.activeComponent=null),this.system.components.off(n.default,this.onComponent,this),this.followComponentSelection&&this.selection.selectedComponents.off(this.componentType,this.onSelectComponent,this),this.followNodeSelection&&this.selection.selectedNodes.off(i.default,this.onSelectNode,this),super.dispose()}activateComponent(e){}deactivateComponent(e){}onActiveComponent(e,t){}onScopedComponents(){}onComponent(e){e.remove&&e.object===this.activeComponent&&(this.activeComponent=null),this.isComponentInScope(e.object)&&(this.onScopedComponents(),this.emit({type:"scoped-components"}))}onSelectComponent(e){const t=e.object;this.isComponentInScope(t)&&(e.add?this.activeComponent=t:e.remove&&!this.retainSelection&&t===this.activeComponent&&(this.activeComponent=null))}onSelectNode(e){const t=e.object;if(this.isNodeInScope(t)){const s=t.getComponent(this.componentType);s&&this.onSelectComponent({type:s.typeName,object:s,add:e.add,remove:e.remove})}}isComponentInScope(e){if(!e.is(this.componentType))return!1;switch(this._scope){case a.Node:const t=this._scopedNode||this.node;return e.node===t;case a.Graph:const s=this._scopedGraph?this._scopedGraph.innerGraph:this.graph;return e.graph===s;case a.Main:return e.graph===this.system.graph;case a.System:return!0}return!1}isNodeInScope(e){switch(this._scope){case a.Node:return e===(this._scopedNode||this.node);case a.Graph:const t=this._scopedGraph?this._scopedGraph.innerGraph:this.graph;return e.graph===t;case a.Main:return e.graph===this.system.graph;case a.System:return!0}}}t.default=o,o.typeName="CComponentProvider",o.componentType=n.default,o.followComponentSelection=!0,o.followNodeSelection=!1,o.retainSelection=!0},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(1);class i extends n.default{constructor(e,t){super(e,t),this.ins=this.addInputs(i.ins),this.outs=this.addOutputs(i.outs),this._fullscreenElement=null,this.onFullscreenChange=this.onFullscreenChange.bind(this);const s=document.documentElement,n=s.requestFullscreen||s.mozRequestFullScreen||s.webkitRequestFullscreen;this.outs.fullscreenAvailable.setValue(!!n),this.ins.toggle.on("value",this.toggle,this)}get fullscreenElement(){return this._fullscreenElement}set fullscreenElement(e){e!==this._fullscreenElement&&(this._fullscreenElement&&this._fullscreenElement.removeEventListener("fullscreenchange",this.onFullscreenChange),this._fullscreenElement=e,e&&e.addEventListener("fullscreenchange",this.onFullscreenChange))}update(e){return!0}toggle(){const e=this.outs,t=this._fullscreenElement;if(t){const s=e.fullscreenActive.value;if(!s&&e.fullscreenAvailable.value)t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen&&t.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT);else if(s){const e=document;e.exitFullscreen?e.exitFullscreen():e.cancelFullScreen?e.cancelFullScreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.webkitCancelFullScreen&&e.webkitCancelFullScreen()}}}onFullscreenChange(e){const t=document,s=t.fullscreenElement||t.mozFullScreenElement||t.webkitFullscreenElement;this.outs.fullscreenActive.setValue(!!s)}}t.default=i,i.typeName="CFullscreen",i.ins={toggle:n.types.Event("Fullscreen.Toggle")},i.outs={fullscreenAvailable:n.types.Boolean("Fullscreen.Available",!1),fullscreenActive:n.types.Boolean("Fullscreen.Active",!1)}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(11),i=s(16);class r extends n.default{constructor(e){super(),this.addEvents("update","dispose"),e?this.fromJSON(e):this._data=this.init()}static generateId(){return i.default()}get id(){return this._data.id}get data(){return this._data}set(e,t){this._data[e]=t,this.update()}get(e){return this._data[e]}update(){this.emit({type:"update",document:this})}dispose(){this.emit({type:"dispose",document:this}),this._data=null}fromJSON(e){return this._data={},this.inflate(e,this._data),this.update(),this}toJSON(e){return e=e||{},this.deflate(this._data,e),e}init(){return{}}inflate(e,t){Object.assign(t,e)}deflate(e,t){t=t||{},Object.assign(t,this._data)}}t.default=r},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.mm=0]="mm",e[e.cm=1]="cm",e[e.m=2]="m",e[e.km=3]="km",e[e.in=4]="in",e[e.ft=5]="ft",e[e.yd=6]="yd",e[e.mi=7]="mi"}(t.EUnitType||(t.EUnitType={}))},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(143);t.Vector3=n.default;const i=s(401);t.Vector4=i.default;class r{constructor(e=0,t=0,s=0,n=1){e instanceof r?(this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w):Array.isArray(e)?(this.x=e[0]||0,this.y=e[1]||0,this.z=e[2]||0,this.w=void 0!==e[3]?e[3]:1):"string"==typeof e?this.setString(e):(this.x=e,this.y=t,this.z=s,this.w=n)}static fromString(e){return(new r).setString(e)}static fromArray(e){return new r(e)}get r(){return this.x}get g(){return this.y}get b(){return this.z}get a(){return this.w}set r(e){this.x=e}set g(e){this.y=e}set b(e){this.z=e}set a(e){this.w=e}get red(){return this.x}get green(){return this.y}get blue(){return this.z}get alpha(){return this.w}set red(e){this.x=e}set green(e){this.y=e}set blue(e){this.z=e}set alpha(e){this.w=e}get redByte(){return Math.floor(255*this.x)}get greenByte(){return Math.floor(255*this.y)}get blueByte(){return Math.floor(255*this.z)}get alphaByte(){return Math.floor(255*this.w)}set redByte(e){this.x=e/255}set greenByte(e){this.y=e/255}set blueByte(e){this.z=e/255}set alphaByte(e){this.w=e/255}inverseMultiply(e){return this.x=this.x*(1-e)+e,this.y=this.y*(1-e)+e,this.z=this.z*(1-e)+e,this}multiply(e){return this.x*=e,this.y*=e,this.z*=e,this}copy(e){this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w}clone(){return new r(this.x,this.y,this.z,this.w)}set(e,t,s,n){return this.x=e,this.y=t,this.z=s,this.w=void 0===n?1:n,this}setBytes(e,t,s,n){return this.x=e/255,this.y=t/255,this.z=s/255,this.w=void 0===n?1:n/255,this}setUInt24RGB(e){return this.x=e>>16&255,this.y=e>>8&255,this.z=255&e,this.w=1,this}setUInt32RGBA(e){return this.x=e>>24&255,this.y=e>>16&255,this.z=e>>8&255,this.w=255&e,this.w=1,this}setRed(e){return this.x=e,this}setGreen(e){return this.y=e,this}setBlue(e){return this.z=e,this}setAlpha(e){return this.w=e,this}setRedByte(e){return this.x=e/255,this}setGreenByte(e){return this.y=e/255,this}setBlueByte(e){return this.z=e/255,this}setAlphaByte(e){return this.w=e/255,this}setHSV(e,t=1,s=1,n){"object"==typeof e&&(t=e.y,s=e.z,n=void 0!==e.w?e.w:n,e=e.x);const i=Math.floor(e/60),r=e/60-i,a=s*(1-t),o=s*(1-r*t),l=s*(1-(1-r)*t);let d,c,u;switch(i%6){case 0:d=s,c=l,u=a;break;case 1:d=o,c=s,u=a;break;case 2:d=a,c=s,u=l;break;case 3:d=a,c=o,u=s;break;case 4:d=l,c=a,u=s;break;case 5:d=s,c=a,u=o}return this.x=d,this.y=c,this.z=u,void 0!==n&&(this.w=n),this}setHSL(e,t=1,s=1,n){if("object"==typeof e&&(t=e.y,s=e.z,n=void 0!==e.w?e.w:n,e=e.x),0===t)this.x=this.y=this.z=s;else{function i(e,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+6*(t-e)*s:s<.5?t:s<2/3?e+(t-e)*(2/3-s)*6:e}e/=360;var r=s<.5?s*(1+t):s+t-s*t,a=2*s-r;this.x=i(a,r,e+1/3),this.y=i(a,r,e),this.z=i(a,r,e-1/3)}return void 0!==n&&(this.w=n),this}fromArray(e){this.x=e[0]||0,this.y=e[1]||0,this.z=e[2]||0,this.w=void 0!==e[3]?e[3]:1}setString(e,t=1,s=!0){e=e.trim().toLowerCase();let n=(e=r.presets[e]||e).match(/^#?([0-9a-f]{3})$/i);if(n){const e=n[1],s=1/15;return this.x=Number.parseInt(e.charAt(0),16)*s,this.y=Number.parseInt(e.charAt(1),16)*s,this.z=Number.parseInt(e.charAt(2),16)*s,this.w=t,this}if(n=e.match(/^#?([0-9a-f]{6})$/i)){const e=n[1],s=1/255;return this.x=Number.parseInt(e.substr(0,2),16)*s,this.y=Number.parseInt(e.substr(2,2),16)*s,this.z=Number.parseInt(e.substr(4,2),16)*s,this.w=t,this}if(0===e.indexOf("rgb")){let s=e.match(/^rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/i);if(s){const e=1/255;return this.x=Number.parseInt(s[1])*e,this.y=Number.parseInt(s[2])*e,this.z=Number.parseInt(s[3])*e,this.w=t,this}if(s=e.match(/^rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+.*\d*)\s*\)$/i)){const e=1/255;return this.x=Number.parseInt(s[1])*e,this.y=Number.parseInt(s[2])*e,this.z=Number.parseInt(s[3])*e,this.w=Number.parseFloat(s[4]),this}}if(0===e.indexOf("hsl")){let s=e.match(/(\d+(\.\d+)?)/g);return s&&this.setHSL(Number.parseFloat(s[0]),.01*Number.parseFloat(s[1]),.01*Number.parseFloat(s[2]),void 0!==s[3]?Number.parseFloat(s[3]):t),this}if(s)throw new RangeError("failed to parse color from string: "+e);return this}toUInt24RGB(){return Math.floor(255*this.x)<<16+Math.floor(255*this.y)<<8+Math.floor(255*this.z)}toUInt32RGBA(){return Math.floor(255*this.x)<<24+Math.floor(255*this.y)<<16+Math.floor(255*this.z)<<8+Math.floor(255*this.w)}toVector3(e){return e?(e.x=this.r,e.y=this.g,e.z=this.b,e):new n.default(this.r,this.g,this.b)}toVector4(e){return e?(e.x=this.r,e.y=this.g,e.z=this.b,e.w=this.a,e):new i.default(this.r,this.g,this.b,this.a)}toHSV(e){let t=this.x,s=this.y,i=this.z,r=Math.min(t,s,i),a=Math.max(t,s,i),o=a-r,l=0,d=0===a?0:o/a,c=a;return 0!==o&&(l=60*(t===a?(s-i)/o+(s<i?6:0):s===a?(i-t)/o+2:(t-s)/o+4)),e?(e.x=l,e.y=d,e.z=c,e):new n.default(l,d,c)}toHSL(e){let t=this.x,s=this.y,i=this.z,r=Math.min(t,s,i),a=Math.max(t,s,i),o=a-r,l=0,d=0,c=.5*(a+r);return 0!==o&&(d=c>.5?o/(2-a-r):o/(a+r),l=60*(t===a?(s-i)/o+(s<i?6:0):s===a?2+(i-t)/o:4+(t-s)/o)),e?(e.x=l,e.y=d,e.z=c,e):new n.default(l,d,c)}toRGBArray(e){return e?(e[0]=this.r,e[1]=this.g,e[2]=this.b,e):[this.r,this.g,this.b]}toRGBAArray(e){return e?(e[0]=this.r,e[1]=this.g,e[2]=this.b,e[3]=this.a,e):[this.r,this.g,this.b,this.a]}toString(e=!0){if(e&&this.w<1)return`rgba(${this.redByte}, ${this.greenByte}, ${this.blueByte}, ${this.w})`;return`#${((1<<24)+(this.redByte<<16)+(this.greenByte<<8)+this.blueByte).toString(16).slice(1)}`}}t.default=r,r.presets={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgrey:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(1),i=s(35),r=s(147),a=s(148),o=s(96),l=s(100),d=s(150),c=s(152),u=s(153),h=s(101),p=s(154),m=s(155),f=s(70);class v extends n.default{get featureMap(){return this.constructor.featureMap}get transform(){return this.getComponent(i.default)}create(){super.create();const e=this.node,t=v.featureMap;for(const s in t)this[s]=e.createComponent(t[s]);this.snapshots=e.createComponent(f.default)}fromDocument(e,t,s){const n=e.scenes[t];if(!isFinite(n.setup))throw new Error("setup property missing in node");const i=e.setups[n.setup],r=v.featureMap;for(const e in r){s.set(`scenes/${t}/setup/${e}`,this[e]);const n=i[e];n&&this[e].fromData(n)}i.snapshots&&this.snapshots.fromData(i.snapshots,s)}toDocument(e,t,s){let n=null;const i=v.featureMap;for(const e in i){s.set(this[e],`scenes/${t}/setup/${e}`);const i=this[e].toData();i&&((n=n||{})[e]=i)}const r=this.snapshots.toData(s);if(r&&((n=n||{}).snapshots=r),n){e.setups=e.setups||[];const s=e.setups.length;e.setups.push(n),e.scenes[t].setup=s}}}t.default=v,v.typeName="CVSetup",v.featureMap={interface:r.default,reader:o.default,viewer:a.default,navigation:l.default,background:d.default,floor:c.default,grid:u.default,tape:h.default,slicer:p.default,tours:m.default}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(86);t.EEasingCurve=n.EEasingCurve;const i=s(21),r=s(69),a=s(18);class o extends n.default{constructor(){super(...arguments),this.targetFeatures={}}create(){super.create();const e=this.getGraphComponent(r.default);Object.keys(e.featureMap).forEach(e=>{this.targetFeatures[e]=!1}),this.targetFeatures.models=!1,this.targetFeatures.lights=!1,this.initializeTargetFeatures()}initializeTargetFeatures(){const e=this.targetFeatures;Object.keys(e).forEach(t=>e[t]=!1),e.navigation=!0,e.reader=!0,this.updateTargets()}updateTargets(){const e=this.targetFeatures,t=this.getGraphComponent(r.default);Object.keys(e).forEach(s=>{const n=t[s],i=e[s];n&&this.updateComponentTarget(n,i)}),this.getGraphComponents(a.default).forEach(t=>this.updateComponentTarget(t.transform,!!e.models)),this.getGraphComponents(i.default).forEach(t=>this.updateComponentTarget(t,!!e.lights))}updateComponentTarget(e,t){const s=e.snapshotProperties;s&&s.forEach(e=>{if(!e.schema.event&&"object"!==e.type){const s=this.hasTargetProperty(e);t&&!s?this.addTargetProperty(e):!t&&s&&this.removeTargetProperty(e)}})}fromData(e,t){this.clear();const s=this.targetFeatures,i=Object.keys(s);e.features?i.forEach(t=>s[t]=e.features.indexOf(t)>=0):this.initializeTargetFeatures();const r=new Set;e.targets.forEach((e,s)=>{const n=e.lastIndexOf("/"),i=e.substr(0,n),a=e.substr(n+1),o=t.get(i),l=o?o.ins[a]:null;l?this.addTargetProperty(l):(console.warn(`missing snapshot target property for '${e}'`),r.add(s))}),e.states.forEach(e=>{this.setState({id:e.id,curve:void 0!==e.curve?n.EEasingCurve[e.curve]:n.EEasingCurve.EaseQuad,duration:void 0!==e.duration?e.duration:2,threshold:void 0!==e.threshold?e.threshold:.5,values:e.values.filter((e,t)=>!r.has(t))})})}toData(e){const t=this.targetFeatures,s={features:Object.keys(t).filter(e=>t[e]),targets:this.targets.map(t=>{const s=t.property.group.linkable,n=t.property.key,i=e.get(s);if(!i)throw new Error(`snapshot path not registered for component '${s.displayName}'`);return i+"/"+n}),states:Object.keys(this.states).map(e=>{const t=this.states[e],s={id:t.id,values:t.values};return t.curve!==n.EEasingCurve.EaseQuad&&(s.curve=n.EEasingCurve[t.curve]),2!==t.duration&&(s.duration=t.duration),.5!==t.threshold&&(s.threshold=t.threshold),s})};return s.targets.length>0&&s.states.length>0?s:null}}t.default=o,o.typeName="CVSnapshots"},function(e,t,s){"use strict";var n=this&&this.__decorate||function(e,t,s,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r<3?i(a):r>3?i(t,s,a):i(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};Object.defineProperty(t,"__esModule",{value:!0});const i=s(2);s(5);let r=class extends i.default{constructor(){super(...arguments),this.property=null,this.name="",this.options=null,this.indexMap=null}firstConnected(){this.classList.add("sv-property-view","sv-property-options")}update(e){if(!this.property)throw new Error("missing property attribute");if("number"!==this.property.type||!this.property.schema.options)throw new Error("not an options property");if(e.has("property")){const t=e.get("property");t&&t.off("value",this.onUpdate,this),this.property&&this.property.on("value",this.onUpdate,this)}super.update(e)}render(){const e=this.property,t=this.indexMap,s=this.name||e.name,n=this.options||e.schema.options,r=e.value;let a;return a=t?t.map(e=>i.html`<ff-button .text=${n[e]} .index=${e} .selectedIndex=${r} @click=${this.onButtonClick}>
                    </ff-button>`):n.map((e,t)=>i.html`<ff-button .text=${e} .index=${t} .selectedIndex=${r} @click=${this.onButtonClick}>
                    </ff-button>`),i.html`<label class="ff-label ff-off">${s}</label><div class="sv-options">${a}</div>`}onButtonClick(e){const t=e.target.index;this.property.setValue(t)}};n([i.property({attribute:!1})],r.prototype,"property",void 0),n([i.property({type:String})],r.prototype,"name",void 0),n([i.property({attribute:!1})],r.prototype,"options",void 0),n([i.property({attribute:!1})],r.prototype,"indexMap",void 0),r=n([i.customElement("sv-property-options")],r),t.default=r},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(e,t,s){this._type=e,this._callback=t,this._context=s,this._publishers=[]}on(...e){return e.forEach(e=>{this._publishers.push(e),e.on(this._type,this._callback,this._context)}),this}off(){return this._publishers.forEach(e=>e.off(this._type,this._callback,this._context)),this._publishers.length=0,this}}},function(e,t,s){"use strict";var n=this&&this.__decorate||function(e,t,s,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r<3?i(a):r>3?i(t,s,a):i(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};Object.defineProperty(t,"__esModule",{value:!0});const i=s(2);t.customElement=i.customElement,t.property=i.property,t.html=i.html;let r=class extends i.default{constructor(){super(),this.anchor=null,this.portal=null,this.position=void 0,this.align=void 0,this.justify=void 0,this.positionX=0,this.positionY=0,this.offsetX=0,this.offsetY=0,this.keepVisible=!1,this.modal=!1,this._modalPlane=null,this.onResize=this.onResize.bind(this),this.onCaptureEvent=this.onCaptureEvent.bind(this),this.onEatEvent=this.onEatEvent.bind(this)}close(){this.dispatchEvent(new CustomEvent("close"))}connected(){if(this.calculatePosition(),window.addEventListener("resize",this.onResize),this.modal){const e=this._modalPlane=this.createElement("div");e.classList.add("ff-modal-plane"),e.addEventListener("mousedown",this.onEatEvent),e.addEventListener("contextmenu",this.onEatEvent),e.addEventListener("pointerdown",this.onEatEvent),this.parentElement.appendChild(e),setTimeout(()=>e.classList.add("ff-transition"))}else document.addEventListener("mousedown",this.onCaptureEvent,{capture:!0,passive:!0})}disconnected(){window.removeEventListener("resize",this.onResize),this._modalPlane?(this._modalPlane.remove(),this._modalPlane=null):document.removeEventListener("mousedown",this.onCaptureEvent)}firstConnected(){super.firstConnected(),this.setStyle({position:"fixed",zIndex:"1000"}),this.classList.add("ff-popup")}updated(){this.isConnected&&this.calculatePosition()}calculatePosition(){let e,t;const s=this.getBoundingClientRect();let n;if(t=this.portal?this.portal.getBoundingClientRect():{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight,width:window.innerWidth,height:window.innerHeight},"center"===this.position)n=this.center(s,t);else if("anchor"===this.position){const i=this.anchor||this.parentElement;i&&(e=i.getBoundingClientRect(),n=this.positionToAnchor(s,e,t))}else n={x:this.positionX,y:this.positionY};this.keepVisible&&"center"!==this.position&&(n=this.keepElementVisible(n,s,t)),this.style.left=Math.round(n.x)+"px",this.style.top=Math.round(n.y)+"px"}center(e,t){return{x:Math.round(.5*(t.width-e.width)),y:Math.round(.5*(t.height-e.height))}}positionToAnchor(e,t,s){const n=this.align,i=this.justify,r=this.offsetX,a=this.offsetY,o={x:0,y:0};switch(n){case"start":o.x="start"!==i&&"end"!==i?t.left-e.width-r:t.left;break;case"end":o.x="start"!==i&&"end"!==i?t.right+r:t.right-e.width;break;case"fixed":o.x=this.positionX;break;default:o.x=t.left+.5*(t.width-e.width)}switch(i){case"start":o.y=t.top-e.height-a;break;case"end":o.y=t.bottom+a;break;case"fixed":o.y=this.positionY;break;default:o.y=t.top+.5*(t.height-e.height)}return o.x+=this.offsetX,o.y+=this.offsetY,o}keepElementVisible(e,t,s){const n=this.offsetX,i=this.offsetY;return t.width>s.width?e.x=.5*(s.width-t.width):e.x<s.left+n?e.x=s.left+n:e.x+t.width+n>s.right&&(e.x=s.right-t.width-n),t.height>s.height?e.y=.5*(s.height-t.height):e.y<s.top+i?e.y=s.top+i:e.y+t.height+i>s.bottom&&(e.y=s.bottom-t.height-i),e}onResize(){this.calculatePosition()}onCaptureEvent(e){e.target instanceof Node&&this.contains(e.target)||this.close()}onEatEvent(e){console.log("Popup.onEatEvent"),e.stopPropagation(),e.preventDefault()}};n([i.property({attribute:!1})],r.prototype,"anchor",void 0),n([i.property({attribute:!1})],r.prototype,"portal",void 0),n([i.property({type:String})],r.prototype,"position",void 0),n([i.property({type:String})],r.prototype,"align",void 0),n([i.property({type:String})],r.prototype,"justify",void 0),n([i.property({type:Number})],r.prototype,"positionX",void 0),n([i.property({type:Number})],r.prototype,"positionY",void 0),n([i.property({type:Number})],r.prototype,"offsetX",void 0),n([i.property({type:Number})],r.prototype,"offsetY",void 0),n([i.property({type:Boolean})],r.prototype,"keepVisible",void 0),n([i.property({type:Boolean})],r.prototype,"modal",void 0),r=n([i.customElement("ff-popup")],r),t.default=r},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(90),i=s(1),r=s(28),a=s(13),o=s(55),l=s(23),d=s(19),c=s(105);class u extends i.default{constructor(e,t){super(e,t),this.ins=this.addInputs(u.ins),this.referrer="",this.beforeUnload=this.beforeUnload.bind(this)}get taskProvider(){return this.getMainComponent(l.default)}get documentProvider(){return this.getMainComponent(d.default)}get assetManager(){return this.getMainComponent(a.default)}get assetWriter(){return this.getMainComponent(o.default)}create(){super.create(),window.addEventListener("beforeunload",this.beforeUnload)}dispose(){window.removeEventListener("beforeunload",this.beforeUnload),super.dispose()}update(){const e=this.ins;e.exit.changed&&this.referrer&&location.assign(this.referrer);const t=this.documentProvider.activeComponent,s=this.taskProvider.ins.mode.getValidatedValue()===c.ETaskMode.QC?{model:!0}:null;if(t&&e.save.changed){const e=t.deflateDocument(s),n=JSON.stringify(e,(e,t)=>"number"==typeof t?parseFloat(t.toFixed(7)):t);this.assetWriter.putJSON(n,t.assetPath).then(()=>new r.default(`Successfully uploaded file to '${t.assetPath}'`,"info",4e3)).catch(e=>new r.default(`Failed to upload file to '${t.assetPath}'`,"error",8e3))}if(t&&e.download.changed){const e=t.deflateDocument(s),i=JSON.stringify(e,null,2),r=this.assetManager.getAssetName(t.assetPath);n.default.json(i,r)}return!1}beforeUnload(e){e.returnValue="x"}}t.default=u,u.typeName="CVStoryApplication",u.isSystemSingleton=!0,u.ins={exit:i.types.Event("Application.Exit"),save:i.types.Event("Document.Save"),download:i.types.Event("Document.Download")}},function(e,t,s){"use strict";var n,i=this&&this.__decorate||function(e,t,s,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r<3?i(a):r>3?i(t,s,a):i(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};Object.defineProperty(t,"__esModule",{value:!0});const r=s(73);s(54),s(5),s(29);let a=n=class extends r.default{constructor(e,t,s,n){super(),this.closable=!1,this.value="",this.position="center",this.modal=!0,this.type=s||"info",this.caption=e||"Message",this.text=t||"",this.icon="",this.buttons=n||"ok",this.defaultValue="",this.value=""}static show(e,t,s,i,r,a){const o=new n(e,t,s,i);return o.defaultValue=r,o.portal=a,(a||document.body).appendChild(o),new Promise((e,t)=>{o.on("close",t=>e(t.detail))})}close(e){this.dispatchCloseEvent(!1),this.remove()}dispatchCloseEvent(e,t=""){const s={ok:e,cancel:!e,text:t};this.dispatchEvent(new CustomEvent("close",{detail:s}))}firstConnected(){super.firstConnected(),this.classList.add("ff-message-box"),setTimeout(()=>this.classList.add("ff-transition"))}updated(){super.updated(),this.getElementsByClassName("ff-default").item(0).focus()}render(){const e=this.icon||this.type,t=this.buttons||"ok",s=[];"ok"!==t&&"ok-cancel"!==t||s.push(r.html`<ff-button class="ff-default" text="OK" @click=${this.onOK}></ff-button>`),"ok-cancel"!==t&&"cancel"!==t||s.push(r.html`<ff-button text="Cancel" @click=${this.onCancel}></ff-button>`),"yes-no"===t&&(s.push(r.html`<ff-button class="ff-default" text="Yes" @click=${this.onOK}></ff-button>`),s.push(r.html`<ff-button text="No" @click=${this.onCancel}></ff-button>`));const n="prompt"===this.type?r.html`<ff-line-edit class="ff-default" text=${this.defaultValue} @change=${this.onInputChange}></ff-line-edit>`:null;return r.html`<div class="ff-flex-row ff-title">
                <ff-icon class="ff-type-icon" name=${e}></ff-icon>
                <div class="ff-content">
                    <div class="ff-caption">${this.caption}</div>
                    <div class="ff-text">${this.text}</div>
                    ${n}
                </div>
                ${this.closable?r.html`<ff-button class="ff-close-button" icon="close" transparent @click=${this.onCancel}></ff-button>`:null}
            </div>
            <div class="ff-flex-row ff-buttons"><div class="ff-flex-spacer"></div>${s}</div>`}onOK(){this.dispatchCloseEvent(!0,this.value),this.remove()}onCancel(){this.dispatchCloseEvent(!1),this.remove()}onInputChange(e){this.value=e.detail.text}};i([r.property({type:String})],a.prototype,"type",void 0),i([r.property({type:String})],a.prototype,"caption",void 0),i([r.property({type:String})],a.prototype,"text",void 0),i([r.property({type:String})],a.prototype,"icon",void 0),i([r.property({type:String})],a.prototype,"buttons",void 0),i([r.property({type:String})],a.prototype,"defaultValue",void 0),i([r.property({type:Boolean})],a.prototype,"closable",void 0),a=n=i([r.customElement("ff-message-box")],a),t.default=a},function(e,t,s){"use strict";(function(e){var n=s(472),i=s(473),r=s(183);function a(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,s){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(e,t,s);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return u(this,e)}return d(this,e,t,s)}function d(e,t,s,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,s,n){if(t.byteLength,s<0||t.byteLength<s)throw new RangeError("'offset' is out of bounds");if(t.byteLength<s+(n||0))throw new RangeError("'length' is out of bounds");t=void 0===s&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,s):new Uint8Array(t,s,n);l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=h(e,t);return e}(e,t,s,n):"string"==typeof t?function(e,t,s){"string"==typeof s&&""!==s||(s="utf8");if(!l.isEncoding(s))throw new TypeError('"encoding" must be a valid string encoding');var n=0|m(t,s),i=(e=o(e,n)).write(t,s);i!==n&&(e=e.slice(0,i));return e}(e,t,s):function(e,t){if(l.isBuffer(t)){var s=0|p(t.length);return 0===(e=o(e,s)).length?e:(t.copy(e,0,0,s),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(n=t.length)!=n?o(e,0):h(e,t);if("Buffer"===t.type&&r(t.data))return h(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function c(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function u(e,t){if(c(t),e=o(e,t<0?0:0|p(t)),!l.TYPED_ARRAY_SUPPORT)for(var s=0;s<t;++s)e[s]=0;return e}function h(e,t){var s=t.length<0?0:0|p(t.length);e=o(e,s);for(var n=0;n<s;n+=1)e[n]=255&t[n];return e}function p(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function m(e,t){if(l.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var s=e.length;if(0===s)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return s;case"utf8":case"utf-8":case void 0:return V(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*s;case"hex":return s>>>1;case"base64":return z(e).length;default:if(n)return V(e).length;t=(""+t).toLowerCase(),n=!0}}function f(e,t,s){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===s||s>this.length)&&(s=this.length),s<=0)return"";if((s>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return P(this,t,s);case"utf8":case"utf-8":return E(this,t,s);case"ascii":return D(this,t,s);case"latin1":case"binary":return S(this,t,s);case"base64":return T(this,t,s);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,t,s);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function v(e,t,s){var n=e[t];e[t]=e[s],e[s]=n}function _(e,t,s,n,i){if(0===e.length)return-1;if("string"==typeof s?(n=s,s=0):s>2147483647?s=2147483647:s<-2147483648&&(s=-2147483648),s=+s,isNaN(s)&&(s=i?0:e.length-1),s<0&&(s=e.length+s),s>=e.length){if(i)return-1;s=e.length-1}else if(s<0){if(!i)return-1;s=0}if("string"==typeof t&&(t=l.from(t,n)),l.isBuffer(t))return 0===t.length?-1:y(e,t,s,n,i);if("number"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,s):Uint8Array.prototype.lastIndexOf.call(e,t,s):y(e,[t],s,n,i);throw new TypeError("val must be string, number or Buffer")}function y(e,t,s,n,i){var r,a=1,o=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,o/=2,l/=2,s/=2}function d(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var c=-1;for(r=s;r<o;r++)if(d(e,r)===d(t,-1===c?0:r-c)){if(-1===c&&(c=r),r-c+1===l)return c*a}else-1!==c&&(r-=r-c),c=-1}else for(s+l>o&&(s=o-l),r=s;r>=0;r--){for(var u=!0,h=0;h<l;h++)if(d(e,r+h)!==d(t,h)){u=!1;break}if(u)return r}return-1}function g(e,t,s,n){s=Number(s)||0;var i=e.length-s;n?(n=Number(n))>i&&(n=i):n=i;var r=t.length;if(r%2!=0)throw new TypeError("Invalid hex string");n>r/2&&(n=r/2);for(var a=0;a<n;++a){var o=parseInt(t.substr(2*a,2),16);if(isNaN(o))return a;e[s+a]=o}return a}function b(e,t,s,n){return U(V(t,e.length-s),e,s,n)}function M(e,t,s,n){return U(function(e){for(var t=[],s=0;s<e.length;++s)t.push(255&e.charCodeAt(s));return t}(t),e,s,n)}function w(e,t,s,n){return M(e,t,s,n)}function L(e,t,s,n){return U(z(t),e,s,n)}function x(e,t,s,n){return U(function(e,t){for(var s,n,i,r=[],a=0;a<e.length&&!((t-=2)<0);++a)s=e.charCodeAt(a),n=s>>8,i=s%256,r.push(i),r.push(n);return r}(t,e.length-s),e,s,n)}function T(e,t,s){return 0===t&&s===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,s))}function E(e,t,s){s=Math.min(e.length,s);for(var n=[],i=t;i<s;){var r,a,o,l,d=e[i],c=null,u=d>239?4:d>223?3:d>191?2:1;if(i+u<=s)switch(u){case 1:d<128&&(c=d);break;case 2:128==(192&(r=e[i+1]))&&(l=(31&d)<<6|63&r)>127&&(c=l);break;case 3:r=e[i+1],a=e[i+2],128==(192&r)&&128==(192&a)&&(l=(15&d)<<12|(63&r)<<6|63&a)>2047&&(l<55296||l>57343)&&(c=l);break;case 4:r=e[i+1],a=e[i+2],o=e[i+3],128==(192&r)&&128==(192&a)&&128==(192&o)&&(l=(15&d)<<18|(63&r)<<12|(63&a)<<6|63&o)>65535&&l<1114112&&(c=l)}null===c?(c=65533,u=1):c>65535&&(c-=65536,n.push(c>>>10&1023|55296),c=56320|1023&c),n.push(c),i+=u}return function(e){var t=e.length;if(t<=k)return String.fromCharCode.apply(String,e);var s="",n=0;for(;n<t;)s+=String.fromCharCode.apply(String,e.slice(n,n+=k));return s}(n)}t.Buffer=l,t.SlowBuffer=function(e){+e!=e&&(e=0);return l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,s){return d(null,e,t,s)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,s){return function(e,t,s,n){return c(t),t<=0?o(e,t):void 0!==s?"string"==typeof n?o(e,t).fill(s,n):o(e,t).fill(s):o(e,t)}(null,e,t,s)},l.allocUnsafe=function(e){return u(null,e)},l.allocUnsafeSlow=function(e){return u(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var s=e.length,n=t.length,i=0,r=Math.min(s,n);i<r;++i)if(e[i]!==t[i]){s=e[i],n=t[i];break}return s<n?-1:n<s?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!r(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var s;if(void 0===t)for(t=0,s=0;s<e.length;++s)t+=e[s].length;var n=l.allocUnsafe(t),i=0;for(s=0;s<e.length;++s){var a=e[s];if(!l.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,i),i+=a.length}return n},l.byteLength=m,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)v(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?E(this,0,e):f.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",s=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,s).match(/.{2}/g).join(" "),this.length>s&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,s,n,i){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===s&&(s=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||s>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=s)return 0;if(n>=i)return-1;if(t>=s)return 1;if(this===e)return 0;for(var r=(i>>>=0)-(n>>>=0),a=(s>>>=0)-(t>>>=0),o=Math.min(r,a),d=this.slice(n,i),c=e.slice(t,s),u=0;u<o;++u)if(d[u]!==c[u]){r=d[u],a=c[u];break}return r<a?-1:a<r?1:0},l.prototype.includes=function(e,t,s){return-1!==this.indexOf(e,t,s)},l.prototype.indexOf=function(e,t,s){return _(this,e,t,s,!0)},l.prototype.lastIndexOf=function(e,t,s){return _(this,e,t,s,!1)},l.prototype.write=function(e,t,s,n){if(void 0===t)n="utf8",s=this.length,t=0;else if(void 0===s&&"string"==typeof t)n=t,s=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(s)?(s|=0,void 0===n&&(n="utf8")):(n=s,s=void 0)}var i=this.length-t;if((void 0===s||s>i)&&(s=i),e.length>0&&(s<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var r=!1;;)switch(n){case"hex":return g(this,e,t,s);case"utf8":case"utf-8":return b(this,e,t,s);case"ascii":return M(this,e,t,s);case"latin1":case"binary":return w(this,e,t,s);case"base64":return L(this,e,t,s);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,e,t,s);default:if(r)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),r=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var k=4096;function D(e,t,s){var n="";s=Math.min(e.length,s);for(var i=t;i<s;++i)n+=String.fromCharCode(127&e[i]);return n}function S(e,t,s){var n="";s=Math.min(e.length,s);for(var i=t;i<s;++i)n+=String.fromCharCode(e[i]);return n}function P(e,t,s){var n=e.length;(!t||t<0)&&(t=0),(!s||s<0||s>n)&&(s=n);for(var i="",r=t;r<s;++r)i+=F(e[r]);return i}function C(e,t,s){for(var n=e.slice(t,s),i="",r=0;r<n.length;r+=2)i+=String.fromCharCode(n[r]+256*n[r+1]);return i}function Y(e,t,s){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>s)throw new RangeError("Trying to access beyond buffer length")}function A(e,t,s,n,i,r){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<r)throw new RangeError('"value" argument is out of bounds');if(s+n>e.length)throw new RangeError("Index out of range")}function j(e,t,s,n){t<0&&(t=65535+t+1);for(var i=0,r=Math.min(e.length-s,2);i<r;++i)e[s+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function O(e,t,s,n){t<0&&(t=4294967295+t+1);for(var i=0,r=Math.min(e.length-s,4);i<r;++i)e[s+i]=t>>>8*(n?i:3-i)&255}function R(e,t,s,n,i,r){if(s+n>e.length)throw new RangeError("Index out of range");if(s<0)throw new RangeError("Index out of range")}function N(e,t,s,n,r){return r||R(e,0,s,4),i.write(e,t,s,n,23,4),s+4}function H(e,t,s,n,r){return r||R(e,0,s,8),i.write(e,t,s,n,52,8),s+8}l.prototype.slice=function(e,t){var s,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(s=this.subarray(e,t)).__proto__=l.prototype;else{var i=t-e;s=new l(i,void 0);for(var r=0;r<i;++r)s[r]=this[r+e]}return s},l.prototype.readUIntLE=function(e,t,s){e|=0,t|=0,s||Y(e,t,this.length);for(var n=this[e],i=1,r=0;++r<t&&(i*=256);)n+=this[e+r]*i;return n},l.prototype.readUIntBE=function(e,t,s){e|=0,t|=0,s||Y(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},l.prototype.readUInt8=function(e,t){return t||Y(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||Y(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||Y(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||Y(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||Y(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,s){e|=0,t|=0,s||Y(e,t,this.length);for(var n=this[e],i=1,r=0;++r<t&&(i*=256);)n+=this[e+r]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},l.prototype.readIntBE=function(e,t,s){e|=0,t|=0,s||Y(e,t,this.length);for(var n=t,i=1,r=this[e+--n];n>0&&(i*=256);)r+=this[e+--n]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},l.prototype.readInt8=function(e,t){return t||Y(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||Y(e,2,this.length);var s=this[e]|this[e+1]<<8;return 32768&s?4294901760|s:s},l.prototype.readInt16BE=function(e,t){t||Y(e,2,this.length);var s=this[e+1]|this[e]<<8;return 32768&s?4294901760|s:s},l.prototype.readInt32LE=function(e,t){return t||Y(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||Y(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||Y(e,4,this.length),i.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||Y(e,4,this.length),i.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||Y(e,8,this.length),i.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||Y(e,8,this.length),i.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,s,n){(e=+e,t|=0,s|=0,n)||A(this,e,t,s,Math.pow(2,8*s)-1,0);var i=1,r=0;for(this[t]=255&e;++r<s&&(i*=256);)this[t+r]=e/i&255;return t+s},l.prototype.writeUIntBE=function(e,t,s,n){(e=+e,t|=0,s|=0,n)||A(this,e,t,s,Math.pow(2,8*s)-1,0);var i=s-1,r=1;for(this[t+i]=255&e;--i>=0&&(r*=256);)this[t+i]=e/r&255;return t+s},l.prototype.writeUInt8=function(e,t,s){return e=+e,t|=0,s||A(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,s){return e=+e,t|=0,s||A(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):j(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,s){return e=+e,t|=0,s||A(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):j(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,s){return e=+e,t|=0,s||A(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):O(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,s){return e=+e,t|=0,s||A(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):O(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,s,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*s-1);A(this,e,t,s,i-1,-i)}var r=0,a=1,o=0;for(this[t]=255&e;++r<s&&(a*=256);)e<0&&0===o&&0!==this[t+r-1]&&(o=1),this[t+r]=(e/a>>0)-o&255;return t+s},l.prototype.writeIntBE=function(e,t,s,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*s-1);A(this,e,t,s,i-1,-i)}var r=s-1,a=1,o=0;for(this[t+r]=255&e;--r>=0&&(a*=256);)e<0&&0===o&&0!==this[t+r+1]&&(o=1),this[t+r]=(e/a>>0)-o&255;return t+s},l.prototype.writeInt8=function(e,t,s){return e=+e,t|=0,s||A(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,s){return e=+e,t|=0,s||A(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):j(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,s){return e=+e,t|=0,s||A(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):j(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,s){return e=+e,t|=0,s||A(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):O(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,s){return e=+e,t|=0,s||A(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):O(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,s){return N(this,e,t,!0,s)},l.prototype.writeFloatBE=function(e,t,s){return N(this,e,t,!1,s)},l.prototype.writeDoubleLE=function(e,t,s){return H(this,e,t,!0,s)},l.prototype.writeDoubleBE=function(e,t,s){return H(this,e,t,!1,s)},l.prototype.copy=function(e,t,s,n){if(s||(s=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<s&&(n=s),n===s)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(s<0||s>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-s&&(n=e.length-t+s);var i,r=n-s;if(this===e&&s<t&&t<n)for(i=r-1;i>=0;--i)e[i+t]=this[i+s];else if(r<1e3||!l.TYPED_ARRAY_SUPPORT)for(i=0;i<r;++i)e[i+t]=this[i+s];else Uint8Array.prototype.set.call(e,this.subarray(s,s+r),t);return r},l.prototype.fill=function(e,t,s,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,s=this.length):"string"==typeof s&&(n=s,s=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!l.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<s)throw new RangeError("Out of range index");if(s<=t)return this;var r;if(t>>>=0,s=void 0===s?this.length:s>>>0,e||(e=0),"number"==typeof e)for(r=t;r<s;++r)this[r]=e;else{var a=l.isBuffer(e)?e:V(new l(e,n).toString()),o=a.length;for(r=0;r<s-t;++r)this[r+t]=a[r%o]}return this};var I=/[^+\/0-9A-Za-z-_]/g;function F(e){return e<16?"0"+e.toString(16):e.toString(16)}function V(e,t){var s;t=t||1/0;for(var n=e.length,i=null,r=[],a=0;a<n;++a){if((s=e.charCodeAt(a))>55295&&s<57344){if(!i){if(s>56319){(t-=3)>-1&&r.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&r.push(239,191,189);continue}i=s;continue}if(s<56320){(t-=3)>-1&&r.push(239,191,189),i=s;continue}s=65536+(i-55296<<10|s-56320)}else i&&(t-=3)>-1&&r.push(239,191,189);if(i=null,s<128){if((t-=1)<0)break;r.push(s)}else if(s<2048){if((t-=2)<0)break;r.push(s>>6|192,63&s|128)}else if(s<65536){if((t-=3)<0)break;r.push(s>>12|224,s>>6&63|128,63&s|128)}else{if(!(s<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;r.push(s>>18|240,s>>12&63|128,s>>6&63|128,63&s|128)}}return r}function z(e){return n.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(I,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function U(e,t,s,n){for(var i=0;i<n&&!(i+s>=t.length||i>=e.length);++i)t[i+s]=e[i];return i}}).call(this,s(45))},function(e,t,s){"use strict";(function(t){void 0===t||!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports={nextTick:function(e,s,n,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var r,a,o=arguments.length;switch(o){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick((function(){e.call(null,s)}));case 3:return t.nextTick((function(){e.call(null,s,n)}));case 4:return t.nextTick((function(){e.call(null,s,n,i)}));default:for(r=new Array(o-1),a=0;a<r.length;)r[a++]=arguments[a];return t.nextTick((function(){e.apply(null,r)}))}}}:e.exports=t}).call(this,s(58))},function(e,t,s){var n=s(76),i=n.Buffer;function r(e,t){for(var s in e)t[s]=e[s]}function a(e,t,s){return i(e,t,s)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(r(n,t),t.Buffer=a),r(i,a),a.from=function(e,t,s){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,s)},a.alloc=function(e,t,s){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof s?n.fill(t,s):n.fill(t):n.fill(0),n},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");const s=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);if(s)return s[2]?decodeURIComponent(s[2].replace(/\+/g," ")):""}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(323),i=s(11),r=s(118),a=s(324),o=s(81);t.schemas=o.schemas,t.types=o.types;class l extends i.default{constructor(e,t,s){if(super(),this.addEvents("value","link","change","dispose"),!t||void 0===t.preset)throw new Error("missing schema/preset");const n=t.preset,i=Array.isArray(n);this.type=typeof(i?n[0]:n),this.schema=t,this.custom=s||!1,this.elementCount=i?n.length:1,this.inLinks=[],this.outLinks=[],this._group=null,this._key="",this._path=e,this.value=null,this.reset(),this.changed=!t.event}get group(){return this._group}get key(){return this._key}get path(){return this._path}set path(e){this._path=e,this.emit({type:"change",what:"path",property:this})}get name(){return this._path.split(".").pop()}dispose(){this.unlink(),this._group&&this._group.removeProperty(this),this.emit({type:"dispose",property:this})}setValue(e,t,s){this.value=e,t||(this.changed=!0,this.isInput()&&(this._group.linkable.changed=!0)),s||this.emit("value",e);const n=this.outLinks;for(let e=0,t=n.length;e<t;++e)n[e].push()}setOption(e,t,s){if(!this.schema.options)throw new Error("not an 'option' type");const n=this.schema.options.indexOf(e);n>=0&&this.setValue(n,t,s)}copyValue(e,t){Array.isArray(e)&&(e=e.slice()),this.setValue(e,t)}set(e){e||(this.changed=!0,this.isInput()&&(this._group.linkable.changed=!0)),this.emit("value",this.value);const t=this.outLinks;for(let e=0,s=t.length;e<s;++e)t[e].push()}cloneValue(){const e=this.value;return Array.isArray(e)?e.slice():e}getValidatedValue(e){const t=this.value;if(this.isArray()){e=e||[];for(let s=0,n=t.length;s<n;++s)e[s]=this.validateValue(t[s]);return e}return this.validateValue(t)}linkTo(e,t,s){e.linkFrom(this,t,s)}linkFrom(e,t,s){if(!this.canLinkFrom(e,t,s))throw new Error(`can't link from '${e.path}' to '${this.path}'`);const n=new a.default(e,this,t,s);e.addOutLink(n),this.addInLink(n)}unlinkTo(e,t,s){e.unlinkFrom(this,t,s)}unlinkFrom(e,t,s){const n=this.inLinks.find(n=>n.source===e&&n.sourceIndex===t&&n.destinationIndex===s);return!!n&&(e.removeOutLink(n),this.removeInLink(n),!0)}unlink(){if(this.inLinks.slice().forEach(e=>{e.source.removeOutLink(e),this.removeInLink(e)}),this.outLinks.slice().forEach(e=>{this.removeOutLink(e),e.destination.removeInLink(e)}),0!==this.inLinks.length||0!==this.outLinks.length)throw new Error("fatal: leftover links")}addInLink(e){if(e.destination!==this)throw new Error("input link's destination must equal this");this.inLinks.push(e),this.requestSort(),this.emit({type:"link",add:!0,remove:!1,link:e})}addOutLink(e){if(e.source!==this)throw new Error("output link's source must equal this");this.outLinks.push(e),this.requestSort(),e.push()}removeInLink(e){const t=this.inLinks.indexOf(e);if(t<0)throw new Error("input link not found");this.inLinks.splice(t,1),this.requestSort(),0===this.inLinks.length&&"object"===this.type&&this.reset(),this.emit({type:"link",add:!1,remove:!0,link:e})}removeOutLink(e){const t=this.outLinks.indexOf(e);if(t<0)throw new Error("output link not found");this.outLinks.splice(t,1),this.requestSort()}canLinkTo(e,t,s){return e.canLinkFrom(this,t,s)}canLinkFrom(e,t,s){if(this.isOutput())return!1;const i=t>=0,a=s>=0;if(!e.isArray()&&i)throw new Error("non-array source property; can't link to element");if(!this.isArray()&&a)throw new Error("non-array destination property; can't link to element");const o=e.isArray()&&!i;return o===(this.isArray()&&!a)&&((!o||e.elementCount===this.elementCount)&&(!("object"===e.type&&"object"===this.type&&!n.default(e.schema.objectType,this.schema.objectType))&&r.canConvert(e.type,this.type)))}reset(){let e;if(this.isMulti()){let t=this.value;t?t.length=1:e=t=[],t[0]=this.clonePreset()}else e=this.clonePreset();this.setValue(e)}setMultiChannelCount(e){if(!this.isMulti())throw new Error("can't set multi channel count on non-multi property");const t=this.value,s=t.length;t.length=e;for(let n=s;n<e;++n)t[n]=this.clonePreset();this.changed=!0}requestSort(){this._group&&this._group.linkable&&this._group.linkable.requestSort()}setOptions(e){if(!this.schema.options)throw new Error(`property type mismatch, can't set options on '${this.path}'`);this.schema.options=e.slice(),this.emit({type:"change",what:"options",property:this})}getOptionText(){const e=this.schema.options;if("number"===this.type&&e){const t=Math.trunc(this.value);return e[t<0?0:t>=e.length?0:t]||""}}isInput(){return this._group&&this._group===this._group.linkable.ins}isOutput(){return this._group&&this._group===this._group.linkable.outs}isArray(){return Array.isArray(this.schema.preset)}isMulti(){return!!this.schema.multi}isDefault(){const e=this.schema.multi?this.value[0]:this.value,t=this.schema.preset,s=Array.isArray(e)?e.length:-1;if(s!==(Array.isArray(t)?t.length:-1))return!1;if(s>=0){for(let n=0;n<s;++n)if(e[n]!==t[n])return!1;return!0}return e===t}hasLinks(){return this.inLinks.length>0||this.outLinks.length>0}hasInLinks(e){const t=this.inLinks;if(!(e>=0))return t.length>0;for(let s=0,n=t.length;s<n;++s)if(t[s].destinationIndex===e)return!0;return!1}hasMainInLinks(){const e=this.inLinks;for(let t=0,s=e.length;t<s;++t)if(!(e[t].destinationIndex>=0))return!0;return!1}hasOutLinks(e){const t=this.outLinks;if(!(e>=0))return t.length>0;for(let s=0,n=t.length;s<n;++s)if(t[s].sourceIndex===e)return!0;return!1}inLinkCount(){return this.inLinks.length}outLinkCount(){return this.outLinks.length}toJSON(){let e=this.custom?{path:this.path,schema:Object.assign({},this.schema)}:null;return this.isOutput()||this.hasMainInLinks()||this.isDefault()||"object"===this.type||((e=e||{}).value=this.value),this.outLinks.length>0&&((e=e||{}).links=this.outLinks.map(e=>{const t={id:e.destination._group.linkable.id,key:e.destination.key};return e.sourceIndex>=0&&(t.srcIndex=e.sourceIndex),e.destinationIndex>=0&&(t.dstIndex=e.destinationIndex),t})),e}fromJSON(e,t){void 0!==e.value&&(this.value=e.value),void 0!==e.links&&e.links.forEach(e=>{t[e.id].ins[e.key].linkFrom(this,e.srcIndex,e.dstIndex)})}toString(){const e=this.schema,t=e.event?"event":e.options?"enum":this.type;return`${this.path} [${t}]`}dump(e=""){console.log(e+`Property '${this.path}', key: ${this.key}, value: ${this.value}`)}validateValue(e){const t=this.schema;if(t.enum){const s=Math.trunc(e);return t.enum[s]?s:0}if(t.options){const s=Math.trunc(e);return s<0?0:s>=t.options.length?0:s}return"number"===this.type?(e=t.min?Math.max(t.min,e):e,e=t.max?Math.min(t.max,e):e):e}clonePreset(){const e=this.schema.preset;return Array.isArray(e)?e.slice():e}}t.default=l},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(325);t.labels={xyzw:["X","Y","Z","W"],rgba:["R","G","B","A"]};const i=function(e){return void 0===e||"object"==typeof e&&!Array.isArray(e)?e:{preset:e}};t.makeType=function(e,t,s){return{path:t,schema:(s=i(s))?Object.assign({},e,s):e}},t.makeEnumType=function(e,t,s){s=i(s);const r={enum:e,options:n.enumToArray(e),preset:0};return{path:t,schema:s?Object.assign({},r,s):r}},t.makeOptionType=function(e,t,s){const n={options:e,preset:0};return{path:t,schema:(s=i(s))?Object.assign({},n,s):n}},t.makeObjectType=function(e,t,s){const n={preset:null,objectType:e};return{path:t,schema:(s=i(s))?Object.assign({},n,s):n}},t.schemas={Number:{preset:0},Integer:{preset:0,step:1,speed:.34,precision:0},Natural:{preset:0,step:1,speed:.34,precision:0,min:0},Unit:{preset:0,min:0,max:1,bar:!0},Percent:{preset:0,min:0,max:1,bar:!0,percent:!0},Vector2:{preset:[0,0]},Vector3:{preset:[0,0,0]},Vector4:{preset:[0,0,0,0]},Matrix2:{preset:[1,0,0,1]},Matrix3:{preset:[1,0,0,0,1,0,0,0,1]},Matrix4:{preset:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},Scale:{preset:1},Scale2:{preset:[1,1]},Scale3:{preset:[1,1,1]},IntVec2:{preset:[0,0],step:1,speed:.34,precision:0},IntVec3:{preset:[0,0,0],step:1,speed:.34,precision:0},ColorRGB:{preset:[1,1,1],semantic:"color",labels:t.labels.rgba,min:0,max:1,bar:!0},ColorRGBA:{preset:[1,1,1,1],semantic:"color",labels:t.labels.rgba,min:0,max:1,bar:!0},Boolean:{preset:!1},String:{preset:""},AssetPath:{preset:"",semantic:"asset-path"},Object:{preset:null,objectType:Object},Event:{preset:0,event:!0}},t.types={Property:(e,s)=>t.makeType(void 0,e,s),Number:(e,s)=>t.makeType(t.schemas.Number,e,s),Integer:(e,s)=>t.makeType(t.schemas.Integer,e,s),Natural:(e,s)=>t.makeType(t.schemas.Natural,e,s),Unit:(e,s)=>t.makeType(t.schemas.Unit,e,s),Percent:(e,s)=>t.makeType(t.schemas.Percent,e,s),Vector2:(e,s)=>t.makeType(t.schemas.Vector2,e,s),Vector3:(e,s)=>t.makeType(t.schemas.Vector3,e,s),Vector4:(e,s)=>t.makeType(t.schemas.Vector4,e,s),IntVec2:(e,s)=>t.makeType(t.schemas.IntVec2,e,s),IntVec3:(e,s)=>t.makeType(t.schemas.IntVec3,e,s),Matrix2:(e,s)=>t.makeType(t.schemas.Matrix2,e,s),Matrix3:(e,s)=>t.makeType(t.schemas.Matrix3,e,s),Matrix4:(e,s)=>t.makeType(t.schemas.Matrix4,e,s),Scale:(e,s)=>t.makeType(t.schemas.Scale,e,s),Scale2:(e,s)=>t.makeType(t.schemas.Scale2,e,s),Scale3:(e,s)=>t.makeType(t.schemas.Scale3,e,s),ColorRGB:(e,s)=>t.makeType(t.schemas.ColorRGB,e,s),ColorRGBA:(e,s)=>t.makeType(t.schemas.ColorRGBA,e,s),Boolean:(e,s)=>t.makeType(t.schemas.Boolean,e,s),String:(e,s)=>t.makeType(t.schemas.String,e,s),AssetPath:(e,s)=>t.makeType(t.schemas.AssetPath,e,s),Enum:(e,s,n)=>t.makeEnumType(s,e,n),Option:(e,s,n)=>t.makeOptionType(s,e,n),Object:(e,s,n)=>t.makeObjectType(s,e,n),Event:(e,s)=>t.makeType(t.schemas.Event,e,s)}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(16),i=s(11),r=s(328),a=s(1),o=s(8),l=s(62);class d extends i.default{constructor(e,t){super({knownEvents:!1}),this.nodes=new l.default(o.default),this.components=new l.default(a.default),this.roots=[],this._sorter=new r.default,this._sortRequested=!0,this._sortedList=null,this._tockList=[],this._isActive=!1,this.system=e,this.parent=t}get isActive(){return this._isActive}getComponent(e,t=!1){return this.components.get(e,t)}getComponents(e){return this.components.getArray(e)}getComponentsByTag(e){return this.components.getByTag(e)}hasComponent(e){return this.components.has(e)}getMainComponent(e,t=!1){return this.system.graph.components.get(e,t)}getMainComponents(e){return this.system.graph.components.getArray(e)}getMainComponentsByTag(e){return this.system.graph.components.getByTag(e)}hasMainComponent(e){return this.system.graph.components.has(e)}getSystemComponent(e,t=!1){return this.system.components.get(e,t)}getSystemComponents(e){return this.system.components.getArray(e)}getSystemComponentsByTag(e){return this.system.components.getByTag(e)}hasSystemComponent(e){return this.system.components.has(e)}getComponentById(e){return this.system.components.getById(e)}getNode(e,t=!1){return this.nodes.get(e,t)}getNodes(e){return this.nodes.getArray(e)}getNodesByTag(e){return this.nodes.getByTag(e)}hasNode(e){return this.nodes.has(e)}getMainNode(e,t=!1){return this.system.graph.nodes.get(e,t)}getMainNodes(e){return this.system.graph.nodes.getArray(e)}getMainNodesByTag(e){return this.system.graph.nodes.getByTag(e)}hasMainNode(e){return this.system.graph.nodes.has(e)}getSystemNode(e,t=!1){return this.system.nodes.get(e,t)}getSystemNodes(e){return this.system.nodes.getArray(e)}getSystemNodesByTag(e){return this.system.nodes.getByTag(e)}hasSystemNode(e){return this.system.nodes.has(e)}getNodeById(e){return this.system.nodes.getById(e)}activate(){if(this._isActive)return;this._isActive=!0,this._sortRequested&&(this._sortRequested=!1,this.sort());const e=this._sortedList;for(let t=0,s=e.length;t<s;++t){const s=e[t];s.activate&&s.activate()}}deactivate(){if(!this._isActive)return;this._isActive=!1;const e=this._sortedList;for(let t=0,s=e.length;t<s;++t){const s=e[t];s.deactivate&&s.deactivate()}}tick(e){if(!this._isActive)return;this._sortRequested&&(this._sortRequested=!1,this.sort());const t=this._sortedList;let s=!1;for(let n=0,i=t.length;n<i;++n){const i=t[n];i.updated=!1,i.changed?(i.update&&i.update(e)&&(i.updated=!0),i.tick&&i.tick(e)&&(i.updated=!0),i.resetChanged()):i.tick&&i.tick(e)&&(i.updated=!0),i.updated&&(s=!0,i.emit("update"))}return s}tock(e){if(!this._isActive)return;const t=this._tockList;let s=!1;for(let n=0,i=t.length;n<i;++n)s=t[n].tock(e)||s;return s}clear(){const e=this.nodes.cloneArray().reverse();for(let t=0,s=e.length;t<s;++t)e[t].dispose();if(this.nodes.length>0)throw new Error("graph not empty")}requestSort(){this._sortRequested=!0}sort(){this._sortedList=this._sorter.sort(this.components.getArray());this.parent&&(this.parent.name||this.parent.typeName)}createCustomNode(e,t,s){const i=this.system.registry.getType(e);if(!i)throw new Error(`node type '${o.default.getTypeName(e)}' not registered`);const r=new i(this,s||n.default(12,this.system.nodes.getDictionary()));return r.create(),t&&(r.name=t),s||(r.createComponents(),r.unlock()),r}createNode(e,t){const s=new o.default(this,t||n.default(12,this.system.nodes.getDictionary()));return s.create(),e&&(s.name=e),s.unlock(),s}findNodeByName(e,t){const s=this.nodes.getArray(t);for(let t=0,n=s.length;t<n;++t)if(s[t].name===e)return s[t]}findRootNodes(e){const t=this.nodes.getArray(e),s=[];for(let e=0,n=t.length;e<n;++e){const n=t[e].components.get("CHierarchy",!0);n&&n.parent||s.push(t[e])}return s}toString(e=!1){const t=this.nodes.getArray(),s=this.components.count(),n=`Graph - ${t.length} nodes, ${s} components.`;return e?n+"\n"+t.map(e=>e.toString(!0)).join("\n"):n}dump(e=""){console.log(e+"%cGraph","color: red"),this.findRootNodes().forEach(t=>t.dump(e+"  "))}toJSON(){const e={},t=[],s=this.nodes.getArray();for(let e=0,n=s.length;e<n;++e){const n=s[e],i=this.nodeToJSON(n);i.type=n.typeName,i.id=n.id,n.name&&(i.name=n.name),t.push(i)}return t.length>0&&(e.nodes=t),e}fromJSON(e){e.nodes&&(e.nodes.forEach(e=>{this.createCustomNode(e.type,e.name,e.id).fromJSON(e)}),e.nodes.forEach(e=>{this.nodes.getById(e.id).referencesFromJSON(e)}))}nodeToJSON(e){return e.toJSON()}_addNode(e){this.nodes.add(e),this.system._addNode(e)}_removeNode(e){this.system._removeNode(e),this.nodes.remove(e)}_addNodeTag(e,t){this.nodes.addByTag(e,t),this.system._addNodeTag(e,t)}_removeNodeTag(e,t){this.system._removeNodeTag(e,t),this.nodes.removeByTag(e,t)}_addComponent(e){if(e.isGraphSingleton&&this.components.has(e))throw new Error(`only one component of type '${e.typeName}' allowed per graph`);this.components.add(e),this.system._addComponent(e),e.tock&&this._tockList.push(e),this._sortRequested=!0}_removeComponent(e){this.system._removeComponent(e),this.components.remove(e),e.tock&&this._tockList.splice(this._tockList.indexOf(e),1),this._sortRequested=!0}_addComponentTag(e,t){this.components.addByTag(e,t),this.system._addComponentTag(e,t)}_removeComponentTag(e,t){this.system._removeComponentTag(e,t),this.components.removeByTag(e,t)}_addRoot(e){this.roots.push(e),this.parent&&this.parent.onAddInnerRoot(e)}_removeRoot(e){this.parent&&this.parent.onRemoveInnerRoot(e),this.roots.splice(this.roots.indexOf(e),1)}}t.default=d},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(3),i=s(333),r=s(334),a=s(335),o=new n.Vector3,l=new n.Box3(new n.Vector3(-1e4,-1e4,-1e4),new n.Vector3(1e4,1e4,1e4));t.default=class{constructor(e){this.renderer=e,this.pickTextures=[];for(let e=0;e<3;++e)this.pickTextures[e]=new n.WebGLRenderTarget(1,1,{stencilBuffer:!1});this.pickBuffer=new Uint8Array(4),this.indexShader=new i.default,this.positionShader=new r.default,this.normalShader=new a.default}static add(e,t){const s=e=>{e.material&&(e.onBeforeRender=function(t,s,n,i,r){r.isIndexShader&&r.setIndex(e.id)})};t?e.traverse(e=>s(e)):s(e)}static remove(e,t){const s=e=>{e.material&&(e.onBeforeRender=null)};t?e.traverse(e=>s(e)):s(e)}pickObject(e,t,s){const n=this.pickIndex(e,t,s);if(n>0)return e.getObjectById(n)}pickIndex(e,t,s){const n=s.viewport;t=n.updateCamera(t);const i=e.overrideMaterial;e.overrideMaterial=this.indexShader;const r=this.renderer,a=this.pickTextures[0],o=r.getClearColor().clone();n.applyPickViewport(a,s),r.setRenderTarget(a),r.setClearColor(0),r.clear(),r.render(e,t),r.setRenderTarget(null),r.setClearColor(o),e.overrideMaterial=i;const l=this.pickBuffer;return r.readRenderTargetPixels(a,0,0,1,1,l),l[0]+256*l[1]+65536*l[2]}pickPosition(e,t,s,i,r){i=i||l,r=r||new n.Vector3;const a=s.viewport;t=a.updateCamera(t);const d=e.overrideMaterial,c=e.overrideMaterial=this.positionShader,u=this.renderer,h=this.pickTextures,p=u.getClearColor().clone();u.setClearColor(0);for(let n=0;n<3;++n)c.uniforms.index.value=n,c.uniforms.range.value[0]=i.min.getComponent(n),c.uniforms.range.value[1]=i.max.getComponent(n),a.applyPickViewport(h[n],s),u.setRenderTarget(h[n]),u.clear(),u.render(e,t);u.setRenderTarget(null),u.setClearColor(p),e.overrideMaterial=d;const m=this.pickBuffer;for(let e=0;e<3;++e)u.readRenderTargetPixels(h[e],0,0,1,1,m),r.setComponent(e,2.337437050015319e-10*m[3]+5.983838848039216e-8*m[2]+1531862745098039e-20*m[1]+.003921568627451*m[0]);return i.getSize(o),r.multiply(o).add(i.min)}pickNormal(e,t,s,i){i=i||new n.Vector3;const r=s.viewport;t=r.updateCamera(t);const a=e.overrideMaterial;e.overrideMaterial=this.normalShader;const o=this.renderer,l=this.pickTextures[0],d=o.getClearColor().clone();r.applyPickViewport(l,s),o.setRenderTarget(l),o.setClearColor(0),o.clear(),o.render(e,t),o.setRenderTarget(null),o.setClearColor(d),e.overrideMaterial=a;const c=this.pickBuffer;return o.readRenderTargetPixels(l,0,0,1,1,c),i.set(c[0]/255*2-1,c[1]/255*2-1,c[2]/255*2-1).normalize()}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(1);class i extends n.default{constructor(e,t){super(e,t),this.outs=this.addOutputs(i.pulseOuts),this._systemUpdated=!1,this.addEvent("pulse"),this.onAnimationFrame=this.onAnimationFrame.bind(this),this.context={time:new Date,secondsElapsed:0,secondsDelta:0,frameNumber:0},this._secondsStarted=.001*Date.now(),this._secondsStopped=this._secondsStarted,this._animHandler=0,this._pulseEvent={type:"pulse",context:this.context,systemUpdated:!1}}start(){0===this._animHandler&&(this._secondsStopped>0&&(this._secondsStarted+=.001*Date.now()-this._secondsStopped,this._secondsStopped=0),this._animHandler=window.requestAnimationFrame(this.onAnimationFrame))}stop(){0!==this._animHandler&&(0===this._secondsStopped&&(this._secondsStopped=.001*Date.now()),window.cancelAnimationFrame(this._animHandler),this._animHandler=0)}pulse(e){const t=this.context,s=this.outs;t.time.setTime(e);const n=.001*e-this._secondsStarted;t.secondsDelta=n-t.secondsElapsed,t.secondsElapsed=n,t.frameNumber++,s.time.setValue(t.secondsElapsed),s.frame.setValue(t.frameNumber),this._pulseEvent.systemUpdated=this.system.graph.tick(this.context)||this._systemUpdated,this.emit(this._pulseEvent),this._systemUpdated=this.system.graph.tock(this.context)}onAnimationFrame(){this.pulse(Date.now()),this._animHandler=window.requestAnimationFrame(this.onAnimationFrame)}}t.default=i,i.typeName="CPulse",i.isSystemSingleton=!0,i.pulseOuts={time:n.types.Number("Pulse.Time"),frame:n.types.Integer("Pulse.Frame")}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(1),i=s(8);t.Node=i.default;const r=s(46),a=(e,t,s)=>{let n;const i=e.children;for(let e=0,s=i.length;e<s;++e)if(n=i[e].components.has(t))return!0;if(s)for(let e=0,s=i.length;e<s;++e)if(n=a(i[e],t,!0))return!0;return!1},o=(e,t,s)=>{let n;const i=e.children;for(let e=0,s=i.length;e<s;++e)if(n=i[e].components.get(t))return n;if(s)for(let e=0,s=i.length;e<s;++e)if(n=o(i[e],t,!0))return n;return null},l=(e,t,s)=>{let n=[];const i=e.children;for(let e=0,s=i.length;e<s;++e)n=n.concat(i[e].components.getArray(t));if(s)for(let e=0,s=i.length;e<s;++e)n=n.concat(l(i[e],t,!0));return n};class d extends n.default{constructor(){super(...arguments),this._parent=null,this._children=[]}get parent(){return this._parent}get children(){return this._children||[]}create(){super.create(),this.graph._addRoot(this),this.node.components.on(n.default,this.onComponent,this)}dispose(){this.node.components.off(n.default,this.onComponent,this),this._children.slice().forEach(e=>e.node.dispose()),this._parent&&this._parent.removeChild(this),this.graph._removeRoot(this),super.dispose()}getRootComponent(e){let t=this;for(;t._parent;)t=t._parent;return t?t.node.components.get(e):null}getParentComponent(e,t){let s=this;for(;;){if(!(s=s._parent)){const e=this.graph.parent;s=e?e.components.get(d):void 0}if(!s)return;const n=s.node.components.get(e,!0);if(n)return n;if(!t)return}}getParentNode(e,t){let s=this;for(;;){if(!(s=s._parent)){const e=this.graph.parent;s=e?e.components.get(d):void 0}if(!s)return;const n=s.node;if(n.is(e))return n;if(!t)return}}getSiblingNode(e){return this.getSiblingNodes(e)[0]}getSiblingNodes(e){const t=this._parent;return this.graph.nodes.getArray(e).filter(e=>{const s=e.components.get(d);return(s?s._parent:null)==t})}hasChildComponents(e,t){return a(this,e,t)}getChildComponent(e,t){return o(this,e,t)}getChildComponents(e,t){return l(this,e,t)}traverseUp(e,t,s,n){if(e)if(t){const e=this.node.components.getArray();for(let t=0,s=e.length;t<s;++t)if(n(e[t]))return}else if(n(this))return;let i=this._parent;if(!i&&s){const e=this.node.graph.parent;i=e?e.getComponent(d,!0):null}i&&i.traverseUp(!0,t,s,n)}traverseDown(e,t,s,n){if(e)if(t){const e=this.node.components.getArray();for(let t=0,s=e.length;t<s;++t)if(n(e[t]))return}else if(n(this))return;if(s){const e=this.node.components.getArray(r.default);for(let i=0,r=e.length;i<r;++i){const r=e[i].innerRoots;for(let e=0,i=r.length;e<i;++e)r[e].traverseDown(!0,t,s,n)}}const i=this._children;for(let e=0,r=i.length;e<r;++e)i[e].traverseDown(!0,t,s,n)}propagateUp(e,t,s){this.traverseUp(!0,e,t,e=>(e.emit(s),s.stopPropagation))}propagateDown(e,t,s){this.traverseDown(!0,e,t,e=>(e.emit(s),s.stopPropagation))}addChild(e){if(e===this)throw new Error("can't add self as child");if(e._parent)throw new Error("can't add child, component has a parent");if(e.graph!==this.graph)throw new Error("can't add child, component in different graph");e._parent=this,this._children.push(e),this.graph._removeRoot(e);const t={type:"hierarchy",add:!0,remove:!1,parent:this,child:e};this.traverseUp(!0,!1,!0,e=>e.emit(t)),this.traverseDown(!1,!1,!0,e=>e.emit(t)),this.system.emit(t)}removeChild(e){if(e._parent!==this)throw new Error("component not a child of this");const t={type:"hierarchy",add:!1,remove:!0,parent:this,child:e};this.traverseUp(!0,!1,!0,e=>e.emit(t)),this.traverseDown(!1,!1,!0,e=>e.emit(t)),this.system.emit(t);const s=this._children.indexOf(e);this._children.splice(s,1),e._parent=null,this.graph._addRoot(e)}onComponent(e){if(e.object===this)return;const t={type:"child",add:e.add,remove:e.remove,component:e.object};this.traverseUp(!0,!1,!0,e=>e.emit(t))}toJSON(){const e=super.toJSON();return this._children.length>0&&(e.children=this._children.map(e=>e.id)),e}referencesFromJSON(e){super.referencesFromJSON(e);const t=this.system.components.getDictionary();e.children&&e.children.forEach(e=>{const s=t[e];this.addChild(s)})}toString(){return super.toString()+` - children: ${this.children.length}`}dump(e=""){super.dump(e),this.children.length>0&&(console.log(e+"%cChildren","color: purple"),this.children.forEach(t=>t.node.dump(e+"  ")))}}t.default=d,d.typeName="CHierarchy"},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(338);t.EEasingCurve=n.EEasingCurve;const i=s(1),r=s(16);class a extends i.default{constructor(){super(...arguments),this.ins=this.addInputs(a.ins),this.outs=this.addOutputs(a.outs),this.targets=[],this.states={},this._currentValues=null,this._targetState=null,this._startTime=0,this._easingFunction=null}getState(e){return this.states[e]}setState(e){return e.id=e.id||r.default(6),this.states[e.id]=e,e.id}deleteState(e){delete this.states[e]}clear(){this.targets.forEach(e=>e.property.off("dispose",this.onPropertyDispose,this)),this.targets.length=0,this.states={},this._currentValues=null,this._targetState=null,this._startTime=0,this._easingFunction=null}dispose(){this.clear(),super.dispose()}tweenTo(e,t){const s=this.states[e],i=this.outs;if(s)return this._targetState=s,this._currentValues=this.getCurrentValues(),this._startTime=t,this._easingFunction=n.getEasingFunction(s.curve),i.switched.setValue(!1),i.tweening.setValue(!0),i.start.set(),!0}update(e){const t=this.ins,s=this.states,n=t.id.value,i=s[n];if(i){if((t.tween.changed||t.recall.changed)&&(t.curve.setValue(i.curve),t.duration.setValue(i.duration),t.threshold.setValue(i.threshold)),t.tween.changed)return this.tweenTo(n,e.secondsElapsed),!0;if(t.recall.changed)return this.setValues(i.values),!0;(t.curve.changed||t.duration.changed||t.threshold.changed)&&(i.curve=t.curve.value,i.duration=t.duration.value,i.threshold=t.threshold.value),t.store.changed&&(i.values=this.getCurrentValues()),t.delete.changed&&delete s[n]}else if(n&&t.store.changed){const e={id:this.ins.id.value,curve:this.ins.curve.getValidatedValue(),duration:this.ins.duration.value,threshold:this.ins.threshold.value,values:this.getCurrentValues()};s[e.id]=e}return!0}tick(e){const t=this._targetState;if(!t)return!1;const s=this.outs,n=this._currentValues,i=this._startTime,r=e.secondsElapsed-i,a=r/t.duration;if(a<1){const e=this._easingFunction(a),i=a>=t.threshold&&!s.switched.value;this.setValues(n,t.values,e,i),s.time.setValue(r),s.completed.setValue(a),i&&(s.switched.setValue(!0),s.switch.set())}else this.setValues(n,t.values,1,!s.switched.value),s.tweening.setValue(!1),s.time.setValue(t.duration),s.completed.setValue(1),s.end.set(),s.switched.value||s.switched.setValue(!0),this._currentValues=null,this._targetState=null,this._startTime=0,this._easingFunction=null;return!0}addTargetProperty(e){if("object"===e.type||e.schema.event)throw new Error("can't add object or event properties");if(this.getTarget(e))throw new Error("can't add, target already exists");e.on("dispose",this.onPropertyDispose,this);const t="number"===e.type&&!e.schema.options,s=e.isArray();this.targets.push({property:e,isNumber:t,isArray:s});const n=this.states,i=Object.keys(n);for(let t=0,s=i.length;t<s;++t)n[i[t]].values.push(e.cloneValue());this._currentValues&&this._currentValues.push(e.cloneValue())}removeTargetProperty(e){const t=this.getTarget(e);if(!t)throw new Error("can't remove, target doesn't exist");this.removeTarget(t)}hasTargetProperty(e){return!!this.getTarget(e)}fromJSON(e){super.fromJSON(e),e.state&&this.stateFromJSON(e.state)}stateFromJSON(e){e.targets&&(this.targets=e.targets.map(e=>{const t=this.getProperty(e.id,e.key);return{property:t,isNumber:!!t&&"number"===t.type&&!t.schema.options,isArray:!!t&&t.isArray()}})),e.states&&e.states.forEach(e=>this.states[e.id]=e),this._startTime=0}toJSON(){const e=super.toJSON(),t=this.stateToJSON();return t&&(e.state=t),e}stateToJSON(){const e={},t=this.targets;t.length>0&&(e.targets=t.map(e=>({id:e.property.group.linkable.id,key:e.property.key})));const s=Object.keys(this.states);return s.length>0&&(e.states=s.map(e=>this.states[e])),e}getTargetProperties(){return this.targets.map(e=>e.property)}onPropertyDispose(e){e.property.off("dispose",this.onPropertyDispose,this);const t=this.getTarget(e.property);this.removeTarget(t)}removeTarget(e){const t=this.targets.indexOf(e);this.targets.splice(t,1),this.removeChannel(t)}removeChannel(e){const t=this.states,s=Object.keys(t);for(let n=0,i=s.length;n<i;++n)t[s[n]].values.splice(e,1);this._currentValues&&this._currentValues.splice(e,1)}getTarget(e){return this.targets.find(t=>t.property===e)}getProperty(e,t){const s=this.system.components.getById(e);return s?s.ins[t]:null}setValues(e,t,s,n){const i=this.targets;for(let r=0,a=i.length;r<a;++r){const a=i[r],o=a.property;if(a.isNumber&&t){const n=e[r],i=t[r];if(a.isArray){let e=!1;for(let t=0,r=n.length;t<r;++t){const r=n[t]+s*(i[t]-n[t]);e=o.value[t]!==r||e,o.value[t]=r}e&&o.set()}else{const e=n+s*(i-n);e!==o.value&&o.setValue(e)}}else if(!t||n){const s=t?t[r]:e[r];if(a.isArray){let e=!1;for(let t=0,n=s.length;t<n;++t)e=o.value[t]!==s[t]||e,o.value[t]=s[t];e&&o.set()}else s!==o.value&&o.setValue(s)}}}getCurrentValues(){const e=[],t=this.targets;for(let s=0,n=t.length;s<n;++s)e.push(t[s].property.cloneValue());return e}}t.default=a,a.typeName="CTweenMachine",a.ins={id:i.types.String("Snapshot.Id"),curve:i.types.Enum("Tween.Curve",n.EEasingCurve),duration:i.types.Number("Tween.Duration",2),threshold:i.types.Percent("Tween.Threshold",.5),tween:i.types.Event("Control.Tween"),recall:i.types.Event("Control.Recall"),store:i.types.Event("Control.Store"),delete:i.types.Event("Control.Delete"),clear:i.types.Event("Control.Clear")},a.outs={count:i.types.Integer("Snapshots.Count"),tweening:i.types.Boolean("Tween.IsTweening"),time:i.types.Number("Tween.Time"),completed:i.types.Percent("Tween.Completed"),switched:i.types.Boolean("Tween.Switched"),start:i.types.Event("Tween.Start"),switch:i.types.Event("Tween.Switch"),end:i.types.Event("Tween.End")}},function(e,t,s){"use strict";var n=this&&this.__awaiter||function(e,t,s,n){return new(s||(s=Promise))((function(i,r){function a(e){try{l(n.next(e))}catch(e){r(e)}}function o(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(a,o)}l((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.default={json:function(e,t,s){return n(this,void 0,void 0,(function*(){return s&&"string"!=typeof s&&(s=JSON.stringify(s)),fetch(e,{headers:{Accept:"application/json","Content-Type":"application/json"},method:t,credentials:"same-origin",body:s}).then(s=>{if(!s.ok){const n=`fetch.json (${t} at '${e}'), error: ${s.status} - ${s.statusText}`;throw console.warn(n),new Error(n)}return s.json()}).catch(s=>{throw console.warn(`fetch.json (${t} at '${e}'), error: ${s.message}`),s})}))},text:function(e,t,s){return n(this,void 0,void 0,(function*(){return fetch(e,{headers:{Accept:"text/plain","Content-Type":"text/plain"},method:t,credentials:"include",body:s}).then(e=>{if(!e.ok)throw new Error(`status: ${e.status}`);return e.text()}).catch(s=>{throw console.warn(`fetch.text (${t} at '${e}'), error: ${s.message}`),s})}))},file:function(e,t,s,i=!0){return n(this,void 0,void 0,(function*(){const n={method:t,credentials:"include",body:s};return i||(n.headers={"Content-Type":"application/octet-stream"}),fetch(e,n).then(e=>{if(!e.ok)throw new Error(`status: ${e.status}`);return e}).catch(s=>{throw console.warn(`fetch.file (${t} at '${e}'), error: ${s.message}`),s})}))},buffer:function(e,t,s){return n(this,void 0,void 0,(function*(){return fetch(e,{headers:{Accept:"application/octet-stream","Content-Type":"application/octet-stream"},method:t,credentials:"include",body:s}).then(e=>{if(!e.ok)throw new Error(`status: ${e.status}`);return e.arrayBuffer()}).catch(s=>{throw console.warn(`fetch.buffer (${t} at '${e}'), error: ${s.message}`),s})}))}}},function(e,t,s){"use strict";function n(e){return"/"===e.charAt(0)}function i(e,t){for(var s=t,n=s+1,i=e.length;n<i;s+=1,n+=1)e[s]=e[n];e.pop()}s.r(t),t.default=function(e,t){void 0===t&&(t="");var s,r=e&&e.split("/")||[],a=t&&t.split("/")||[],o=e&&n(e),l=t&&n(t),d=o||l;if(e&&n(e)?a=r:r.length&&(a.pop(),a=a.concat(r)),!a.length)return"/";if(a.length){var c=a[a.length-1];s="."===c||".."===c||""===c}else s=!1;for(var u=0,h=a.length;h>=0;h--){var p=a[h];"."===p?i(a,h):".."===p?(i(a,h),u++):u&&(i(a,h),u--)}if(!d)for(;u--;u)a.unshift("..");!d||""===a[0]||a[0]&&n(a[0])||a.unshift("");var m=a.join("/");return s&&"/"!==m.substr(-1)&&(m+="/"),m}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(3),i=s(343).default,r=s(344).default,a=s(48);t.EShaderMode=a.EShaderMode;class o extends n.MeshStandardMaterial{constructor(e){super(),this._clayColor=new n.Color("#a67a6c"),this._wireColor=new n.Color("#004966"),this._wireEmissiveColor=new n.Color("#004966"),this._objectSpaceNormalMap=!1,this._paramCopy={},this._sideCopy=n.FrontSide,this.type="UberPBRMaterial",this.isUberPBRMaterial=!0,this.isMeshStandardMaterial=!0,this.isMeshPhysicalMaterial=!1,this.defines={STANDARD:!0,PHYSICAL:!1,OBJECTSPACE_NORMALMAP:!1,MODE_NORMALS:!1,MODE_XRAY:!1,CUT_PLANE:!1},this.uniforms=n.UniformsUtils.merge([n.ShaderLib.standard.uniforms,{aoMapMix:{value:new n.Vector3(.25,.25,.25)},cutPlaneDirection:{value:new n.Vector4(0,0,-1,0)},cutPlaneColor:{value:new n.Vector3(1,0,0)}}]),this._aoMapMix=this.uniforms.aoMapMix.value,this._cutPlaneDirection=this.uniforms.cutPlaneDirection.value,this._cutPlaneColor=this.uniforms.cutPlaneColor.value,this.vertexShader=r,this.fragmentShader=i,this.color=new n.Color(16777215),this.roughness=.7,this.metalness=0,e&&this.setValues(e)}set cutPlaneDirection(e){this._cutPlaneDirection.copy(e)}get cutPlaneDirection(){return this._cutPlaneDirection}set cutPlaneColor(e){this._cutPlaneColor.copy(e)}get cutPlaneColor(){return this._cutPlaneColor}set aoMapMix(e){this._aoMapMix.copy(e)}get aoMapMix(){return this._aoMapMix}setShaderMode(e){switch(Object.assign(this,this._paramCopy),this.defines.MODE_NORMALS=!1,this.defines.MODE_XRAY=!1,this.defines.OBJECTSPACE_NORMALMAP=this.normalMap&&this._objectSpaceNormalMap,this.needsUpdate=!0,e){case a.EShaderMode.Clay:this._paramCopy={color:this.color,map:this.map,roughness:this.roughness,metalness:this.metalness,aoMapIntensity:this.aoMapIntensity,blending:this.blending,transparent:this.transparent,depthWrite:this.depthWrite},this.color=this._clayColor,this.map=null,this.roughness=1,this.metalness=0,this.aoMapIntensity*=1,this.blending=n.NoBlending,this.transparent=!1,this.depthWrite=!0;break;case a.EShaderMode.Normals:this._paramCopy={blending:this.blending,transparent:this.transparent,depthWrite:this.depthWrite},this.defines.MODE_NORMALS=!0,this.blending=n.NoBlending,this.transparent=!1,this.depthWrite=!0;break;case a.EShaderMode.XRay:this._paramCopy={side:this.side,blending:this.blending,transparent:this.transparent,depthWrite:this.depthWrite},this.defines.MODE_XRAY=!0,this.side=n.DoubleSide,this.blending=n.AdditiveBlending,this.transparent=!0,this.depthWrite=!1;break;case a.EShaderMode.Wireframe:this._paramCopy={color:this.color,emissive:this.emissive,roughness:this.roughness,metalness:this.metalness,wireframe:this.wireframe,map:this.map,aoMap:this.aoMap,emissiveMap:this.emissiveMap,normalMap:this.normalMap},this.color=this._wireColor,this.emissive=this._wireEmissiveColor,this.roughness=.8,this.metalness=.1,this.wireframe=!0,this.map=null,this.aoMap=null,this.emissiveMap=null,this.normalMap=null,this.defines.OBJECTSPACE_NORMALMAP=!1}}enableCutPlane(e){this.defines.CUT_PLANE=e,e?(this._sideCopy=this.side,this.side=n.DoubleSide):this.side=this._sideCopy}enableObjectSpaceNormalMap(e){e!==this._objectSpaceNormalMap&&(this._objectSpaceNormalMap=e),this.normalMap&&(this.defines.OBJECTSPACE_NORMALMAP=e,this.needsUpdate=!0)}copyStandardMaterial(e){return this.color=e.color,this.roughness=e.roughness,this.roughnessMap=e.roughnessMap,this.metalness=e.metalness,this.metalnessMap=e.metalnessMap,this.map=e.map,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.normalMap=e.normalMap,this}}t.default=o},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=function(e,t){const s=document.createElement("a");s.download=t,s.href=e,document.body.appendChild(s),s.click(),document.body.removeChild(s)};t.default={text:function(e,t){const s=window.URL.createObjectURL(new Blob([e],{type:"text/plain"}));n(s,t)},json:function(e,t){"object"==typeof e&&(e=JSON.stringify(e));const s=window.URL.createObjectURL(new Blob([e],{type:"text/json"}));n(s,t)},url:function(e,t){n(e,t)}}},function(e,t,s){"use strict";var n=s(353),i=s(92),r=s(42),a=s(128),o=s(355);function l(e,t,s){var n=this._refs[s];if("string"==typeof n){if(!this._refs[n])return l.call(this,e,t,n);n=this._refs[n]}if((n=n||this._schemas[s])instanceof a)return m(n.schema,this._opts.inlineRefs)?n.schema:n.validate||this._compile(n);var i,r,o,c=d.call(this,t,s);return c&&(i=c.schema,t=c.root,o=c.baseId),i instanceof a?r=i.validate||e.call(this,i.schema,t,void 0,o):void 0!==i&&(r=m(i,this._opts.inlineRefs)?i:e.call(this,i,t,void 0,o)),r}function d(e,t){var s=n.parse(t),i=v(s),r=f(this._getId(e.schema));if(0===Object.keys(e.schema).length||i!==r){var o=y(i),l=this._refs[o];if("string"==typeof l)return c.call(this,e,l,s);if(l instanceof a)l.validate||this._compile(l),e=l;else{if(!((l=this._schemas[o])instanceof a))return;if(l.validate||this._compile(l),o==y(t))return{schema:l,root:e,baseId:r};e=l}if(!e.schema)return;r=f(this._getId(e.schema))}return h.call(this,s,r,e.schema,e)}function c(e,t,s){var n=d.call(this,e,t);if(n){var i=n.schema,r=n.baseId;e=n.root;var a=this._getId(i);return a&&(r=g(r,a)),h.call(this,s,r,i,e)}}e.exports=l,l.normalizeId=y,l.fullPath=f,l.url=g,l.ids=function(e){var t=y(this._getId(e)),s={"":t},a={"":f(t,!1)},l={},d=this;return o(e,{allKeys:!0},(function(e,t,o,c,u,h,p){if(""!==t){var m=d._getId(e),f=s[c],v=a[c]+"/"+u;if(void 0!==p&&(v+="/"+("number"==typeof p?p:r.escapeFragment(p))),"string"==typeof m){m=f=y(f?n.resolve(f,m):m);var _=d._refs[m];if("string"==typeof _&&(_=d._refs[_]),_&&_.schema){if(!i(e,_.schema))throw new Error('id "'+m+'" resolves to more than one schema')}else if(m!=y(v))if("#"==m[0]){if(l[m]&&!i(e,l[m]))throw new Error('id "'+m+'" resolves to more than one schema');l[m]=e}else d._refs[m]=v}s[t]=f,a[t]=v}})),l},l.inlineRef=m,l.schema=d;var u=r.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function h(e,t,s,n){if(e.fragment=e.fragment||"","/"==e.fragment.slice(0,1)){for(var i=e.fragment.split("/"),a=1;a<i.length;a++){var o=i[a];if(o){if(void 0===(s=s[o=r.unescapeFragment(o)]))break;var l;if(!u[o]&&((l=this._getId(s))&&(t=g(t,l)),s.$ref)){var c=g(t,s.$ref),h=d.call(this,n,c);h&&(s=h.schema,n=h.root,t=h.baseId)}}}return void 0!==s&&s!==n.schema?{schema:s,root:n,baseId:t}:void 0}}var p=r.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function m(e,t){return!1!==t&&(void 0===t||!0===t?function e(t){var s;if(Array.isArray(t)){for(var n=0;n<t.length;n++)if("object"==typeof(s=t[n])&&!e(s))return!1}else for(var i in t){if("$ref"==i)return!1;if("object"==typeof(s=t[i])&&!e(s))return!1}return!0}(e):t?function e(t){var s,n=0;if(Array.isArray(t)){for(var i=0;i<t.length;i++)if("object"==typeof(s=t[i])&&(n+=e(s)),n==1/0)return 1/0}else for(var r in t){if("$ref"==r)return 1/0;if(p[r])n++;else if("object"==typeof(s=t[r])&&(n+=e(s)+1),n==1/0)return 1/0}return n}(e)<=t:void 0)}function f(e,t){return!1!==t&&(e=y(e)),v(n.parse(e))}function v(e){return n.serialize(e).split("#")[0]+"#"}var _=/#\/?$/;function y(e){return e?e.replace(_,""):""}function g(e,t){return t=y(t),n.resolve(e,t)}},function(e,t,s){"use strict";var n=Array.isArray,i=Object.keys,r=Object.prototype.hasOwnProperty;e.exports=function e(t,s){if(t===s)return!0;if(t&&s&&"object"==typeof t&&"object"==typeof s){var a,o,l,d=n(t),c=n(s);if(d&&c){if((o=t.length)!=s.length)return!1;for(a=o;0!=a--;)if(!e(t[a],s[a]))return!1;return!0}if(d!=c)return!1;var u=t instanceof Date,h=s instanceof Date;if(u!=h)return!1;if(u&&h)return t.getTime()==s.getTime();var p=t instanceof RegExp,m=s instanceof RegExp;if(p!=m)return!1;if(p&&m)return t.toString()==s.toString();var f=i(t);if((o=f.length)!==i(s).length)return!1;for(a=o;0!=a--;)if(!r.call(s,f[a]))return!1;for(a=o;0!=a--;)if(!e(t[l=f[a]],s[l]))return!1;return!0}return t!=t&&s!=s}},function(e,t,s){"use strict";var n=s(91);function i(e,t,s){this.message=s||i.message(e,t),this.missingRef=n.url(e,t),this.missingSchema=n.normalizeId(n.fullPath(this.missingRef))}function r(e){return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}e.exports={Validation:r((function(e){this.message="validation failed",this.errors=e,this.ajv=this.validation=!0})),MissingRef:r(i)},i.message=function(e,t){return"can't resolve reference "+t+" from id "+e}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(3),i=s(35),r=new n.Vector3,a=new n.Vector3,o=new n.Matrix4,l=new n.Quaternion,d=new n.Euler;class c extends i.default{get settingProperties(){return[this.ins.position,this.ins.rotation,this.ins.scale]}get snapshotProperties(){return[this.ins.position,this.ins.rotation,this.ins.scale]}fromData(e){const{position:t,rotation:s,order:c,scale:u}=this.ins,h=i.ERotationOrder[c.getValidatedValue()];e.matrix?(o.fromArray(e.matrix),o.decompose(r,l,a),r.toArray(t.value),d.setFromQuaternion(l,h),d.toVector3(r).multiplyScalar(n.Math.RAD2DEG).toArray(s.value),a.toArray(u.value),t.set(),s.set(),u.set()):(e.translation&&t.setValue(e.translation.slice()),e.rotation&&(l.fromArray(e.rotation),d.setFromQuaternion(l,h),d.toVector3(r).multiplyScalar(n.Math.RAD2DEG).toArray(s.value),s.set()),e.scale&&u.setValue(e.scale.slice()),this.transform.changed=!0)}toData(){this.object3D.matrix.decompose(r,l,a);const e={};return 0===r.x&&0===r.y&&0===r.z||(e.translation=r.toArray()),0===l.x&&0===l.y&&0===l.z&&1===l.w||(e.rotation=l.toArray()),1===a.x&&1===a.y&&1===a.z||(e.scale=a.toArray()),e}}t.default=c,c.typeName="CVNode",c.text="Transform",c.icon=""},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(66);class i extends n.default{static fromJSON(e){return new i(e)}toString(){return this.data.title}init(){return{id:n.default.generateId(),title:"New Article",lead:"",tags:[],uri:"",mimeType:"",thumbnailUri:""}}deflate(e,t){t.id=e.id,t.uri=e.uri,e.title&&(t.title=e.title),e.lead&&(t.lead=e.lead),e.tags.length>0&&(t.tags=e.tags.slice()),e.mimeType&&(t.mimeType=e.mimeType),e.thumbnailUri&&(t.thumbnailUri=e.thumbnailUri)}inflate(e,t){t.id=e.id,t.uri=e.uri,t.title=e.title||"",t.lead=e.lead||"",t.tags=e.tags||[],t.mimeType=e.mimeType||"",t.thumbnailUri=e.thumbnailUri||""}}t.default=i},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(1),i=s(48);t.EReaderPosition=i.EReaderPosition;const r=s(95);t.Article=r.default;const a=s(43),o=s(30),l=s(13),d=s(36),c=s(20);class u extends n.default{constructor(){super(...arguments),this.ins=this.addInputs(u.ins),this.outs=this.addOutputs(u.outs)}get settingProperties(){return[this.ins.enabled,this.ins.position]}get snapshotProperties(){return[this.ins.enabled,this.ins.articleId]}get articles(){return Object.keys(this._articles).map(e=>this._articles[e])}get activeArticle(){return this.outs.article.value}get assetManager(){return this.getMainComponent(l.default)}get assetReader(){return this.getMainComponent(d.default)}get analytics(){return this.getMainComponent(c.default)}create(){super.create(),this.graph.components.on(o.default,this.onMetaComponent,this),this.updateArticles()}dispose(){this.graph.components.off(o.default,this.onMetaComponent,this),super.dispose()}update(e){const t=this.ins,s=this.outs;if(t.enabled.changed&&this.analytics.sendProperty("Reader.Enabled",t.enabled.value),t.articleId.changed){const e=this._articles[t.articleId.value]||null,n=e&&e.article;s.node.setValue(e&&e.node),s.article.setValue(n),s.content.setValue(""),n&&(this.readArticle(n),this.analytics.sendProperty("Reader.ArticleId",n.data.title))}return!0}readArticle(e){const t=this.outs,s=e.data.uri;if(s)return this.assetReader.getText(s).then(e=>this.parseArticle(e,s)).then(e=>t.content.setValue(e)).catch(e=>t.content.setValue(`<h2>Article not found at ${s}</h2>`));t.content.setValue("<h2>Can't display article: no URI.</h2>")}parseArticle(e,t){e=e.replace(/[\n\r]/g,"");const s=this.assetManager.getAssetBasePath(t);return e=e.replace(/(src=\")(.*?)(\")/g,(e,t,n,i)=>(n.startsWith("/")||n.startsWith("http")||(n=this.assetManager.getAssetUrl(s+n)),t+n+i)),Promise.resolve(e)}onMetaComponent(e){e.add&&e.object.articles.on("update",this.updateArticles,this),e.remove&&e.object.articles.off("update",this.updateArticles,this),this.updateArticles()}updateArticles(){const e=this.getGraphComponents(o.default),t=this._articles={};e.forEach(e=>{const s=e.articles,n=e.node;s.items.forEach(e=>{t[e.id]={article:e,node:n}})});const s=e[0];s&&s.leadArticle?this.ins.articleId.setValue(s.leadArticle.id):this.ins.articleId.setValue("")}fromData(e){e=e||{},this.ins.setValues({enabled:!!e.enabled,position:i.EReaderPosition[e.position]||i.EReaderPosition.Overlay,articleId:e.articleId||""})}toData(){const e=this.ins,t={enabled:e.enabled.value,position:i.EReaderPosition[e.position.value]||"Overlay"};return e.articleId.value&&(t.articleId=e.articleId.value),t}}t.default=u,u.typeName="CVReader",u.text="Reader",u.icon="",u.ins={enabled:n.types.Boolean("Reader.Enabled"),position:n.types.Enum("Reader.Position",i.EReaderPosition),articleId:n.types.String("Article.ID")},u.outs={article:n.types.Object("Article.Active",r.default),content:n.types.String("Article.Content"),node:n.types.Object("Article.Node",a.default)}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(66),i=s(51);class r extends n.default{static fromJSON(e){return new r(e)}init(){return{id:n.default.generateId(),title:"New Annotation",lead:"",marker:"",tags:[],articleId:"",imageUri:"",style:i.default.defaultTypeName,visible:!0,expanded:!1,position:null,direction:null,scale:1,offset:0,tilt:0,azimuth:0,color:[0,.61,.87],zoneIndex:-1}}deflate(e,t){t.id=e.id,e.title&&(t.title=e.title),e.lead&&(t.lead=e.lead),e.marker&&(t.marker=e.marker),e.tags.length>0&&(t.tags=e.tags),e.articleId&&(t.articleId=e.articleId),e.imageUri&&(t.imageUri=e.imageUri),e.style!==i.default.defaultTypeName&&(t.style=e.style),!1===e.visible&&(t.visible=e.visible),e.position&&(t.position=e.position.slice()),e.direction&&(t.direction=e.direction.slice()),1!==e.scale&&(t.scale=e.scale),0!==e.offset&&(t.offset=e.offset),0!==e.tilt&&(t.tilt=e.tilt),0!==e.azimuth&&(t.azimuth=e.azimuth);const s=e.color;return!s||1===s[0]&&1===s[1]&&1===s[2]||(t.color=s.slice()),e.zoneIndex>-1&&(t.zoneIndex=e.zoneIndex),e}inflate(e,t){t.id=e.id,t.title=e.title||"",t.lead=e.lead||"",t.marker=e.marker||"",t.tags=e.tags||[],t.articleId=e.articleId||"",t.imageUri=e.imageUri||"",t.style=e.style||i.default.defaultTypeName,t.visible=void 0===e.visible||e.visible,t.expanded=!1,t.position=e.position.slice(),t.direction=e.direction.slice(),t.scale=void 0!==e.scale?e.scale:1,t.offset=e.offset||0,t.tilt=e.tilt||0,t.azimuth=e.azimuth||0,t.color=e.color||r.defaultColor.slice(),t.zoneIndex=void 0!==e.zoneIndex?e.zoneIndex:-1}}t.default=r,r.defaultColor=[0,.61,.87]},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(3),i=s(142);t.html=i.html;const r=s(97);t.Annotation=r.default;const a=new n.Vector3(0,1,0),o=new n.Vector3;class l extends i.default{constructor(e){super(),this.annotation=e,this.matrixAutoUpdate=!1}get typeName(){return this.constructor.typeName}update(){super.update();const e=this.annotation.data;this.position.fromArray(e.position),o.fromArray(e.direction).normalize(),this.quaternion.setFromUnitVectors(a,o),this.updateMatrix()}emitClickEvent(){const e={type:"click",annotation:this.annotation,sprite:this};this.dispatchEvent(e)}emitLinkEvent(e){const t={type:"link",annotation:this.annotation,sprite:this,link:e};this.dispatchEvent(t)}}t.default=l,l.typeName="Annotation";class d extends i.SpriteElement{constructor(e){super(),this.sprite=e,this.discardEvent=this.discardEvent.bind(this),this.addEventListener("pointerdown",this.discardEvent),this.addEventListener("pointermove",this.discardEvent),this.addEventListener("pointerup",this.discardEvent),this.addEventListener("pointercancel",this.discardEvent),this.addEventListener("click",this.discardEvent)}firstConnected(){super.firstConnected(),this.classList.add("sv-annotation")}discardEvent(e){e.stopPropagation()}}t.AnnotationElement=d},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(43),i=s(32),r=s(69),a=s(30);class o extends n.default{get setup(){return this.components.get(r.default,!0)}createComponents(){this.createComponent(i.default),this.createComponent(r.default),this.createComponent(a.default)}fromDocument(e,t,s){const i=e.scenes[t];i.name&&(this.name=i.name),this.scene.fromDocument(e,i);const r=i.nodes;r&&r.forEach(t=>{const i=this.graph.createCustomNode(n.default);this.transform.addChild(i.transform),i.fromDocument(e,t,s)}),isFinite(i.meta)&&(this.meta.fromDocument(e,i),s.set(`meta/${i.meta}`,this.meta)),isFinite(i.setup)&&this.setup.fromDocument(e,t,s)}toDocument(e,t,s){e.scenes=e.scenes||[];const i=e.scenes.length,r={units:"cm"};return e.scenes.push(r),this.name&&(r.name=this.name),this.scene.toDocument(e,r),this.transform.children.map(e=>e.node).filter(e=>e.is(n.default)).forEach(n=>{if(n.hasNodeComponents(s)){const i=n.toDocument(e,t,s);r.nodes=r.nodes||[],r.nodes.push(i)}}),s&&!s.setup||(this.meta&&(r.meta=this.meta.toDocument(e,r),t.set(this.meta,`meta/${r.meta}`)),this.setup&&this.setup.toDocument(e,i,t)),i}}t.default=o,o.typeName="NVScene"},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(3),i=s(17),r=s(149),a=s(35),o=s(49);t.EProjection=o.EProjection;const l=s(32),d=s(13);var c;!function(e){e[e.Left=0]="Left",e[e.Right=1]="Right",e[e.Top=2]="Top",e[e.Bottom=3]="Bottom",e[e.Front=4]="Front",e[e.Back=5]="Back",e[e.None=6]="None"}(c=t.EViewPreset||(t.EViewPreset={}));new n.Vector3;const u=[];u[c.Left]=[0,-90,0],u[c.Right]=[0,90,0],u[c.Front]=[0,0,0],u[c.Back]=[0,180,0],u[c.Top]=[-90,0,0],u[c.Bottom]=[90,0,0];const h=function(e,t){for(let s=0,n=e.length;s<n;++s)e[s]=null===e[s]?t:e[s];return e};class p extends i.default{constructor(e,t){super(e,t),this.ins=this.addInputs(p.ins),this._controller=new r.default,this._scene=null,this._modelBoundingBox=null,this._hasChanged=!1,this._scene=this.scene}get settingProperties(){return[this.ins.enabled,this.ins.orbit,this.ins.offset,this.ins.autoZoom,this.ins.autoRotation,this.ins.lightsFollowCamera,this.ins.minOrbit,this.ins.minOffset,this.ins.maxOrbit,this.ins.maxOffset]}get snapshotProperties(){return[this.ins.orbit,this.ins.offset]}get assetManager(){return this.getMainComponent(d.default)}create(){super.create(),this.system.on(["pointer-down","pointer-up","pointer-move"],this.onPointer,this),this.system.on("wheel",this.onTrigger,this),this.assetManager.outs.completed.on("value",this.onLoadingCompleted,this)}dispose(){this.assetManager.outs.completed.off("value",this.onLoadingCompleted,this),this.system.off(["pointer-down","pointer-up","pointer-move"],this.onPointer,this),this.system.off("wheel",this.onTrigger,this),super.dispose()}update(){const e=this.ins,t=this._controller,s=this._scene.activeCameraComponent,n=s?s.camera:null,{projection:i,preset:r,orbit:o,offset:d}=e;if(s&&i.changed&&(n.setProjection(i.getValidatedValue()),s.ins.projection.setValue(i.value,!0)),r.changed&&r.value!==c.None&&o.setValue(u[r.getValidatedValue()].slice()),n&&e.zoomExtents.changed){const e=this.getGraphComponent(l.default);this._modelBoundingBox=e.outs.boundingBox.value,t.zoomExtents(this._modelBoundingBox)}if(e.lightsFollowCamera.changed){const t=this.getLightTransform();t&&(e.lightsFollowCamera.value?(t.ins.order.setValue(a.ERotationOrder.ZXY),t.ins.rotation.reset(),t.ins.rotation.linkFrom(o,1,1)):(t.ins.rotation.unlinkFrom(o,1,1),t.ins.rotation.reset()))}const{minOrbit:h,minOffset:p,maxOrbit:m,maxOffset:f}=e;return(o.changed||d.changed)&&(t.orbit.fromArray(o.value),t.offset.fromArray(d.value)),(h.changed||p.changed||m.changed||f.changed)&&(t.minOrbit.fromArray(h.value),t.minOffset.fromArray(p.value),t.maxOrbit.fromArray(m.value),t.maxOffset.fromArray(f.value)),!0}tick(){const e=this.ins,t=this._scene.activeCameraComponent;if(!e.enabled.value||!t)return;const s=this._controller;s.camera=t.camera;const n=t.transform,i=this.changed;return!!s.updateCamera(n.object3D,i)&&(s.orbit.toArray(e.orbit.value),e.orbit.set(!0),s.offset.toArray(e.offset.value),e.offset.set(!0),e.preset.value===c.None||e.preset.changed||e.preset.setValue(c.None,!0),n?n.setPropertiesFromMatrix():t.setPropertiesFromMatrix(),!0)}preRender(e){this._modelBoundingBox&&e.viewport.zoomExtents(this._modelBoundingBox)}tock(){return this._modelBoundingBox=null,!1}fromData(e){const t=(e=e||{}).orbit||{orbit:[-25,-25,0],offset:[0,0,100],minOrbit:[-90,-1/0,-1/0],minOffset:[-1/0,-1/0,.1],maxOrbit:[90,1/0,1/0],maxOffset:[1/0,1/0,1/0]};this.ins.copyValues({enabled:!!e.enabled,autoZoom:!!e.autoZoom,autoRotation:!!e.autoRotation,lightsFollowCamera:!!e.lightsFollowCamera,orbit:t.orbit,offset:t.offset,minOrbit:h(t.minOrbit,-1/0),maxOrbit:h(t.maxOrbit,1/0),minOffset:h(t.minOffset,-1/0),maxOffset:h(t.maxOffset,1/0)})}toData(){const e=this.ins,t={};return t.enabled=e.enabled.value,t.autoZoom=e.autoZoom.value,t.autoRotation=e.autoRotation.value,t.lightsFollowCamera=e.lightsFollowCamera.value,t.type="Orbit",t.orbit={orbit:e.orbit.cloneValue(),offset:e.offset.cloneValue(),minOrbit:e.minOrbit.cloneValue(),maxOrbit:e.maxOrbit.cloneValue(),minOffset:e.minOffset.cloneValue(),maxOffset:e.maxOffset.cloneValue()},t}getLightTransform(){const e=this.graph.findNodeByName("Lights");return e&&e.getComponent(a.default,!0)}onPointer(e){const t=e.viewport;t.camera||(this.ins.enabled.value&&this._scene.activeCameraComponent&&(this._controller.setViewportSize(t.width,t.height),this._controller.onPointer(e),e.stopPropagation=!0),this._hasChanged=!0)}onTrigger(e){const t=e.viewport;t.camera||(this.ins.enabled.value&&this._scene.activeCameraComponent&&(this._controller.setViewportSize(t.width,t.height),this._controller.onTrigger(e),e.stopPropagation=!0),this._hasChanged=!0)}onLoadingCompleted(e){this.ins.autoZoom.value&&!this._hasChanged&&this.ins.zoomExtents.set()}}t.default=p,p.typeName="CVOrbitNavigation",p.text="Orbit Navigation",p.icon="",p.ins={enabled:i.types.Boolean("Settings.Enabled",!0),preset:i.types.Enum("Camera.ViewPreset",c,c.None),projection:i.types.Enum("Camera.Projection",o.EProjection,o.EProjection.Perspective),lightsFollowCamera:i.types.Boolean("Navigation.LightsFollowCam",!0),autoRotation:i.types.Boolean("Navigation.AutoRotation",!1),zoomExtents:i.types.Event("Settings.ZoomExtents"),autoZoom:i.types.Boolean("Settings.AutoZoom",!0),orbit:i.types.Vector3("Current.Orbit",[-25,-25,0]),offset:i.types.Vector3("Current.Offset",[0,0,100]),minOrbit:i.types.Vector3("Limits.Min.Orbit",[-90,-1/0,-1/0]),minOffset:i.types.Vector3("Limits.Min.Offset",[-1/0,-1/0,.1]),maxOrbit:i.types.Vector3("Limits.Max.Orbit",[90,1/0,1/0]),maxOffset:i.types.Vector3("Limits.Max.Offset",[1/0,1/0,1/0])}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(3),i=s(17),r=s(424),a=s(18),o=s(32),l=new n.Matrix3,d=new n.Vector3,c=new n.Vector3,u=new n.Vector3(0,1,0);var h;!function(e){e[e.SetStart=0]="SetStart",e[e.SetEnd=1]="SetEnd"}(h=t.ETapeState||(t.ETapeState={}));class p extends i.default{constructor(e,t){super(e,t),this.ins=this.addInputs(p.tapeIns),this.outs=this.addOutputs(p.tapeOuts),this.startPin=null,this.endPin=null,this.line=null,this.object3D=new n.Group,this.startPin=new r.default,this.startPin.matrixAutoUpdate=!1,this.startPin.visible=!1,this.endPin=new r.default,this.endPin.matrixAutoUpdate=!1,this.endPin.visible=!1;const s=new n.Geometry;s.vertices.push(new n.Vector3(0,0,0),new n.Vector3(0,0,0));const i=new n.LineBasicMaterial;i.depthTest=!1,i.transparent=!0,this.line=new n.Line(s,i),this.line.visible=!1,this.object3D.add(this.startPin,this.endPin,this.line)}get settingProperties(){return[this.ins.visible]}get snapshotProperties(){return[this.ins.visible,this.ins.startPosition,this.ins.startDirection,this.ins.endPosition,this.ins.endDirection]}create(){super.create();const e=this.getGraphComponent(o.default);this.ins.boundingBox.linkFrom(e.outs.boundingBox)}update(e){super.update(e);const t=this.ins,s=this.line.geometry;if(t.boundingBox.changed&&t.boundingBox.value){t.boundingBox.value.getSize(d);const e=.5*d.length();this.startPin.scale.setScalar(.003*e),this.startPin.updateMatrix(),this.endPin.scale.setScalar(.003*e),this.endPin.updateMatrix()}if(t.visible.changed&&(t.visible.value?this.system.on("pointer-up",this.onPointerUp,this):this.system.off("pointer-up",this.onPointerUp,this)),t.startPosition.changed||t.startDirection.changed){const e=this.startPin;e.position.fromArray(t.startPosition.value),d.fromArray(t.startDirection.value),e.quaternion.setFromUnitVectors(u,d),e.updateMatrix(),s.vertices[0].copy(e.position),s.verticesNeedUpdate=!0}if(t.endPosition.changed||t.endDirection.changed){const e=this.endPin;e.position.fromArray(t.endPosition.value),d.fromArray(t.endDirection.value),e.quaternion.setFromUnitVectors(u,d),e.updateMatrix(),s.vertices[1].copy(e.position),s.verticesNeedUpdate=!0}return d.fromArray(t.startPosition.value),c.fromArray(t.endPosition.value),this.outs.distance.setValue(d.distanceTo(c)),!0}fromData(e){this.ins.copyValues({visible:e.enabled,startPosition:e.startPosition,startDirection:e.startDirection,endPosition:e.endPosition,endDirection:e.endDirection})}toData(){const e=this.ins;return{enabled:e.visible.cloneValue(),startPosition:e.startPosition.cloneValue(),startDirection:e.startDirection.cloneValue(),endPosition:e.endPosition.cloneValue(),endDirection:e.endDirection.cloneValue()}}onPointerUp(e){if(e.isDragging||!e.component||!e.component.is(a.default))return;const t=e.component.object3D.matrixWorld;l.getNormalMatrix(t);const s=e.view.pickPosition(e).applyMatrix4(t),n=e.view.pickNormal(e).applyMatrix3(l).normalize(),{startPin:i,endPin:r,line:o,ins:d,outs:c}=this;c.state.value===h.SetStart?(s.toArray(d.startPosition.value),n.toArray(d.startDirection.value),d.startPosition.set(),d.startDirection.set(),i.visible=!0,r.visible=!1,o.visible=!1,c.state.setValue(h.SetEnd)):(s.toArray(d.endPosition.value),n.toArray(d.endDirection.value),d.endPosition.set(),d.endDirection.set(),i.visible=!0,r.visible=!0,o.visible=!0,c.state.setValue(h.SetStart))}}t.default=p,p.typeName="CVTape",p.text="Tape",p.icon="",p.tapeIns={startPosition:i.types.Vector3("Start.Position"),startDirection:i.types.Vector3("Start.Direction"),endPosition:i.types.Vector3("End.Position"),endDirection:i.types.Vector3("End.Direction"),boundingBox:i.types.Object("Scene.BoundingBox",n.Box3)},p.tapeOuts={state:i.types.Enum("Tape.State",h),distance:i.types.Number("Tape.Distance")}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(2);t.customElement=n.customElement,t.property=n.property,t.html=n.html,t.TemplateResult=n.TemplateResult;const i=s(52),r=s(22);class a extends r.default{constructor(){super(...arguments),this.activeNode=null}get nodeProvider(){return this.system.getMainComponent(i.default)}connected(){super.connected();const e=this.nodeProvider;e.on("active-node",this.onActiveNodeEvent,this),e.activeNode&&(this.activeNode=e.activeNode,this.onActiveNode(null,e.activeNode))}disconnected(){const e=this.nodeProvider;e.off("active-node",this.onActiveNodeEvent,this),e.activeNode&&(this.activeNode=null,this.onActiveNode(e.activeNode,null)),super.disconnected()}onActiveNode(e,t){this.requestUpdate()}onActiveNodeEvent(e){this.activeNode=e.next,this.onActiveNode(e.previous,e.next)}}t.default=a},function(e,t,s){"use strict";var n=this&&this.__decorate||function(e,t,s,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r<3?i(a):r>3?i(t,s,a):i(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};Object.defineProperty(t,"__esModule",{value:!0});const i=s(2);s(5);let r=class extends i.default{constructor(){super(...arguments),this.property=null,this.name="",this.text=null}firstConnected(){this.classList.add("sv-property-view","sv-property-boolean")}update(e){if(!this.property)throw new Error("missing property attribute");if("boolean"!==this.property.type)throw new Error("not a boolean property");if(e.has("property")){const t=e.get("property");t&&t.off("value",this.onUpdate,this),this.property&&this.property.on("value",this.onUpdate,this)}super.update(e)}render(){const e=this.property,t=this.name||e.name,s=this.text;let n=e.value?Array.isArray(s)?s[1]:s||"On":Array.isArray(s)?s[0]:s||"Off";return i.html`<label class="ff-label ff-off">${t}</label>
            <ff-button .text=${n} ?selected=${e.value} @click=${this.onButtonClick}></ff-button>`}onButtonClick(e){this.property.setValue(!this.property.value)}};n([i.property({attribute:!1})],r.prototype,"property",void 0),n([i.property({type:String})],r.prototype,"name",void 0),n([i.property({attribute:!1})],r.prototype,"text",void 0),r=n([i.customElement("sv-property-boolean")],r),t.default=r},function(e,t,s){"use strict";var n=this&&this.__decorate||function(e,t,s,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r<3?i(a):r>3?i(t,s,a):i(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};Object.defineProperty(t,"__esModule",{value:!0});const i=s(2);let r=class extends i.default{constructor(){super(...arguments),this.name="",this.index=0,this.text="",this.placeholder="",this.align="left",this.initialValue=""}get textArea(){return this.getElementsByTagName("textarea").item(0)}select(){const e=this.textArea;e&&e.select()}focus(){const e=this.textArea;e&&e.focus()}blur(){const e=this.textArea;e&&e.blur()}hasFocus(){return this.textArea===document.activeElement}firstConnected(){this.classList.add("ff-control","ff-text-edit")}shouldUpdate(e){return!this.hasFocus()&&super.shouldUpdate(e)}render(){return i.html`<textarea
            .value=${this.text} placeholder=${this.placeholder}
            @keydown=${this.onKeyDown} @change=${this.onChange} @input=${this.onInput}
            @focus=${this.onFocus} @blur=${this.onBlur}
            style="text-align: ${this.align};"></textarea>`}onKeyDown(e){const t=e.target;"Escape"===e.key&&(this.revert(t),t.blur())}onChange(e){e.stopPropagation(),e.preventDefault(),this.text=e.target.value,this.dispatchChangeEvent(this.text,!1)}onInput(e){e.stopPropagation(),e.preventDefault(),this.text=e.target.value,this.dispatchChangeEvent(this.text,!0)}onFocus(e){this.initialValue=e.target.value}onBlur(e){this.commit(e.target),this.requestUpdate()}revert(e){e.value=this.initialValue,this.dispatchChangeEvent(e.value,!1)}commit(e){this.initialValue=e.value,this.dispatchChangeEvent(e.value,!1)}dispatchChangeEvent(e,t){this.dispatchEvent(new CustomEvent("change",{detail:{text:e,isEditing:t}}))}};n([i.property({type:String})],r.prototype,"name",void 0),n([i.property({type:Number})],r.prototype,"index",void 0),n([i.property({type:String})],r.prototype,"text",void 0),n([i.property({type:String})],r.prototype,"placeholder",void 0),n([i.property({type:String})],r.prototype,"align",void 0),r=n([i.customElement("ff-text-edit")],r),t.default=r},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(173),i=s(106),r=s(177),a=s(107),o=s(178),l=s(179),d=s(114);var c;!function(e){e[e.QC=0]="QC",e[e.Authoring=1]="Authoring",e[e.Expert=2]="Expert"}(c=t.ETaskMode||(t.ETaskMode={})),t.default={[c.QC]:[i.default,r.default,o.default,n.default],[c.Authoring]:[a.default,l.default,d.default,n.default],[c.Expert]:[i.default,r.default,o.default,a.default,l.default,d.default,n.default]}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(3),i=s(1),r=s(171),a=s(27),o=s(10),l=s(456),d=new n.Vector3,c=new n.Vector3,u=new n.Matrix4,h=new n.Quaternion,p=new n.Quaternion,m=new n.Box3,f=new n.Vector3;var v;!function(e){e[e.Off=0]="Off",e[e.Translate=1]="Translate",e[e.Rotate=2]="Rotate"}(v=t.EPoseManipMode||(t.EPoseManipMode={}));class _ extends o.default{constructor(e,t){super(e,t),this.ins=this.addInputs(_.ins),this.outs=this.addOutputs(_.outs),this._viewport=null,this._deltaX=0,this._deltaY=0,this.activeModel=null;const s=this.configuration;s.gridVisible=!0,s.annotationsVisible=!1,s.interfaceVisible=!1,s.bracketsVisible=!0}get renderer(){return this.getMainComponent(a.default)}createView(){return new l.default(this)}activateTask(){this.system.on(["pointer-down","pointer-up","pointer-move"],this.onPointer,this),this.renderer.views.forEach(e=>{e instanceof r.default&&(e.layout=r.EQuadViewLayout.Quad)}),this.startObserving(),super.activateTask()}deactivateTask(){super.deactivateTask(),this.stopObserving(),this.renderer.views.forEach(e=>{e instanceof r.default&&(e.layout=r.EQuadViewLayout.Single)}),this.system.off(["pointer-down","pointer-up","pointer-move"],this.onPointer,this)}update(e){return this.ins.modelUpdated&&this.activeModel&&(m.makeEmpty(),m.expandByObject(this.activeModel.object3D),m.getSize(f),f.toArray(this.outs.size.value),this.outs.size.set()),!0}tick(){if(!this.isActiveTask)return!1;const e=this.ins.mode.value;if(e===v.Off||!this.activeModel)return!1;const t=this._deltaX,s=this._deltaY;if(0===t&&0===s)return!1;this._deltaX=this._deltaY=0;const n=this._viewport.camera;if(!n||!n.isOrthographicCamera)return!1;if(n.matrixWorld.decompose(d,h,d),e===v.Rotate){const e=.002*(t-s);c.set(0,0,-1).applyQuaternion(h),p.setFromAxisAngle(c,e),u.makeRotationFromQuaternion(p)}else{const e=n.size/this._viewport.height;c.set(t*e,-s*e,0).applyQuaternion(h),u.identity().setPosition(c)}return u.multiply(this.activeModel.object3D.matrix),this.activeModel.setFromMatrix(u),!0}onActiveNode(e,t){this.activeModel&&this.ins.modelUpdated.unlinkFrom(this.activeModel.outs.updated),this.activeModel=t&&t.model,this.activeModel&&(this.ins.modelUpdated.linkFrom(this.activeModel.outs.updated),this.ins.modelUpdated.set(),this.selection.selectComponent(this.activeModel))}onPointer(e){if(this.ins.mode.value!==v.Off&&this.activeModel&&1===e.originalEvent.buttons&&"pointer-move"===e.type){const t=e.ctrlKey?.1:e.shiftKey?10:1;this._deltaX+=e.movementX*t,this._deltaY+=e.movementY*t,this._viewport=e.viewport,e.stopPropagation=!0}}}t.default=_,_.typeName="CVPoseTask",_.text="Pose",_.icon="move",_.ins={mode:i.types.Enum("Pose.Mode",v,v.Off),modelUpdated:i.types.Event("Model.Updated")},_.outs={size:i.types.Vector3("Model.Size")}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(3),i=s(63),r=s(1),a=s(97),o=s(10),l=s(18),d=s(50),c=s(459),u=s(32),h=new n.Vector3,p=new n.Vector3,m=new n.Quaternion,f=new n.Matrix4,v=new n.Matrix3;var _;!function(e){e[e.Off=0]="Off",e[e.Move=1]="Move",e[e.Create=2]="Create"}(_=t.EAnnotationsTaskMode||(t.EAnnotationsTaskMode={}));class y extends o.default{constructor(e,t){super(e,t),this.ins=this.addInputs(y.ins),this._activeAnnotations=null,this._defaultScale=1;const s=this.configuration;s.annotationsVisible=!0,s.gridVisible=!1,s.interfaceVisible=!0,s.bracketsVisible=!1}get activeAnnotations(){return this._activeAnnotations}set activeAnnotations(e){e!==this._activeAnnotations&&(this._activeAnnotations=e,this.emitUpdateEvent())}createView(){return new c.default(this)}activateTask(){this.startObserving(),super.activateTask()}deactivateTask(){this.stopObserving(),super.deactivateTask()}update(e){return this.ins.mode.changed&&this.emitUpdateEvent(),!0}removeAnnotation(){const e=this.activeAnnotations;if(e){const t=e.activeAnnotation;t&&e.removeAnnotation(t)}}onPointerUp(e){if(e.isDragging)return;const t=this.activeAnnotations;if(!t)return;const s=t.getComponent(l.default);if(e.component===s){h.fromArray(s.ins.position.value),i.degreesToQuaternion(s.ins.rotation.value,l.default.rotationOrder,m),p.setScalar(1),f.compose(h,m,p),v.getNormalMatrix(f);const t=e.view.pickPosition(e,s.localBoundingBox).applyMatrix4(f).toArray(),n=e.view.pickNormal(e).applyMatrix3(v).toArray(),r=this.ins.mode.getValidatedValue();r===_.Create?(this.createAnnotation(t,n),e.stopPropagation=!0):r===_.Move&&(this.moveAnnotation(t,n),e.stopPropagation=!0)}}createAnnotation(e,t){const s=this.activeAnnotations;if(!s)return;const n=s.activeAnnotation;let i=void 0;n&&((i=n.toJSON()).id=a.default.generateId());const r=s.getComponent(l.default),o=new a.default(i),d=o.data;d.position=e,d.direction=t,i||(d.scale=this._defaultScale*(1/r.outs.unitScale.value)),s.addAnnotation(o),s.activeAnnotation=o}moveAnnotation(e,t){const s=this.activeAnnotations;if(s){const n=s.activeAnnotation;n&&(n.data.position=e,n.data.direction=t,n.update(),s.updateAnnotation(n),this.emitUpdateEvent())}}onActiveDocument(e,t){if(super.onActiveDocument(e,t),t){const e=t.getInnerComponent(u.default);this._defaultScale=.05*e.outs.boundingRadius.value}}onActiveNode(e,t){const s=e?e.getComponent(d.default,!0):null,n=t?t.getComponent(d.default,!0):null;s&&s.off("annotation-update",this.emitUpdateEvent,this),n&&n.on("annotation-update",this.emitUpdateEvent,this);const i=e?e.getComponent(l.default,!0):null,r=t?t.getComponent(l.default,!0):null;i&&i.off("pointer-up",this.onPointerUp,this),r&&r.on("pointer-up",this.onPointerUp,this),this.activeAnnotations=n}emitUpdateEvent(){this.emit("update")}}t.default=y,y.typeName="CVAnnotationsTask",y.text="Annotations",y.icon="comment",y.ins={mode:r.types.Enum("Mode",_,_.Off)}},function(e,t,s){"use strict";var n,i="object"==typeof Reflect?Reflect:null,r=i&&"function"==typeof i.apply?i.apply:function(e,t,s){return Function.prototype.apply.call(e,t,s)};n=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!=e};function o(){o.init.call(this)}e.exports=o,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var l=10;function d(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function c(e,t,s,n){var i,r,a,o;if("function"!=typeof s)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof s);if(void 0===(r=e._events)?(r=e._events=Object.create(null),e._eventsCount=0):(void 0!==r.newListener&&(e.emit("newListener",t,s.listener?s.listener:s),r=e._events),a=r[t]),void 0===a)a=r[t]=s,++e._eventsCount;else if("function"==typeof a?a=r[t]=n?[s,a]:[a,s]:n?a.unshift(s):a.push(s),(i=d(e))>0&&a.length>i&&!a.warned){a.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=a.length,o=l,console&&console.warn&&console.warn(o)}return e}function u(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,r(this.listener,this.target,e))}function h(e,t,s){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:s},i=u.bind(n);return i.listener=s,n.wrapFn=i,i}function p(e,t,s){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?s?[i.listener||i]:[i]:s?function(e){for(var t=new Array(e.length),s=0;s<t.length;++s)t[s]=e[s].listener||e[s];return t}(i):f(i,i.length)}function m(e){var t=this._events;if(void 0!==t){var s=t[e];if("function"==typeof s)return 1;if(void 0!==s)return s.length}return 0}function f(e,t){for(var s=new Array(t),n=0;n<t;++n)s[n]=e[n];return s}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");l=e}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return d(this)},o.prototype.emit=function(e){for(var t=[],s=1;s<arguments.length;s++)t.push(arguments[s]);var n="error"===e,i=this._events;if(void 0!==i)n=n&&void 0===i.error;else if(!n)return!1;if(n){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var o=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw o.context=a,o}var l=i[e];if(void 0===l)return!1;if("function"==typeof l)r(l,this,t);else{var d=l.length,c=f(l,d);for(s=0;s<d;++s)r(c[s],this,t)}return!0},o.prototype.addListener=function(e,t){return c(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return c(this,e,t,!0)},o.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.on(e,h(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.prependListener(e,h(this,e,t)),this},o.prototype.removeListener=function(e,t){var s,n,i,r,a;if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);if(void 0===(n=this._events))return this;if(void 0===(s=n[e]))return this;if(s===t||s.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,s.listener||t));else if("function"!=typeof s){for(i=-1,r=s.length-1;r>=0;r--)if(s[r]===t||s[r].listener===t){a=s[r].listener,i=r;break}if(i<0)return this;0===i?s.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(s,i),1===s.length&&(n[e]=s[0]),void 0!==n.removeListener&&this.emit("removeListener",e,a||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,s,n;if(void 0===(s=this._events))return this;if(void 0===s.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==s[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete s[e]),this;if(0===arguments.length){var i,r=Object.keys(s);for(n=0;n<r.length;++n)"removeListener"!==(i=r[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=s[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},o.prototype.listeners=function(e){return p(this,e,!0)},o.prototype.rawListeners=function(e){return p(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):m.call(e,t)},o.prototype.listenerCount=m,o.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}},function(e,t,s){(t=e.exports=s(184)).Stream=t,t.Readable=t,t.Writable=s(110),t.Duplex=s(39),t.Transform=s(187),t.PassThrough=s(481)},function(e,t,s){"use strict";(function(t,n,i){var r=s(77);function a(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,s){var n=e.entry;e.entry=null;for(;n;){var i=n.callback;t.pendingcb--,i(s),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=y;var o,l=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?n:r.nextTick;y.WritableState=_;var d=s(59);d.inherits=s(37);var c={deprecate:s(480)},u=s(185),h=s(78).Buffer,p=i.Uint8Array||function(){};var m,f=s(186);function v(){}function _(e,t){o=o||s(39),e=e||{};var n=t instanceof o;this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var i=e.highWaterMark,d=e.writableHighWaterMark,c=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(d||0===d)?d:c,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var u=!1===e.decodeStrings;this.decodeStrings=!u,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var s=e._writableState,n=s.sync,i=s.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(s),t)!function(e,t,s,n,i){--t.pendingcb,s?(r.nextTick(i,n),r.nextTick(x,e,t),e._writableState.errorEmitted=!0,e.emit("error",n)):(i(n),e._writableState.errorEmitted=!0,e.emit("error",n),x(e,t))}(e,s,n,t,i);else{var a=w(s);a||s.corked||s.bufferProcessing||!s.bufferedRequest||M(e,s),n?l(b,e,s,a,i):b(e,s,a,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function y(e){if(o=o||s(39),!(m.call(y,this)||this instanceof o))return new y(e);this._writableState=new _(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),u.call(this)}function g(e,t,s,n,i,r,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,s?e._writev(i,t.onwrite):e._write(i,r,t.onwrite),t.sync=!1}function b(e,t,s,n){s||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),x(e,t)}function M(e,t){t.bufferProcessing=!0;var s=t.bufferedRequest;if(e._writev&&s&&s.next){var n=t.bufferedRequestCount,i=new Array(n),r=t.corkedRequestsFree;r.entry=s;for(var o=0,l=!0;s;)i[o]=s,s.isBuf||(l=!1),s=s.next,o+=1;i.allBuffers=l,g(e,t,!0,t.length,i,"",r.finish),t.pendingcb++,t.lastBufferedRequest=null,r.next?(t.corkedRequestsFree=r.next,r.next=null):t.corkedRequestsFree=new a(t),t.bufferedRequestCount=0}else{for(;s;){var d=s.chunk,c=s.encoding,u=s.callback;if(g(e,t,!1,t.objectMode?1:d.length,d,c,u),s=s.next,t.bufferedRequestCount--,t.writing)break}null===s&&(t.lastBufferedRequest=null)}t.bufferedRequest=s,t.bufferProcessing=!1}function w(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function L(e,t){e._final((function(s){t.pendingcb--,s&&e.emit("error",s),t.prefinished=!0,e.emit("prefinish"),x(e,t)}))}function x(e,t){var s=w(t);return s&&(!function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,r.nextTick(L,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),s}d.inherits(y,u),_.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(_.prototype,"buffer",{get:c.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(m=Function.prototype[Symbol.hasInstance],Object.defineProperty(y,Symbol.hasInstance,{value:function(e){return!!m.call(this,e)||this===y&&(e&&e._writableState instanceof _)}})):m=function(e){return e instanceof this},y.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},y.prototype.write=function(e,t,s){var n,i=this._writableState,a=!1,o=!i.objectMode&&(n=e,h.isBuffer(n)||n instanceof p);return o&&!h.isBuffer(e)&&(e=function(e){return h.from(e)}(e)),"function"==typeof t&&(s=t,t=null),o?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof s&&(s=v),i.ended?function(e,t){var s=new Error("write after end");e.emit("error",s),r.nextTick(t,s)}(this,s):(o||function(e,t,s,n){var i=!0,a=!1;return null===s?a=new TypeError("May not write null values to stream"):"string"==typeof s||void 0===s||t.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(e.emit("error",a),r.nextTick(n,a),i=!1),i}(this,i,e,s))&&(i.pendingcb++,a=function(e,t,s,n,i,r){if(!s){var a=function(e,t,s){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=h.from(t,s));return t}(t,n,i);n!==a&&(s=!0,i="buffer",n=a)}var o=t.objectMode?1:n.length;t.length+=o;var l=t.length<t.highWaterMark;l||(t.needDrain=!0);if(t.writing||t.corked){var d=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:s,callback:r,next:null},d?d.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else g(e,t,!1,o,n,i,r);return l}(this,i,o,e,t,s)),a},y.prototype.cork=function(){this._writableState.corked++},y.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||M(this,e))},y.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),y.prototype._write=function(e,t,s){s(new Error("_write() is not implemented"))},y.prototype._writev=null,y.prototype.end=function(e,t,s){var n=this._writableState;"function"==typeof e?(s=e,e=null,t=null):"function"==typeof t&&(s=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||function(e,t,s){t.ending=!0,x(e,t),s&&(t.finished?r.nextTick(s):e.once("finish",s));t.ended=!0,e.writable=!1}(this,n,s)},Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),y.prototype.destroy=f.destroy,y.prototype._undestroy=f.undestroy,y.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,s(58),s(478).setImmediate,s(45))},function(e,t,s){"use strict";var n=s(78).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=l,this.end=d,t=4;break;case"utf8":this.fillLast=o,t=4;break;case"base64":this.text=c,this.end=u,t=3;break;default:return this.write=h,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function o(e){var t=this.lastTotal-this.lastNeed,s=function(e,t,s){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}(this,e);return void 0!==s?s:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function l(e,t){if((e.length-t)%2==0){var s=e.toString("utf16le",t);if(s){var n=s.charCodeAt(s.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],s.slice(0,-1)}return s}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function d(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var s=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,s)}return t}function c(e,t){var s=(e.length-t)%3;return 0===s?e.toString("base64",t):(this.lastNeed=3-s,this.lastTotal=3,1===s?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-s))}function u(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function h(e){return e.toString(this.encoding)}function p(e){return e&&e.length?this.write(e):""}t.StringDecoder=r,r.prototype.write=function(e){if(0===e.length)return"";var t,s;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";s=this.lastNeed,this.lastNeed=0}else s=0;return s<e.length?t?t+this.text(e,s):this.text(e,s):t||""},r.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},r.prototype.text=function(e,t){var s=function(e,t,s){var n=t.length-1;if(n<s)return 0;var i=a(t[n]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--n<s||-2===i)return 0;if((i=a(t[n]))>=0)return i>0&&(e.lastNeed=i-2),i;if(--n<s||-2===i)return 0;if((i=a(t[n]))>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=s;var n=e.length-(s-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},r.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,s){var n=s(113).isArray;e.exports={copyOptions:function(e){var t,s={};for(t in e)e.hasOwnProperty(t)&&(s[t]=e[t]);return s},ensureFlagExists:function(e,t){e in t&&"boolean"==typeof t[e]||(t[e]=!1)},ensureSpacesExists:function(e){"spaces"in e&&("number"==typeof e.spaces||"string"==typeof e.spaces)||(e.spaces=0)},ensureAlwaysArrayExists:function(e){"alwaysArray"in e&&("boolean"==typeof e.alwaysArray||n(e.alwaysArray))||(e.alwaysArray=!1)},ensureKeyExists:function(e,t){e+"Key"in t&&"string"==typeof t[e+"Key"]||(t[e+"Key"]=t.compact?"_"+e:e)},checkFnExists:function(e,t){return e+"Fn"in t}}},function(e,t){e.exports={isArray:function(e){return Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(10),i=s(488),r=s(70);let a=0,o=0;class l extends n.default{constructor(e,t){super(e,t),this.ins=this.addInputs(l.ins),this.outs=this.addOutputs(l.outs),this.tours=null,this.machine=null,this.configuration.bracketsVisible=!1}create(){super.create(),this.startObserving()}dispose(){this.stopObserving(),super.dispose()}update(e){const t=this.ins,s=this.tours,n=this.machine;if(!s)return!1;const i=s.tours,l=s.outs.tourIndex.value,d=i[l];if(d){const e=d.steps,a=s.outs.stepIndex.value,c=e[a];if(t.createStep.changed){const t=n.setState({values:n.getCurrentValues(),curve:r.EEasingCurve.EaseOutQuad,duration:1.5,threshold:.5});return e.splice(a+1,0,{title:"New Step #"+o++,id:t}),s.ins.stepIndex.setValue(a+1),!0}if(c){if(t.stepTitle.changed||t.stepCurve.changed||t.stepDuration.changed||t.stepThreshold.changed)return c.title=t.stepTitle.value,n.ins.curve.setValue(t.stepCurve.value),n.ins.duration.setValue(t.stepDuration.value),n.ins.threshold.setValue(t.stepThreshold.value),s.ins.stepIndex.setValue(a),!0;if(t.updateStep.changed)return n.ins.store.set(),!0;if(t.deleteStep.changed)return e.splice(a,1),n.ins.delete.set(),s.ins.stepIndex.setValue(a),!0;if(a>0&&t.moveStepUp.changed)return e[a]=e[a-1],e[a-1]=c,s.ins.stepIndex.setValue(a-1),!0;if(a<e.length-1&&t.moveStepDown.changed)return e[a]=e[a+1],e[a+1]=c,s.ins.stepIndex.setValue(a+1),!0}if(t.tourTitle.changed||t.tourLead.changed||t.tourTags.changed)return d.title=t.tourTitle.value,d.lead=t.tourLead.value,d.tags=t.tourTags.value.split(",").map(e=>e.trim()).filter(e=>!!e),s.ins.tourIndex.set(),!0;if(t.deleteTour.changed)return d.steps.forEach(e=>n.deleteState(e.id)),i.splice(l,1),s.ins.tourIndex.setValue(l),s.outs.count.setValue(i.length),!0;if(l>0&&t.moveTourUp.changed)return i[l]=i[l-1],i[l-1]=d,s.ins.tourIndex.setValue(l-1),!0;if(l<i.length-1&&t.moveTourDown.changed)return i[l]=i[l+1],i[l+1]=d,s.ins.tourIndex.setValue(l+1),!0}return!t.createTour.changed||(i.splice(l+1,0,{title:"New Tour #"+a++,lead:"",tags:[],steps:[]}),s.ins.tourIndex.setValue(l+1),s.outs.count.setValue(i.length),!0)}createView(){return new i.default(this)}activateTask(){super.activateTask(),this.tours&&this.tours.ins.enabled.setValue(!0)}deactivateTask(){this.tours&&0===this.tours.outs.count.value&&this.tours.ins.enabled.setValue(!1),super.deactivateTask()}onActiveDocument(e,t){e&&(this.isActiveTask&&this.tours.ins.enabled.setValue(!1),this.tours.outs.tourIndex.off("value",this.onTourChange,this),this.tours.outs.stepIndex.off("value",this.onStepChange,this),this.tours=null,this.machine=null),t&&(this.tours=t.setup.tours,this.machine=this.tours.getComponent(r.default),this.tours.outs.tourIndex.on("value",this.onTourChange,this),this.tours.outs.stepIndex.on("value",this.onStepChange,this),this.isActiveTask&&this.tours.ins.enabled.setValue(!0)),this.changed=!0}onTourChange(){const e=this.ins,t=this.tours.activeTour;e.tourTitle.setValue(t?t.title:"",!0),e.tourLead.setValue(t?t.lead:"",!0),e.tourTags.setValue(t?t.tags.join(", "):"",!0)}onStepChange(){const e=this.ins,t=this.tours.activeStep,s=t?this.machine.getState(t.id):null;e.stepTitle.setValue(t?t.title:"",!0),e.stepCurve.setValue(s?s.curve:r.EEasingCurve.Linear,!0),e.stepDuration.setValue(s?s.duration:1,!0),e.stepThreshold.setValue(s?s.threshold:.5,!0)}}t.default=l,l.typeName="CVToursTask",l.text="Tours",l.icon="globe",l.ins={createTour:n.types.Event("Tours.Create"),deleteTour:n.types.Event("Tours.Delete"),moveTourUp:n.types.Event("Tours.MoveUp"),moveTourDown:n.types.Event("Tours.MoveDown"),tourTitle:n.types.String("Tour.Title"),tourLead:n.types.String("Tour.Lead"),tourTags:n.types.String("Tour.Tags"),updateStep:n.types.Event("Step.Update"),createStep:n.types.Event("Step.Create"),deleteStep:n.types.Event("Step.Delete"),moveStepUp:n.types.Event("Step.MoveUp"),moveStepDown:n.types.Event("Step.MoveDown"),stepTitle:n.types.String("Step.Title"),stepCurve:n.types.Enum("Step.Curve",r.EEasingCurve),stepDuration:n.types.Number("Step.Duration",1),stepThreshold:n.types.Percent("Step.Threshold",.5)},l.outs={}},function(e,t,s){"use strict";var n,i=this&&this.__decorate||function(e,t,s,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r<3?i(a):r>3?i(t,s,a):i(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};Object.defineProperty(t,"__esModule",{value:!0});const r=s(16),a=s(2),o=s(60);let l=n=class extends a.default{constructor(){super(),this.text="Panel",this.closable=!0,this.movable=!0,this.active=!1,this.header=null,this.onDragOver=this.onDragOver.bind(this),this.onDragLeave=this.onDragLeave.bind(this),this.onDrop=this.onDrop.bind(this),this.addEventListener("dragover",this.onDragOver),this.addEventListener("dragleave",this.onDragLeave),this.addEventListener("drop",this.onDrop),this.id=r.default(),this.contentId="",this.dropZone="none"}static getPanelById(e){return document.getElementById(e)}get parentStack(){return this.parentElement}setLayout(e,t){this.text=e.text||"",this.closable=e.closable||!1,this.movable=e.movable||!1,this.contentId=e.contentId;const s=t.get(e.contentId);if(s){const e=s();e.classList.add("ff-fullsize"),this.appendChild(e)}else console.warn(`failed to create content element for id: ${e.contentId}`)}getLayout(){return{contentId:this.contentId,text:this.text,closable:this.closable,movable:this.movable}}movePanel(e,t){const s=n.getPanelById(e),i=s.parentStack;if(s===this&&1===i.getPanelCount())return;const r=this.parentStack;if("before"===t||"after"===t){if(s===this)return;let e=this;if("after"===t){const t=this.header.nextElementSibling;e=t?t.panel:null}if(s===e)return;i.removePanel(s),r.insertPanel(s,e),r.activatePanel(s)}else{i.removePanel(s),r.parentElement.insertPanel(s,r,t)}setTimeout(()=>window.dispatchEvent(new CustomEvent("resize")),0)}activatePanel(){this.parentStack.activatePanel(this)}closePanel(){this.parentStack.removePanel(this),setTimeout(()=>window.dispatchEvent(new CustomEvent("resize")),0)}update(e){super.update(e),this.header&&this.header.requestUpdate(),e.has("active")&&(this.style.display=this.active?"flex":"none")}firstUpdated(){this.setStyle({flex:"1 1 100%",position:"relative",flexDirection:"column",boxSizing:"border-box",overflow:"hidden"})}onDragOver(e){if(Array.from(e.dataTransfer.items).find(e=>e.type===n.dragDropMimeType)){const t=this.getDropZone(e);t!==this.dropZone&&(this.dropZone=t,this.updateDropMarker()),e.stopPropagation(),e.preventDefault()}}onDragLeave(e){"none"!==this.dropZone&&(this.dropZone="none",this.updateDropMarker())}onDrop(e){if(Array.from(e.dataTransfer.items).find(e=>e.type===n.dragDropMimeType)){const t=this.dropZone;"none"!==t&&(this.dropZone="none",this.updateDropMarker()),e.stopPropagation();const s=e.dataTransfer.getData(n.dragDropMimeType);this.movePanel(s,t),this.dispatchEvent(new CustomEvent(o.default.changeEvent,{bubbles:!0}))}}getDropZone(e){const t=this.getBoundingClientRect(),s=(e.clientX-t.left)/t.width,n=(e.clientY-t.top)/t.height;let i;return i=s>.33&&s<.67&&n>.33&&n<.67?"after":s<n?s+n<1?"left":"bottom":s+n<1?"top":"right"}updateDropMarker(){const e=this.dropZone;let t=this.getElementsByClassName("ff-dock-drop-marker").item(0);if(t&&"none"===e)return void this.removeChild(t);t||((t=document.createElement("div")).classList.add("ff-dock-drop-marker"),this.appendChild(t));const s=t.style;switch(s.pointerEvents="none",s.zIndex="1",s.position="absolute",s.left="0",s.right="0",s.top="0",s.bottom="0",e){case"left":s.right="50%";break;case"right":s.left="50%";break;case"top":s.bottom="50%";break;case"bottom":s.top="50%"}}};l.dragDropMimeType="application/x-ff-dock-panel",i([a.property({type:String})],l.prototype,"text",void 0),i([a.property({type:Boolean})],l.prototype,"closable",void 0),i([a.property({type:Boolean})],l.prototype,"movable",void 0),i([a.property({type:Boolean,reflect:!0})],l.prototype,"active",void 0),l=n=i([a.customElement("ff-dock-panel")],l),t.default=l},function(e,t,s){"use strict";var n=this&&this.__decorate||function(e,t,s,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r<3?i(a):r>3?i(t,s,a):i(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};Object.defineProperty(t,"__esModule",{value:!0}),s(33),s(29);const i=s(2);let r=class extends i.default{constructor(){super(),this.rows=null,this.selectedRows=null,this.columns=null,this.placeholder="",this.resizable=!1,this._sortedRows=null,this._sortColumnIndex=-1,this._sortReversed=!1,this.onClickHeader=this.onClickHeader.bind(this)}firstConnected(){super.firstConnected(),this.classList.add("ff-table")}getSorter(e){return"function"==typeof e.sortable?e.sortable:(t,s)=>{const n=this.getCellContent(t,e,0),i=this.getCellContent(s,e,0);return"string"!=typeof n?0:n<i?-1:n>i?1:0}}isRowSelected(e){return this.selectedRows&&this.selectedRows instanceof Set?this.selectedRows.has(e):e===this.selectedRows}renderHeader(e,t){const s=e.header,n=1/this.columns.length,r="string"==typeof e.width?e.width:100*(e.width||n)+"%";let a=e.className||"",o=null;if(e.sortable&&(a+=" ff-sortable"),-1===this._sortColumnIndex&&e.sortable&&(this._sortColumnIndex=t),this._sortColumnIndex===t){const t=this.getSorter(e);t&&(this._sortReversed?this._sortedRows.sort((e,s)=>t(s,e)):this._sortedRows.sort(t),o=i.html`<ff-icon class="ff-table-sort-icon" name="${this._sortReversed?"caret-up":"caret-down"}"></ff-icon>`)}return"string"==typeof s?i.html`<th class="ff-table-header ${a}" style="width: ${r}" @click=${s=>this.onClickHeader(s,e,t)}>${s}${o}</th>`:s(e,this.onClickHeader)}renderRow(e,t){const s=this.columns,n=this.isRowSelected(e);return i.html`<tr ?selected=${n} @click=${s=>this.onClickRow(s,e,t)}>${s.map(s=>this.renderCell(e,s,t,n))}</tr>`}renderCell(e,t,s,n){const r=this.getCellContent(e,t,s);if("string"==typeof r){const e=t.className||"";return i.html`<td class="ff-table-cell ${e}">${r}</td>`}return r}getCellContent(e,t,s){const n=t.cell;return"string"==typeof n?e[n]:n(e,s)}render(){if(!this.rows||!this.columns)return i.html`<div class="ff-placeholder"><div class="ff-text">${this.placeholder}</div></div>`;const e=this._sortedRows=this.rows.slice(),t=this.columns;return i.html`<table><thead><tr>${t.map((e,t)=>this.renderHeader(e,t))}</tr></thead>
            <tbody>${e.map((e,t)=>this.renderRow(e,t))}</tbody></table>`}onClickHeader(e,t,s){t.sortable&&(this._sortColumnIndex===s?this._sortReversed=!this._sortReversed:(this._sortColumnIndex=s,this._sortReversed=!1),this.requestUpdate()),this.dispatchEvent(new CustomEvent("colclick",{detail:{column:t}}))}onClickRow(e,t,s){this.dispatchEvent(new CustomEvent("rowclick",{detail:{row:t,index:s}}))}};n([i.property({attribute:!1})],r.prototype,"rows",void 0),n([i.property({attribute:!1})],r.prototype,"selectedRows",void 0),n([i.property({attribute:!1})],r.prototype,"columns",void 0),n([i.property({type:String})],r.prototype,"placeholder",void 0),n([i.property({type:Boolean})],r.prototype,"resizable",void 0),r=n([i.customElement("ff-table")],r),t.default=r},function(e,t,s){"use strict";var n,i=this&&this.__decorate||function(e,t,s,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r<3?i(a):r>3?i(t,s,a):i(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};Object.defineProperty(t,"__esModule",{value:!0});const r=s(79),a=s(321),o=s(322),l=s(2),d=s(29),c=s(60),u=s(491),h=s(493),p=s(23),m=s(496),f=s(497),v=s(498),_=s(502),y=s(503),g=s(504),b=s(507),M=s(508),w=s(510);s(511),d.default.add("hierarchy",l.html`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path d="M104 272h192v48h48v-48h192v48h48v-57.59c0-21.17-17.22-38.41-38.41-38.41H344v-64h40c17.67 0 32-14.33 32-32V32c0-17.67-14.33-32-32-32H256c-17.67 0-32 14.33-32 32v96c0 8.84 3.58 16.84 9.37 22.63S247.16 160 256 160h40v64H94.41C73.22 224 56 241.23 56 262.41V320h48v-48zm168-160V48h96v64h-96zm336 240h-96c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32zm-16 112h-64v-64h64v64zM368 352h-96c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32zm-16 112h-64v-64h64v64zM128 352H32c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32zm-16 112H48v-64h64v64z"/></svg>`),d.default.add("select",l.html`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path d="M302.189 329.126H196.105l55.831 135.993c3.889 9.428-.555 19.999-9.444 23.999l-49.165 21.427c-9.165 4-19.443-.571-23.332-9.714l-53.053-129.136-86.664 89.138C18.729 472.71 0 463.554 0 447.977V18.299C0 1.899 19.921-6.096 30.277 5.443l284.412 292.542c11.472 11.179 3.007 31.141-12.5 31.141z"/></svg>`),d.default.add("create",l.html`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"/></svg>`),d.default.add("move",l.html`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M360.549 412.216l-96.064 96.269c-4.686 4.686-12.284 4.686-16.971 0l-96.064-96.269c-4.686-4.686-4.686-12.284 0-16.971l19.626-19.626c4.753-4.753 12.484-4.675 17.14.173L230 420.78h2V280H91.22v2l44.986 41.783c4.849 4.656 4.927 12.387.173 17.14l-19.626 19.626c-4.686 4.686-12.284 4.686-16.971 0L3.515 264.485c-4.686-4.686-4.686-12.284 0-16.971l96.269-96.064c4.686-4.686 12.284-4.686 16.97 0l19.626 19.626c4.753 4.753 4.675 12.484-.173 17.14L91.22 230v2H232V91.22h-2l-41.783 44.986c-4.656 4.849-12.387 4.927-17.14.173l-19.626-19.626c-4.686-4.686-4.686-12.284 0-16.971l96.064-96.269c4.686-4.686 12.284-4.686 16.971 0l96.064 96.269c4.686 4.686 4.686 12.284 0 16.971l-19.626 19.626c-4.753 4.753-12.484 4.675-17.14-.173L282 91.22h-2V232h140.78v-2l-44.986-41.783c-4.849-4.656-4.927-12.387-.173-17.14l19.626-19.626c4.686-4.686 12.284-4.686 16.971 0l96.269 96.064c4.686 4.686 4.686 12.284 0 16.971l-96.269 96.064c-4.686 4.686-12.284 4.686-16.971 0l-19.626-19.626c-4.753-4.753-4.675-12.484.173-17.14L420.78 282v-2H280v140.78h2l41.783-44.986c4.656-4.849 12.387-4.927 17.14-.173l19.626 19.626c4.687 4.685 4.687 12.283 0 16.969z"/></svg>`),d.default.add("rotate",l.html`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M370.72 133.28C339.458 104.008 298.888 87.962 255.848 88c-77.458.068-144.328 53.178-162.791 126.85-1.344 5.363-6.122 9.15-11.651 9.15H24.103c-7.498 0-13.194-6.807-11.807-14.176C33.933 94.924 134.813 8 256 8c66.448 0 126.791 26.136 171.315 68.685L463.03 40.97C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.749zM32 296h134.059c21.382 0 32.09 25.851 16.971 40.971l-41.75 41.75c31.262 29.273 71.835 45.319 114.876 45.28 77.418-.07 144.315-53.144 162.787-126.849 1.344-5.363 6.122-9.15 11.651-9.15h57.304c7.498 0 13.194 6.807 11.807 14.176C478.067 417.076 377.187 504 256 504c-66.448 0-126.791-26.136-171.315-68.685L48.97 471.03C33.851 486.149 8 475.441 8 454.059V320c0-13.255 10.745-24 24-24z"/></svg>`),d.default.add("compress",l.html`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M436 192H312c-13.3 0-24-10.7-24-24V44c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v84h84c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12zm-276-24V44c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v84H12c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h124c13.3 0 24-10.7 24-24zm0 300V344c0-13.3-10.7-24-24-24H12c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h84v84c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm192 0v-84h84c6.6 0 12-5.4 12-12v-40c0-6.6-5.4-12-12-12H312c-13.3 0-24 10.7-24 24v124c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12z"/></svg>`),d.default.add("camera",l.html`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z"/></svg>`),d.default.add("save",l.html`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"/></svg>`),d.default.add("exit",l.html`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"/></svg>`),d.default.add("expert",l.html`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path d="M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"/></svg>`),d.default.add("pen",l.html`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M290.74 93.24l128.02 128.02-277.99 277.99-114.14 12.6C11.35 513.54-1.56 500.62.14 485.34l12.7-114.22 277.9-277.88zm207.2-19.06l-60.11-60.11c-18.75-18.75-49.16-18.75-67.91 0l-56.55 56.55 128.02 128.02 56.55-56.55c18.75-18.76 18.75-49.16 0-67.91z"/></svg>`),d.default.add("undo",l.html`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M255.545 8c-66.269.119-126.438 26.233-170.86 68.685L48.971 40.971C33.851 25.851 8 36.559 8 57.941V192c0 13.255 10.745 24 24 24h134.059c21.382 0 32.09-25.851 16.971-40.971l-41.75-41.75c30.864-28.899 70.801-44.907 113.23-45.273 92.398-.798 170.283 73.977 169.484 169.442C423.236 348.009 349.816 424 256 424c-41.127 0-79.997-14.678-110.63-41.556-4.743-4.161-11.906-3.908-16.368.553L89.34 422.659c-4.872 4.872-4.631 12.815.482 17.433C133.798 479.813 192.074 504 256 504c136.966 0 247.999-111.033 248-247.998C504.001 119.193 392.354 7.755 255.545 8z"/></svg>`),d.default.add("redo",l.html`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M256.455 8c66.269.119 126.437 26.233 170.859 68.685l35.715-35.715C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.75c-30.864-28.899-70.801-44.907-113.23-45.273-92.398-.798-170.283 73.977-169.484 169.442C88.764 348.009 162.184 424 256 424c41.127 0 79.997-14.678 110.629-41.556 4.743-4.161 11.906-3.908 16.368.553l39.662 39.662c4.872 4.872 4.631 12.815-.482 17.433C378.202 479.813 319.926 504 256 504 119.034 504 8.001 392.967 8 256.002 7.999 119.193 119.646 7.755 256.455 8z"/></svg>`);let L=n=class extends l.default{constructor(e){if(super(),this.onUnload=this.onUnload.bind(this),e)this.application=e;else{const e={document:this.getAttribute("document"),model:this.getAttribute("model"),geometry:this.getAttribute("geometry"),texture:this.getAttribute("texture"),quality:this.getAttribute("quality"),referrer:this.getAttribute("referrer"),mode:this.getAttribute("mode"),expert:this.hasAttribute("expert")};this.application=new o.default(null,e)}window.voyagerStory=this.application,this.dockView=null;const t=this.application.system;t.components.get(p.default).ins.mode.on("value",this.onTaskMode,this);const s=this.registry=new Map,i=this.application.explorer;s.set("explorer",()=>new f.default(i)),s.set("tour-editor",()=>new _.default(t)),s.set("task",()=>new y.default(t)),s.set("notes",()=>new g.default(t)),s.set("console",()=>new b.default(t)),s.set("navigator",()=>new h.default(t)),s.set("hierarchy",()=>new u.default(t)),s.set("inspector",()=>new M.default(t)),s.set("assets",()=>new w.default(t)),s.set("article-editor",()=>new v.default(t));const l=void 0!==r.default("reset")?null:a.default.get("voyager-story",n.stateKey);this.state=l||{regularLayout:n.regularLayout,expertLayout:n.expertLayout}}get taskProvider(){return this.application.system.getMainComponent(p.default)}firstConnected(){this.setStyle({display:"flex",flexDirection:"column"}),this.appendElement(new m.default(this.application.system)),this.dockView=this.appendElement(c.default),this.restoreLayout(),window.addEventListener("beforeunload",this.onUnload)}disconnected(){this.storeLayout(),a.default.set("voyager-story",n.stateKey,this.state)}onUnload(){this.storeLayout(),a.default.set("voyager-story",n.stateKey,this.state)}onTaskMode(e){this.storeLayout(),this.restoreLayout()}storeLayout(){const e=this.state;this.taskProvider.expertMode?e.expertLayout=this.dockView.getLayout():e.regularLayout=this.dockView.getLayout()}restoreLayout(){const e=this.state,t=this.taskProvider.expertMode;this.dockView.setLayout(t?e.expertLayout:e.regularLayout,this.registry),this.dockView.setPanelsMovable(!0)}};L.stateKey="main-view-2",L.regularLayout={type:"strip",direction:"horizontal",size:1,elements:[{type:"strip",direction:"vertical",size:.22,elements:[{type:"stack",size:.2,activePanelIndex:0,panels:[{contentId:"navigator",text:"Navigator"},{contentId:"assets",text:"Media"}]},{type:"stack",size:.8,activePanelIndex:0,panels:[{contentId:"task",text:"Task"}]}]},{type:"strip",direction:"vertical",size:.78,elements:[{type:"stack",size:.75,activePanelIndex:0,panels:[{contentId:"explorer",text:"Explorer"}]},{type:"stack",size:.25,activePanelIndex:0,panels:[{contentId:"article-editor",text:"Article Editor"},{contentId:"tour-editor",text:"Tour Editor"},{contentId:"notes",text:"Note Editor"}]}]}]},L.expertLayout={type:"strip",direction:"horizontal",size:1,elements:[{type:"strip",direction:"vertical",size:.2,elements:[{type:"stack",size:.3,activePanelIndex:0,panels:[{contentId:"navigator",text:"Navigator"},{contentId:"assets",text:"Media"}]},{type:"stack",size:.7,activePanelIndex:0,panels:[{contentId:"task",text:"Task"}]}]},{type:"strip",direction:"vertical",size:.6,elements:[{type:"stack",size:.8,activePanelIndex:0,panels:[{contentId:"explorer",text:"Explorer"}]},{type:"stack",size:.2,activePanelIndex:0,panels:[{contentId:"article-editor",text:"Article Editor"},{contentId:"tour-editor",text:"Tour Editor"},{contentId:"notes",text:"Note Editor"},{contentId:"console",text:"Console"}]}]},{type:"strip",direction:"vertical",size:.2,elements:[{type:"stack",size:.6,activePanelIndex:0,panels:[{contentId:"hierarchy",text:"Hierarchy"}]},{type:"stack",size:.4,activePanelIndex:0,panels:[{contentId:"inspector",text:"Inspector"}]}]}]},L=n=i([l.customElement("voyager-story")],L),t.default=L},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=[function(e){return e},function(e,t){for(let s=0,n=t.length;s<n;++s)t[s]=e[s];return t}],i=[function(e){return!!e},function(e,t){for(let s=0,n=t.length;s<n;++s)t[s]=!!e[s];return t}],r=[function(e){return String(e)},function(e,t){for(let s=0,n=t.length;s<n;++s)t[s]=String(e[s]);return t}],a=[function(e,t){throw new Error(`illegal value conversion from ${typeof e} to ${typeof t}`)},function(e,t,s){throw new Error(`illegal array conversion from ${typeof e[0]} to ${typeof t[0]}`)}],o={number:{number:n,boolean:i,string:r,object:a},boolean:{number:[function(e){return e?1:0},function(e,t){for(let s=0,n=t.length;s<n;++s)t[s]=e[s]?1:0;return t}],boolean:n,string:r,object:a},string:{number:[function(e){return parseFloat(e)||0},function(e,t){for(let s=0,n=t.length;s<n;++s)t[s]=parseFloat(e[s])||0;return t}],boolean:i,string:n,object:a},object:{number:a,boolean:i,string:r,object:n}},l={number:{number:!0,boolean:!0,string:!0,object:!1},boolean:{number:!0,boolean:!0,string:!0,object:!1},string:{number:!0,boolean:!0,string:!0,object:!1},object:{number:!1,boolean:!0,string:!0,object:!0}},d=[[function(e,t,s){return s(e,t)},function(e,t,s){return t[0]=s(e),t},function(e,t,s){return t[1]=s(e),t},function(e,t,s){return t[2]=s(e),t},function(e,t,s){return t[3]=s(e),t}],[function(e,t,s){return s(e[0])},function(e,t,s){return t[0]=s(e[0]),t},function(e,t,s){return t[1]=s(e[0]),t},function(e,t,s){return t[2]=s(e[0]),t},function(e,t,s){return t[3]=s(e[0]),t}],[function(e,t,s){return s(e[1])},function(e,t,s){return t[0]=s(e[1]),t},function(e,t,s){return t[1]=s(e[1]),t},function(e,t,s){return t[2]=s(e[1]),t},function(e,t,s){return t[3]=s(e[1]),t}],[function(e,t,s){return s(e[2])},function(e,t,s){return t[0]=s(e[2]),t},function(e,t,s){return t[1]=s(e[2]),t},function(e,t,s){return t[2]=s(e[2]),t},function(e,t,s){return t[3]=s(e[2]),t}],[function(e,t,s){return s(e[3])},function(e,t,s){return t[0]=s(e[3]),t},function(e,t,s){return t[1]=s(e[3]),t},function(e,t,s){return t[2]=s(e[3]),t},function(e,t,s){return t[3]=s(e[3]),t}]];t.getConversionFunction=function(e,t,s){const n=s?1:0;return o[e][t][n]},t.canConvert=function(e,t){return l[e][t]},t.getElementCopyFunction=function(e,t,s){return-1===e&&-1===t?s:e<=3&&t<=3?d[e+1][t+1]:function(s,n,i){return n[t]=i(s[e]),n}},t.getMultiCopyFunction=function(e,t,s){return!1===e?!1===t?s:function(e,t,n){for(let n=0,i=t.length;n<i;++n)t[n]=s(e,t[n]);return t}:!1===t?function(e,t,n){return e.length>0&&(t=s(e[0],t)),t}:function(e,t,n){for(let n=0,i=e.length,r=t.length;n<r;++n)t[n]=s(e[n%i],t[n]);return t}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(1);t.default=class{constructor(e,t,s,i){this.typeName=n.default.getTypeName(t),this.didAdd=s,this.willRemove=i,this._registry=e,e.on(this.typeName,this.onComponent,this),this.component=e.get(t,!0),this.component&&s&&s(this.component)}dispose(){this._registry.off(this.typeName,this.onComponent,this),this.component=null,this.didAdd=null,this.willRemove=null}onComponent(e){e.add?(this.component=e.object,this.didAdd&&this.didAdd(e.object)):e.remove&&(this.willRemove&&this.willRemove(e.object),this.component=null)}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(11),i=s(330);class r extends n.default{constructor(e){super(),this.addEvent("update"),this.stack=[],this.pointer=-1,this.capacity=void 0!==e?e:r.defaultCapacity}register(e){let t;t="function"==typeof e?e:t=>new i.default(t,e);return(...e)=>{const s=t(e);this.do(s)}}setCapacity(e){for(this.capacity=e;this.stack.length>e;)this.stack.shift(),this.pointer--;this.pointer<0&&(this.stack=[],this.pointer=-1)}do(e){console.log(`Commander.do - '${e.name}'`),e.do(),e.canUndo()&&(this.stack.splice(this.pointer+1),this.stack.push(e),this.stack.length>this.capacity&&this.stack.shift(),this.pointer=this.stack.length-1,this.emit("update"))}undo(){if(this.pointer>=0){this.stack[this.pointer].undo(),this.pointer--,this.emit("update")}}redo(){if(this.pointer<this.stack.length-1){this.pointer++,this.stack[this.pointer].do(),this.emit("update")}}clear(){this.stack.length>0&&(this.stack=[],this.pointer=-1,this.emit("update"))}canUndo(){return this.pointer>=0}canRedo(){return this.pointer<this.stack.length-1}getUndoText(){return this.pointer>=0?"Undo "+this.stack[this.pointer].name:"Can't Undo"}getRedoText(){return this.pointer<this.stack.length-1?"Redo "+this.stack[this.pointer+1].name:"Can't Redo"}}t.default=r,r.defaultCapacity=30},function(e){e.exports=JSON.parse('{"asset":{"type":"application/si-dpo-3d.document+json","version":"1.0","copyright":"(c) Smithsonian Institution, all rights reserved","generator":"Voyager"},"scene":0,"scenes":[{"nodes":[0,1],"setup":0}],"nodes":[{"translation":[0,0,15],"camera":0},{"name":"Lights","children":[2,3,4,5]},{"translation":[0,0,2],"rotation":[0.4829741,-0.1070728,0.1880998,0.8484633],"scale":[1,1,1],"name":"Key","light":0},{"rotation":[0.3546969,0.163893,-0.3861077,0.8356136],"scale":[1,1,1],"name":"Fill #1","light":1},{"translation":[0,0,1],"rotation":[0.9374013,-0.3018693,0.0532277,0.1652891],"name":"Fill #2","light":2},{"translation":[1,0,-1],"rotation":[0.373256,0.6426073,-0.5786063,0.3360813],"scale":[1,1,1],"name":"Rim","light":3}],"setups":[{"units":"cm","interface":{"visible":true,"logo":true,"menu":true,"tools":true},"viewer":{"shader":"Default","exposure":1,"gamma":2,"annotationsVisible":false},"reader":{"enabled":false,"position":"Overlay"},"navigation":{"type":"Orbit","enabled":true,"autoZoom":true,"lightsFollowCamera":true,"autoRotation":false,"orbit":{"orbit":[-24,-26,0],"offset":[0,0,150],"minOrbit":[-90,null,null],"maxOrbit":[90,null,null],"minOffset":[null,null,0.1],"maxOffset":[null,null,10000]}},"background":{"style":"RadialGradient","color0":[0.2,0.25,0.3],"color1":[0.01,0.03,0.05]},"floor":{"visible":false,"position":[0,-25,0],"size":50,"color":[0.6,0.75,0.8],"opacity":0.5,"receiveShadow":false},"grid":{"visible":false,"color":[0.5,0.7,0.8]},"tape":{"enabled":false,"startPosition":[0,0,0],"startDirection":[0,0,0],"endPosition":[0,0,0],"endDirection":[0,0,0]},"slicer":{"enabled":false,"axis":"X","inverted":false,"position":0.5}}],"cameras":[{"type":"perspective","perspective":{"yfov":52,"znear":0.1,"zfar":100000}}],"lights":[{"color":[1,0.95,0.9],"intensity":1,"type":"directional","shadowEnabled":true},{"color":[0.9,0.95,1],"intensity":0.7,"type":"directional","shadowEnabled":true},{"color":[0.8,0.85,1],"intensity":0.5,"type":"directional"},{"color":[0.85,0.9078313,1],"intensity":0.6,"type":"directional"}]}')},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(79),i=s(120),r=s(123),a=s(28),o=s(124),l=s(337),d=s(426),c=s(121),u=s(19),h=s(13),p=s(36),m=s(156),f=s(157),v=s(169),_=s(170),y=s(31);class g{constructor(e,t,s){this.props=t||{},console.log(g.splashMessage);const n=new r.default;n.add(l.default),n.add(d.default),this.commander=new i.default;const a=this.system=new o.default(n),u=a.graph.createCustomNode(m.default);a.graph.createCustomNode(v.default),a.graph.createCustomNode(f.default),e&&new _.default(this).appendTo(e),s||(this.documentProvider.createDocument(c),this.evaluateProps()),u.pulse.start()}get assetManager(){return this.system.getMainComponent(h.default)}get assetReader(){return this.system.getMainComponent(p.default)}get documentProvider(){return this.system.getMainComponent(u.default)}setBaseUrl(e){this.assetManager.baseUrl=e}loadDocument(e,t,s){const n=y.EDerivativeQuality[s];return this.assetReader.getJSON(e).then(s=>(t=void 0===t?!s.lights&&!s.cameras:t,this.documentProvider.amendDocument(s,e,t))).then(e=>(isFinite(n)&&e.setup.viewer.ins.quality.setValue(n),e))}loadModel(e,t){return this.documentProvider.appendModel(e,t)}loadGeometry(e,t,s,n,i){return this.documentProvider.appendGeometry(e,t,s,n,i)}evaluateProps(){const e=this.props,t=this.assetManager;e.root=e.root||n.default("root")||n.default("r"),e.document=e.document||n.default("document")||n.default("d"),e.model=e.model||n.default("model")||n.default("m"),e.geometry=e.geometry||n.default("geometry")||n.default("g"),e.texture=e.texture||n.default("texture")||n.default("t"),e.quality=e.quality||n.default("quality")||n.default("q");const s=e.root||e.document||e.model||e.geometry;this.setBaseUrl(new URL(s||".",window.location).href),e.document?(e.document=e.root?e.document:t.getAssetName(e.document),this.loadDocument(e.document,void 0,e.quality).catch(e=>a.default.show(`Failed to load document: ${e.message}`,"error"))):e.model?(e.model=e.root?e.model:t.getAssetName(e.model),this.loadModel(e.model,e.quality)):e.geometry?(e.geometry=e.root?e.geometry:t.getAssetName(e.geometry),e.texture=e.root?e.texture:t.getAssetName(e.texture),this.loadGeometry(e.geometry,e.texture,null,null,e.quality)):this.loadDocument("document.svx.json",void 0).catch(()=>{})}}t.default=g,g.splashMessage="\n  _________       .__  __  .__                        .__                ________ ________   \n /   _____/ _____ |__|/  |_|  |__   __________   ____ |__|____    ____   \\_____  \\\\______ \\  \n \\_____  \\ /     \\|  \\   __\\  |  \\ /  ___/  _ \\ /    \\|  \\__  \\  /    \\    _(__  < |    |  \\ \n /        \\  Y Y  \\  ||  | |   Y  \\\\___ (  <_> )   |  \\  |/ __ \\|   |  \\  /       \\|    `   \\\n/_______  /__|_|  /__||__| |___|  /____  >____/|___|  /__(____  /___|  / /______  /_______  /\n        \\/      \\/              \\/     \\/           \\/        \\/     \\/         \\/        \\/ \n    \nVoyager - 3D Explorer and Tool Suite\n3D Foundation Project\n(c) 2019 Smithsonian Institution\n\nhttps://3d.si.edu\nhttps://github.com/smithsonian/dpo-voyager\n\n-----------------------------------------------------\nVersion: Voyager Story v0.7.0-20-g1137fe7\n  PROD\n-----------------------------------------------------\n    ",window.VoyagerExplorer=g},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(11);class i extends n.default{constructor(){super(),this._dict={},this.addEvent("type")}add(e){if(Array.isArray(e))return void e.forEach(e=>this.add(e));const t=e.typeName;if(!t)throw new Error("type must have a 'typeName' member");if(this._dict[t])throw new Error(`type '${t}' already registered`);this._dict[t]=e,this.emit({type:"type",add:!0,remove:!1,classType:e})}remove(e){if(Array.isArray(e))return void e.forEach(e=>this.remove(e));const t=e.typeName;if(!t)throw new Error("type must have a 'typeName' member");if(!this._dict[t])throw new Error(`type '${t}' not registered`);delete this._dict[t],this.emit({type:"type",add:!1,remove:!0,classType:e})}getType(e){let t=e;return"function"==typeof e?t=e.typeName:"object"==typeof e&&(t=e.constructor.typeName),this._dict[t]}createInstance(e,...t){const s=this.getType(e);if(!s)throw new Error(`type '${e}' not registered`);return new s(...t)}}t.default=i},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(11),i=s(62),r=s(123),a=s(1),o=s(8),l=s(82);class d extends n.default{constructor(e){super({knownEvents:!1}),this.nodes=new i.default(o.default),this.components=new i.default(a.default),this.registry=e||new r.default,this.graph=new l.default(this,null),this.graph.activate()}getComponent(e,t=!1){return this.components.get(e,t)}getComponents(e){return this.components.getArray(e)}getComponentsByTag(e){return this.components.getByTag(e)}hasComponents(e){return this.components.has(e)}getMainComponent(e,t=!1){return this.graph.components.get(e,t)}getMainComponents(e){return this.graph.components.getArray(e)}getMainComponentsByTag(e){return this.graph.components.getByTag(e)}hasMainComponents(e){return this.graph.components.has(e)}getNode(e,t=!1){return this.nodes.get(e,t)}getNodes(e){return this.nodes.getArray(e)}getNodesByTag(e){return this.nodes.getByTag(e)}hasNodes(e){return this.nodes.has(e)}getMainNode(e,t=!1){return this.graph.nodes.get(e,t)}getMainNodes(e){return this.graph.nodes.getArray(e)}getMainNodesByTag(e){return this.graph.nodes.getByTag(e)}hasMainNodes(e){return this.graph.nodes.has(e)}findNodeByName(e,t){const s=this.nodes.getArray(t);for(let t=0,n=s.length;t<n;++t)if(s[t].name===e)return s[t]}toJSON(){return this.graph.toJSON()}fromJSON(e){this.graph.clear(),this.graph.fromJSON(e)}toString(e=!1){const t=this.nodes.getArray(),s=this.components.count(),n=`System - ${t.length} nodes, ${s} components.`;return e?n+"\n"+t.map(e=>e.toString(!0)).join("\n"):n}_addNode(e){this.nodes.add(e)}_removeNode(e){this.nodes.remove(e)}_addNodeTag(e,t){this.nodes.addByTag(e,t)}_removeNodeTag(e,t){this.nodes.removeByTag(e,t)}_addComponent(e){if(e.isSystemSingleton&&this.components.has(e))throw new Error(`only one component of type '${e.typeName}' allowed per system`);this.components.add(e)}_removeComponent(e){this.components.remove(e)}_addComponentTag(e,t){this.components.addByTag(e,t)}_removeComponentTag(e,t){this.components.removeByTag(e,t)}}t.default=d},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(1),i=s(8),r=s(41);var a;!function(e){e[e.Graph=0]="Graph",e[e.Main=1]="Main",e[e.System=2]="System"}(a=t.ENodeScope||(t.ENodeScope={}));class o extends n.default{constructor(){super(...arguments),this._scope=a.Graph,this._scopedGraph=null,this._activeNode=null}get nodeType(){return this.constructor.nodeType}get followNodeSelection(){return this.constructor.followNodeSelection}get followComponentSelection(){return this.constructor.followComponentSelection}get retainSelection(){return this.constructor.retainSelection}get scope(){return this._scope}set scope(e){this._scope=e,this._activeNode&&!this.isNodeInScope(this._activeNode)&&(this.activeNode=null)}get scopedGraph(){return this._scopedGraph}set scopedGraph(e){e!==this._scopedGraph&&(this._scopedGraph=e,this._activeNode&&!this.isNodeInScope(this._activeNode)&&(this.activeNode=null),this.onScopedNodes(),this.emit({type:"scoped-nodes"}))}get scopedNodes(){switch(this._scope){case a.Graph:return(this._scopedGraph?this._scopedGraph.innerGraph:this.graph).getNodes(this.nodeType);case a.Main:return this.getMainNodes(this.nodeType);case a.System:return this.getSystemNodes(this.nodeType)}}get activeNode(){return this._activeNode}set activeNode(e){const t=this.activeNode;if(e!==t){if(t&&this.deactivateNode(t),e){if(!this.isNodeInScope(e))throw new Error("can't activate, node out of scope");this.activateNode(e)}this._activeNode=e,this.onActiveNode(t,e),this.emit({type:"active-node",previous:t,next:e})}}get selection(){return this.getSystemComponent(r.default)}create(){super.create(),this.system.nodes.on(i.default,this.onNode,this),this.followNodeSelection&&this.selection.selectedNodes.on(this.nodeType,this.onSelectNode,this),this.followComponentSelection&&this.selection.selectedComponents.on(n.default,this.onSelectComponent,this)}dispose(){this.activeNode&&(this.activeNode=null),this.system.nodes.off(i.default,this.onNode,this),this.followNodeSelection&&this.selection.selectedNodes.off(this.nodeType,this.onSelectNode,this),this.followComponentSelection&&this.selection.selectedComponents.off(n.default,this.onSelectComponent,this),super.dispose()}activateNode(e){}deactivateNode(e){}onActiveNode(e,t){}onScopedNodes(){}onNode(e){e.remove&&e.object===this.activeNode&&(this.activeNode=null),this.isNodeInScope(e.object)&&(this.onScopedNodes(),this.emit({type:"scoped-nodes"}))}onSelectNode(e){const t=e.object;this.isNodeInScope(t)&&(e.add?this.activeNode=t:e.remove&&!this.retainSelection&&t===this.activeNode&&(this.activeNode=null))}onSelectComponent(e){const t=e.object.node;t.is(this.nodeType)&&this.onSelectNode({type:t.typeName,object:t,add:e.add,remove:e.remove})}isNodeInScope(e){if(!e.is(this.nodeType))return!1;switch(this._scope){case a.Graph:const t=this._scopedGraph?this._scopedGraph.innerGraph:this.graph;return e.graph===t;case a.Main:return e.graph===this.system.graph;case a.System:return!0}return!1}}t.default=o,o.typeName="CNodeProvider",o.nodeType=i.default,o.followNodeSelection=!0,o.followComponentSelection=!1,o.retainSelection=!0},function(e,t,s){"use strict";var n=this&&this.__awaiter||function(e,t,s,n){return new(s||(s=Promise))((function(i,r){function a(e){try{l(n.next(e))}catch(e){r(e)}}function o(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(a,o)}l((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=s(3);t.default=class{constructor(e){this._loadingManager=e,this._textureLoader=new i.TextureLoader(e),this._cache={}}get(e){return this._cache[e]}load(e){return n(this,void 0,void 0,(function*(){if(this._cache[e])return Promise.resolve(this._cache[e]);this._loadingManager.itemStart(e);const t=e+".json",s=e+".png",n=fetch(t,{headers:{Accept:"application/json"}}).then(s=>{if(!s.ok)throw this._loadingManager.itemError(e),new Error(`failed to load bitmap font descriptor: '${t}', status: ${s.status} ${s.statusText}`);return s.json()}),i=new Promise((e,t)=>{this._textureLoader.load(s,n=>n?e(n):t(new Error(`failed to load font texture from '${s}'`)))});return Promise.all([n,i]).then(t=>{const s={descriptor:t[0],texture:t[1]};return this._cache[e]=s,this._loadingManager.itemEnd(e),s})}))}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(90),i=s(1),r=s(349),a=s(350),o=s(43),l=s(99),d=s(30),c=s(69),u=s(13),h=s(20);class p extends r.default{constructor(e,t){super(e,t),this.ins=this.addInputs(p.ins),this.outs=this.addOutputs(p.outs),this.innerGraph.createCustomNode(l.default),this.ins.active.setValue(!1),this.ins.visible.setValue(!1)}get root(){return this.innerNodes.get(l.default)}get setup(){return this.innerComponents.get(c.default)}get assetPath(){return this.outs.assetPath.value}get assetBaseName(){let e=this.assetPath;const t=e.indexOf(".svx.json");return t>=0&&(e=e.substr(0,t)),e}get analytics(){return this.getMainComponent(h.default)}create(){super.create(),this.innerGraph.components.on(d.default,this.onMetaComponent,this)}dispose(){this.innerGraph.components.off(d.default,this.onMetaComponent,this),super.dispose()}update(e){super.update(e);const{ins:t,outs:s}=this;if(t.dumpJson.changed){const e=this.deflateDocument();console.log("-------------------- VOYAGER DOCUMENT --------------------"),console.log(JSON.stringify(e,(e,t)=>"number"==typeof t?parseFloat(t.toFixed(5)):t,2))}if(t.dumpTree.changed&&(console.log("-------------------- VOYAGER DOCUMENT --------------------"),this.dump()),t.download.changed){const e=s.assetPath.value.split("/").pop()||"voyager-document.json";n.default.json(this.deflateDocument(),e)}return!0}clearNodeTree(){this.root.transform.children.slice().forEach(e=>e.node.dispose())}openDocument(e,t,s){if(!p.validator.validate(e))throw new Error("document schema validation failed");s||this.clearNodeTree(),this.onMetaComponent({type:"CVMeta",object:this.root.meta,add:!0,remove:!1});let n="object"==typeof s?s:this.root;if(n.graph!==this.innerGraph)throw new Error("invalid parent node");const i=new Map;if(n instanceof l.default)n.fromDocument(e,e.scene,i);else{e.scenes[e.scene].nodes.forEach(t=>{const s=this.innerGraph.createCustomNode(o.default);n.transform.addChild(s.transform),s.fromDocument(e,t,i)})}t&&(this.outs.assetPath.setValue(t),this.name=this.getMainComponent(u.default).getAssetName(t))}appendModel(e,t,s){if(s&&s.graph!==this.innerGraph)throw new Error("invalid parent node");if(this.isEmpty())throw new Error("empty document, can't append model");s=s||this.root;const n=this.innerGraph.createCustomNode(o.default);s.transform.addChild(n.transform),n.createModel(),n.model.derivatives.createModelAsset(e,t)}appendGeometry(e,t,s,n,i,r){if(r&&r.graph!==this.innerGraph)throw new Error("invalid parent node");if(this.isEmpty())throw new Error("empty document, can't append geometry");r=r||this.root;const a=this.innerGraph.createCustomNode(o.default);r.transform.addChild(a.transform),a.createModel(),a.model.derivatives.createMeshAsset(e,t,s,n,i)}deflateDocument(e){if(this.isEmpty())throw new Error("empty document, can't serialize");const t={asset:{type:p.mimeType,version:p.version,generator:"Voyager",copyright:"(c) Smithsonian Institution. All rights reserved."},scene:0,scenes:[]},s=new Map;return t.scene=this.root.toDocument(t,s,e),t}onMetaComponent(e){const t=e.object,s=this.outs.title;e.add&&!s.value&&t.once("load",()=>{const e=t.collection.get("title")||"";s.setValue(e),this.analytics.setTitle(e)})}}t.default=p,p.typeName="CVDocument",p.mimeType="application/si-dpo-3d.document+json",p.version="1.0",p.validator=new a.default,p.ins={dumpJson:i.types.Event("Document.DumpJSON"),dumpTree:i.types.Event("Document.DumpTree"),download:i.types.Event("Document.Download")},p.outs={assetPath:i.types.AssetPath("Asset.Path"),title:i.types.String("Document.Title")}},function(e,t,s){"use strict";var n=s(42);e.exports=function(e){n.copy(e,this)}},function(e,t,s){"use strict";e.exports=function(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var s,n="boolean"==typeof t.cycles&&t.cycles,i=t.cmp&&(s=t.cmp,function(e){return function(t,n){var i={key:t,value:e[t]},r={key:n,value:e[n]};return s(i,r)}}),r=[];return function e(t){if(t&&t.toJSON&&"function"==typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!=typeof t)return JSON.stringify(t);var s,a;if(Array.isArray(t)){for(a="[",s=0;s<t.length;s++)s&&(a+=","),a+=e(t[s])||"null";return a+"]"}if(null===t)return"null";if(-1!==r.indexOf(t)){if(n)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var o=r.push(t)-1,l=Object.keys(t).sort(i&&i(t));for(a="",s=0;s<l.length;s++){var d=l[s],c=e(t[d]);c&&(a&&(a+=","),a+=JSON.stringify(d)+":"+c)}return r.splice(o,1),"{"+a+"}"}}(e)}},function(e,t,s){"use strict";e.exports=function(e,t,s){var n="",i=!0===e.schema.$async,r=e.util.schemaHasRulesExcept(e.schema,e.RULES.all,"$ref"),a=e.self._getId(e.schema);if(e.opts.strictKeywords){var o=e.util.schemaUnknownRules(e.schema,e.RULES.keywords);if(o){var l="unknown keyword: "+o;if("log"!==e.opts.strictKeywords)throw new Error(l);e.logger.warn(l)}}if(e.isTop&&(n+=" var validate = ",i&&(e.async=!0,n+="async "),n+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",a&&(e.opts.sourceCode||e.opts.processCode)&&(n+=" /*# sourceURL="+a+" */ ")),"boolean"==typeof e.schema||!r&&!e.schema.$ref){var d=e.level,c=e.dataLevel,u=e.schema["false schema"],h=e.schemaPath+e.util.getProperty("false schema"),p=e.errSchemaPath+"/false schema",m=!e.opts.allErrors,f="data"+(c||""),v="valid"+d;if(!1===e.schema){e.isTop?m=!0:n+=" var "+v+" = false; ",(Q=Q||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'false schema' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: {} ",!1!==e.opts.messages&&(n+=" , message: 'boolean schema is false' "),e.opts.verbose&&(n+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),n+=" } "):n+=" {} ";var _=n;n=Q.pop(),!e.compositeRule&&m?e.async?n+=" throw new ValidationError(["+_+"]); ":n+=" validate.errors = ["+_+"]; return false; ":n+=" var err = "+_+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else e.isTop?n+=i?" return data; ":" validate.errors = null; return true; ":n+=" var "+v+" = true; ";return e.isTop&&(n+=" }; return validate; "),n}if(e.isTop){var y=e.isTop;d=e.level=0,c=e.dataLevel=0,f="data";if(e.rootId=e.resolve.fullPath(e.self._getId(e.root.schema)),e.baseId=e.baseId||e.rootId,delete e.isTop,e.dataPathArr=[void 0],void 0!==e.schema.default&&e.opts.useDefaults&&e.opts.strictDefaults){var g="default is ignored in the schema root";if("log"!==e.opts.strictDefaults)throw new Error(g);e.logger.warn(g)}n+=" var vErrors = null; ",n+=" var errors = 0;     ",n+=" if (rootData === undefined) rootData = data; "}else{d=e.level,f="data"+((c=e.dataLevel)||"");if(a&&(e.baseId=e.resolve.url(e.baseId,a)),i&&!e.async)throw new Error("async schema in sync schema");n+=" var errs_"+d+" = errors;"}v="valid"+d,m=!e.opts.allErrors;var b="",M="",w=e.schema.type,L=Array.isArray(w);if(w&&e.opts.nullable&&!0===e.schema.nullable&&(L?-1==w.indexOf("null")&&(w=w.concat("null")):"null"!=w&&(w=[w,"null"],L=!0)),L&&1==w.length&&(w=w[0],L=!1),e.schema.$ref&&r){if("fail"==e.opts.extendRefs)throw new Error('$ref: validation keywords used in schema at path "'+e.errSchemaPath+'" (see option extendRefs)');!0!==e.opts.extendRefs&&(r=!1,e.logger.warn('$ref: keywords ignored in schema at path "'+e.errSchemaPath+'"'))}if(e.schema.$comment&&e.opts.$comment&&(n+=" "+e.RULES.all.$comment.code(e,"$comment")),w){if(e.opts.coerceTypes)var x=e.util.coerceToTypes(e.opts.coerceTypes,w);var T=e.RULES.types[w];if(x||L||!0===T||T&&!X(T)){h=e.schemaPath+".type",p=e.errSchemaPath+"/type",h=e.schemaPath+".type",p=e.errSchemaPath+"/type";var E=L?"checkDataTypes":"checkDataType";if(n+=" if ("+e.util[E](w,f,!0)+") { ",x){var k="dataType"+d,D="coerced"+d;n+=" var "+k+" = typeof "+f+"; ","array"==e.opts.coerceTypes&&(n+=" if ("+k+" == 'object' && Array.isArray("+f+")) "+k+" = 'array'; "),n+=" var "+D+" = undefined; ";var S="",P=x;if(P)for(var C,Y=-1,A=P.length-1;Y<A;)C=P[Y+=1],Y&&(n+=" if ("+D+" === undefined) { ",S+="}"),"array"==e.opts.coerceTypes&&"array"!=C&&(n+=" if ("+k+" == 'array' && "+f+".length == 1) { "+D+" = "+f+" = "+f+"[0]; "+k+" = typeof "+f+";  } "),"string"==C?n+=" if ("+k+" == 'number' || "+k+" == 'boolean') "+D+" = '' + "+f+"; else if ("+f+" === null) "+D+" = ''; ":"number"==C||"integer"==C?(n+=" if ("+k+" == 'boolean' || "+f+" === null || ("+k+" == 'string' && "+f+" && "+f+" == +"+f+" ","integer"==C&&(n+=" && !("+f+" % 1)"),n+=")) "+D+" = +"+f+"; "):"boolean"==C?n+=" if ("+f+" === 'false' || "+f+" === 0 || "+f+" === null) "+D+" = false; else if ("+f+" === 'true' || "+f+" === 1) "+D+" = true; ":"null"==C?n+=" if ("+f+" === '' || "+f+" === 0 || "+f+" === false) "+D+" = null; ":"array"==e.opts.coerceTypes&&"array"==C&&(n+=" if ("+k+" == 'string' || "+k+" == 'number' || "+k+" == 'boolean' || "+f+" == null) "+D+" = ["+f+"]; ");n+=" "+S+" if ("+D+" === undefined) {   ",(Q=Q||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: { type: '",n+=L?""+w.join(","):""+w,n+="' } ",!1!==e.opts.messages&&(n+=" , message: 'should be ",n+=L?""+w.join(","):""+w,n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),n+=" } "):n+=" {} ";_=n;n=Q.pop(),!e.compositeRule&&m?e.async?n+=" throw new ValidationError(["+_+"]); ":n+=" validate.errors = ["+_+"]; return false; ":n+=" var err = "+_+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else {  ";var j=c?"data"+(c-1||""):"parentData";n+=" "+f+" = "+D+"; ",c||(n+="if ("+j+" !== undefined)"),n+=" "+j+"["+(c?e.dataPathArr[c]:"parentDataProperty")+"] = "+D+"; } "}else{(Q=Q||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: { type: '",n+=L?""+w.join(","):""+w,n+="' } ",!1!==e.opts.messages&&(n+=" , message: 'should be ",n+=L?""+w.join(","):""+w,n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),n+=" } "):n+=" {} ";_=n;n=Q.pop(),!e.compositeRule&&m?e.async?n+=" throw new ValidationError(["+_+"]); ":n+=" validate.errors = ["+_+"]; return false; ":n+=" var err = "+_+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}n+=" } "}}if(e.schema.$ref&&!r)n+=" "+e.RULES.all.$ref.code(e,"$ref")+" ",m&&(n+=" } if (errors === ",n+=y?"0":"errs_"+d,n+=") { ",M+="}");else{var O=e.RULES;if(O)for(var R=-1,N=O.length-1;R<N;)if(X(T=O[R+=1])){if(T.type&&(n+=" if ("+e.util.checkDataType(T.type,f)+") { "),e.opts.useDefaults)if("object"==T.type&&e.schema.properties){u=e.schema.properties;var H=Object.keys(u);if(H)for(var I,F=-1,V=H.length-1;F<V;){if(void 0!==(B=u[I=H[F+=1]]).default){var z=f+e.util.getProperty(I);if(e.compositeRule){if(e.opts.strictDefaults){g="default is ignored for: "+z;if("log"!==e.opts.strictDefaults)throw new Error(g);e.logger.warn(g)}}else n+=" if ("+z+" === undefined ","empty"==e.opts.useDefaults&&(n+=" || "+z+" === null || "+z+" === '' "),n+=" ) "+z+" = ","shared"==e.opts.useDefaults?n+=" "+e.useDefault(B.default)+" ":n+=" "+JSON.stringify(B.default)+" ",n+="; "}}}else if("array"==T.type&&Array.isArray(e.schema.items)){var U=e.schema.items;if(U){Y=-1;for(var B,$=U.length-1;Y<$;)if(void 0!==(B=U[Y+=1]).default){z=f+"["+Y+"]";if(e.compositeRule){if(e.opts.strictDefaults){g="default is ignored for: "+z;if("log"!==e.opts.strictDefaults)throw new Error(g);e.logger.warn(g)}}else n+=" if ("+z+" === undefined ","empty"==e.opts.useDefaults&&(n+=" || "+z+" === null || "+z+" === '' "),n+=" ) "+z+" = ","shared"==e.opts.useDefaults?n+=" "+e.useDefault(B.default)+" ":n+=" "+JSON.stringify(B.default)+" ",n+="; "}}}var G=T.rules;if(G)for(var W,q=-1,J=G.length-1;q<J;)if(Z(W=G[q+=1])){var K=W.code(e,W.keyword,T.type);K&&(n+=" "+K+" ",m&&(b+="}"))}if(m&&(n+=" "+b+" ",b=""),T.type&&(n+=" } ",w&&w===T.type&&!x)){n+=" else { ";var Q;h=e.schemaPath+".type",p=e.errSchemaPath+"/type";(Q=Q||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: { type: '",n+=L?""+w.join(","):""+w,n+="' } ",!1!==e.opts.messages&&(n+=" , message: 'should be ",n+=L?""+w.join(","):""+w,n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),n+=" } "):n+=" {} ";_=n;n=Q.pop(),!e.compositeRule&&m?e.async?n+=" throw new ValidationError(["+_+"]); ":n+=" validate.errors = ["+_+"]; return false; ":n+=" var err = "+_+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } "}m&&(n+=" if (errors === ",n+=y?"0":"errs_"+d,n+=") { ",M+="}")}}function X(e){for(var t=e.rules,s=0;s<t.length;s++)if(Z(t[s]))return!0}function Z(t){return void 0!==e.schema[t.keyword]||t.implements&&function(t){for(var s=t.implements,n=0;n<s.length;n++)if(void 0!==e.schema[s[n]])return!0}(t)}return m&&(n+=" "+M+" "),y?(i?(n+=" if (errors === 0) return data;           ",n+=" else throw new ValidationError(vErrors); "):(n+=" validate.errors = vErrors; ",n+=" return errors === 0;       "),n+=" }; return validate;"):n+=" var "+v+" = errors === errs_"+d+";",n=e.util.cleanUpCode(n),y&&(n=e.util.finalCleanUpCode(n,i)),n}},function(e,t,s){"use strict";e.exports=function(e,t,s){var n,i=" ",r=e.level,a=e.dataLevel,o=e.schema[t],l=e.schemaPath+e.util.getProperty(t),d=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,u="data"+(a||""),h=e.opts.$data&&o&&o.$data;h?(i+=" var schema"+r+" = "+e.util.getData(o.$data,a,e.dataPathArr)+"; ",n="schema"+r):n=o;var p="maximum"==t,m=p?"exclusiveMaximum":"exclusiveMinimum",f=e.schema[m],v=e.opts.$data&&f&&f.$data,_=p?"<":">",y=p?">":"<",g=void 0;if(v){var b=e.util.getData(f.$data,a,e.dataPathArr),M="exclusive"+r,w="exclType"+r,L="exclIsNumber"+r,x="' + "+(k="op"+r)+" + '";i+=" var schemaExcl"+r+" = "+b+"; ",i+=" var "+M+"; var "+w+" = typeof "+(b="schemaExcl"+r)+"; if ("+w+" != 'boolean' && "+w+" != 'undefined' && "+w+" != 'number') { ";var T;g=m;(T=T||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(g||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: {} ",!1!==e.opts.messages&&(i+=" , message: '"+m+" should be boolean' "),e.opts.verbose&&(i+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),i+=" } "):i+=" {} ";var E=i;i=T.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+E+"]); ":i+=" validate.errors = ["+E+"]; return false; ":i+=" var err = "+E+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } else if ( ",h&&(i+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),i+=" "+w+" == 'number' ? ( ("+M+" = "+n+" === undefined || "+b+" "+_+"= "+n+") ? "+u+" "+y+"= "+b+" : "+u+" "+y+" "+n+" ) : ( ("+M+" = "+b+" === true) ? "+u+" "+y+"= "+n+" : "+u+" "+y+" "+n+" ) || "+u+" !== "+u+") { var op"+r+" = "+M+" ? '"+_+"' : '"+_+"='; ",void 0===o&&(g=m,d=e.errSchemaPath+"/"+m,n=b,h=v)}else{x=_;if((L="number"==typeof f)&&h){var k="'"+x+"'";i+=" if ( ",h&&(i+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),i+=" ( "+n+" === undefined || "+f+" "+_+"= "+n+" ? "+u+" "+y+"= "+f+" : "+u+" "+y+" "+n+" ) || "+u+" !== "+u+") { "}else{L&&void 0===o?(M=!0,g=m,d=e.errSchemaPath+"/"+m,n=f,y+="="):(L&&(n=Math[p?"min":"max"](f,o)),f===(!L||n)?(M=!0,g=m,d=e.errSchemaPath+"/"+m,y+="="):(M=!1,x+="="));k="'"+x+"'";i+=" if ( ",h&&(i+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),i+=" "+u+" "+y+" "+n+" || "+u+" !== "+u+") { "}}g=g||t,(T=T||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(g||"_limit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { comparison: "+k+", limit: "+n+", exclusive: "+M+" } ",!1!==e.opts.messages&&(i+=" , message: 'should be "+x+" ",i+=h?"' + "+n:n+"'"),e.opts.verbose&&(i+=" , schema:  ",i+=h?"validate.schema"+l:""+o,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),i+=" } "):i+=" {} ";E=i;return i=T.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+E+"]); ":i+=" validate.errors = ["+E+"]; return false; ":i+=" var err = "+E+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } ",c&&(i+=" else { "),i}},function(e,t,s){"use strict";e.exports=function(e,t,s){var n,i=" ",r=e.level,a=e.dataLevel,o=e.schema[t],l=e.schemaPath+e.util.getProperty(t),d=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,u="data"+(a||""),h=e.opts.$data&&o&&o.$data;h?(i+=" var schema"+r+" = "+e.util.getData(o.$data,a,e.dataPathArr)+"; ",n="schema"+r):n=o,i+="if ( ",h&&(i+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),i+=" "+u+".length "+("maxItems"==t?">":"<")+" "+n+") { ";var p=t,m=m||[];m.push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(p||"_limitItems")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { limit: "+n+" } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT have ",i+="maxItems"==t?"more":"fewer",i+=" than ",i+=h?"' + "+n+" + '":""+o,i+=" items' "),e.opts.verbose&&(i+=" , schema:  ",i+=h?"validate.schema"+l:""+o,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),i+=" } "):i+=" {} ";var f=i;return i=m.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+f+"]); ":i+=" validate.errors = ["+f+"]; return false; ":i+=" var err = "+f+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",c&&(i+=" else { "),i}},function(e,t,s){"use strict";e.exports=function(e,t,s){var n,i=" ",r=e.level,a=e.dataLevel,o=e.schema[t],l=e.schemaPath+e.util.getProperty(t),d=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,u="data"+(a||""),h=e.opts.$data&&o&&o.$data;h?(i+=" var schema"+r+" = "+e.util.getData(o.$data,a,e.dataPathArr)+"; ",n="schema"+r):n=o;var p="maxLength"==t?">":"<";i+="if ( ",h&&(i+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),!1===e.opts.unicode?i+=" "+u+".length ":i+=" ucs2length("+u+") ",i+=" "+p+" "+n+") { ";var m=t,f=f||[];f.push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(m||"_limitLength")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { limit: "+n+" } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT be ",i+="maxLength"==t?"longer":"shorter",i+=" than ",i+=h?"' + "+n+" + '":""+o,i+=" characters' "),e.opts.verbose&&(i+=" , schema:  ",i+=h?"validate.schema"+l:""+o,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),i+=" } "):i+=" {} ";var v=i;return i=f.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+v+"]); ":i+=" validate.errors = ["+v+"]; return false; ":i+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",c&&(i+=" else { "),i}},function(e,t,s){"use strict";e.exports=function(e,t,s){var n,i=" ",r=e.level,a=e.dataLevel,o=e.schema[t],l=e.schemaPath+e.util.getProperty(t),d=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,u="data"+(a||""),h=e.opts.$data&&o&&o.$data;h?(i+=" var schema"+r+" = "+e.util.getData(o.$data,a,e.dataPathArr)+"; ",n="schema"+r):n=o,i+="if ( ",h&&(i+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),i+=" Object.keys("+u+").length "+("maxProperties"==t?">":"<")+" "+n+") { ";var p=t,m=m||[];m.push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(p||"_limitProperties")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { limit: "+n+" } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT have ",i+="maxProperties"==t?"more":"fewer",i+=" than ",i+=h?"' + "+n+" + '":""+o,i+=" properties' "),e.opts.verbose&&(i+=" , schema:  ",i+=h?"validate.schema"+l:""+o,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),i+=" } "):i+=" {} ";var f=i;return i=m.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+f+"]); ":i+=" validate.errors = ["+f+"]; return false; ":i+=" var err = "+f+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",c&&(i+=" else { "),i}},function(e){e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://json-schema.org/draft-07/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"$comment":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":true,"readOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":true},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":true,"enum":{"type":"array","items":true,"minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"if":{"$ref":"#"},"then":{"$ref":"#"},"else":{"$ref":"#"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":true}')},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(390);class i extends n.default{get settingProperties(){return[this.ins.projection,this.ins.fov,this.ins.size,this.ins.near,this.ins.far]}fromDocument(e,t){if(!isFinite(t.camera))throw new Error("camera property missing in node");const s=e.cameras[t.camera];return"perspective"===s.type?this.ins.copyValues({projection:n.EProjection.Perspective,fov:s.perspective.yfov,near:s.perspective.znear,far:s.perspective.zfar}):this.ins.copyValues({projection:n.EProjection.Orthographic,size:s.orthographic.ymag,near:s.orthographic.znear,far:s.orthographic.zfar}),t.camera}toDocument(e,t){const s=this.ins,i={};s.projection.getValidatedValue()===n.EProjection.Perspective?(i.type="perspective",i.perspective={yfov:s.fov.value,znear:s.near.value,zfar:s.far.value}):(i.type="orthographic",i.orthographic={ymag:s.size.value,znear:s.near.value,zfar:s.far.value}),e.cameras=e.cameras||[];const r=e.cameras.length;return e.cameras.push(i),r}}t.default=i,i.typeName="CVCamera",i.text="Camera",i.icon="video"},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(392),i=s(21);class r extends n.default{get settingProperties(){return[this.ins.color,this.ins.intensity,this.ins.shadowEnabled,this.ins.shadowSize,this.ins.shadowResolution,this.ins.shadowBlur]}get snapshotProperties(){return[this.ins.color,this.ins.intensity]}fromDocument(e,t){if(!isFinite(t.light))throw new Error("light property missing in node");const s=e.lights[t.light],n=this.ins;if("directional"!==s.type)throw new Error("light type mismatch: not a directional light");return n.copyValues({color:void 0!==s.color?s.color:n.color.schema.preset,intensity:void 0!==s.intensity?s.intensity:n.intensity.schema.preset,position:n.position.schema.preset,target:n.target.schema.preset,shadowEnabled:s.shadowEnabled||!1,shadowSize:void 0!==s.shadowSize?s.shadowSize:n.shadowSize.schema.preset,shadowResolution:void 0!==s.shadowResolution&&i.EShadowMapResolution[s.shadowResolution]||1,shadowBlur:void 0!==s.shadowBlur?s.shadowBlur:n.shadowBlur.schema.preset}),t.light}toDocument(e,t){const s=this.ins,n={color:s.color.cloneValue(),intensity:s.intensity.value,type:"directional"};s.shadowEnabled.value&&(n.shadowEnabled=!0,s.shadowSize.isDefault()||(n.shadowSize=s.shadowSize.value),s.shadowBlur.isDefault()||(n.shadowBlur=s.shadowBlur.value),s.shadowResolution.isDefault()||(n.shadowResolution=i.EShadowMapResolution[s.shadowResolution.value])),e.lights=e.lights||[];const r=e.lights.length;return e.lights.push(n),r}}t.default=r,r.typeName="CVDirectionalLight",r.text="Directional Light",r.icon="bulb"},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(393),i=s(21);class r extends n.default{get settingProperties(){return[this.ins.color,this.ins.intensity,this.ins.distance,this.ins.decay,this.ins.shadowEnabled,this.ins.shadowResolution,this.ins.shadowBlur]}get snapshotProperties(){return[this.ins.color,this.ins.intensity]}fromDocument(e,t){if(!isFinite(t.light))throw new Error("light property missing in node");const s=e.lights[t.light],n=this.ins;if("point"!==s.type)throw new Error("light type mismatch: not a point light");return s.point=s.point||{},n.copyValues({color:void 0!==s.color?s.color:n.color.schema.preset,intensity:void 0!==s.intensity?s.intensity:n.intensity.schema.preset,position:n.position.schema.preset,distance:s.point.distance||n.distance.schema.preset,decay:void 0!==s.point.decay?s.point.decay:n.decay.schema.preset,shadowEnabled:s.shadowEnabled||!1,shadowResolution:void 0!==s.shadowResolution&&i.EShadowMapResolution[s.shadowResolution]||1,shadowBlur:void 0!==s.shadowBlur?s.shadowBlur:n.shadowBlur.schema.preset}),t.light}toDocument(e,t){const s=this.ins,n={color:s.color.cloneValue(),intensity:s.intensity.value,point:{distance:s.distance.value,decay:s.decay.value},type:"point"};s.shadowEnabled.value&&(n.shadowEnabled=!0,s.shadowBlur.isDefault()||(n.shadowBlur=s.shadowBlur.value),s.shadowResolution.isDefault()||(n.shadowResolution=i.EShadowMapResolution[s.shadowResolution.value])),e.lights=e.lights||[];const r=e.lights.length;return e.lights.push(n),r}}t.default=r,r.typeName="CVPointLight",r.text="Point Light",r.icon="bulb"},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(394),i=s(21);class r extends n.default{get settingProperties(){return[this.ins.color,this.ins.intensity,this.ins.distance,this.ins.decay,this.ins.angle,this.ins.penumbra,this.ins.shadowEnabled,this.ins.shadowResolution,this.ins.shadowBlur]}get snapshotProperties(){return[this.ins.color,this.ins.intensity]}fromDocument(e,t){if(!isFinite(t.light))throw new Error("light property missing in node");const s=e.lights[t.light],n=this.ins;if("spot"!==s.type)throw new Error("light type mismatch: not a spot light");return s.spot=s.spot||{},n.copyValues({color:void 0!==s.color?s.color:n.color.schema.preset,intensity:void 0!==s.intensity?s.intensity:n.intensity.schema.preset,position:n.position.schema.preset,target:n.target.schema.preset,distance:s.spot.distance||n.distance.schema.preset,decay:void 0!==s.spot.decay?s.spot.decay:n.decay.schema.preset,angle:void 0!==s.spot.angle?s.spot.angle:n.angle.schema.preset,penumbra:s.spot.penumbra||n.penumbra.schema.preset,shadowEnabled:s.shadowEnabled||!1,shadowResolution:void 0!==s.shadowResolution&&i.EShadowMapResolution[s.shadowResolution]||1,shadowBlur:void 0!==s.shadowBlur?s.shadowBlur:n.shadowBlur.schema.preset}),t.light}toDocument(e,t){const s=this.ins,n={color:s.color.cloneValue(),intensity:s.intensity.value,spot:{distance:s.distance.value,decay:s.decay.value,angle:s.angle.value,penumbra:s.penumbra.value},type:"spot"};s.shadowEnabled.value&&(n.shadowEnabled=!0,s.shadowBlur.isDefault()||(n.shadowBlur=s.shadowBlur.value),s.shadowResolution.isDefault()||(n.shadowResolution=i.EShadowMapResolution[s.shadowResolution.value])),e.lights=e.lights||[];const r=e.lights.length;return e.lights.push(n),r}}t.default=r,r.typeName="CVSpotLight",r.text="Spot Light",r.icon="bulb"},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(3),i=s(63),r=s(66),a=s(31);t.EDerivativeQuality=a.EDerivativeQuality,t.EDerivativeUsage=a.EDerivativeUsage;const o=s(89),l=s(141);t.Asset=l.default,t.EAssetType=l.EAssetType;class d extends r.default{constructor(){super(...arguments),this.model=null}static fromJSON(e){return new d(e)}dispose(){this.unload(),super.dispose()}load(e){if(this.data.usage!==a.EDerivativeUsage.Web3D)throw new Error("can't load, not a Web3D derivative");const t=this.findAsset(l.EAssetType.Model);if(t)return e.getModel(t.data.uri).then(e=>(this.model&&i.disposeObject(this.model),this.model=e,e));const s=this.findAsset(l.EAssetType.Geometry),r=this.findAssets(l.EAssetType.Image);return s?e.getGeometry(s.data.uri).then(t=>(this.model=new n.Mesh(t,new o.default),Promise.all(r.map(t=>e.getTexture(t.data.uri))).catch(e=>(console.warn("failed to load texture files"),[])))).then(e=>{const t=this.model.material;return this.assignTextures(r,e,t),t.map||(t.color.setScalar(.5),t.roughness=.8,t.metalness=0),this.model}):void 0}unload(){this.model&&(i.disposeObject(this.model),this.model=null)}createAsset(e,t){const s=new l.default;return s.data.type=e,s.data.uri=t,this.addAsset(s),s}addAsset(e){if(!e.data.uri)throw new Error("uri must be specified");this.data.assets.push(e),this.update()}removeAsset(e){const t=this.data.assets.indexOf(e);t>=0&&this.data.assets.splice(t,1)}findAsset(e){return this.data.assets.find(t=>t.data.type===e)}findAssets(e){return this.data.assets.filter(t=>t.data.type===e)}toString(e=!1){const t=this.data;return e?`Derivative - usage: '${a.EDerivativeUsage[t.usage]}', quality: '${a.EDerivativeQuality[t.quality]}'\n   `+t.assets.map(e=>e.toString()).join("\n   "):`Derivative - usage: '${a.EDerivativeUsage[t.usage]}', quality: '${a.EDerivativeQuality[t.quality]}', #assets: ${t.assets.length})`}init(){return{usage:a.EDerivativeUsage.Web3D,quality:a.EDerivativeQuality.Medium,assets:[]}}deflate(e,t){t.usage=a.EDerivativeUsage[e.usage],t.quality=a.EDerivativeQuality[e.quality],t.assets=e.assets.map(e=>e.toJSON())}inflate(e,t){if(t.usage=a.EDerivativeUsage[e.usage],void 0===t.usage)throw new Error(`unknown derivative usage: ${e.usage}`);if(t.quality=a.EDerivativeQuality[e.quality],void 0===t.quality)throw new Error(`unknown derivative quality: ${e.quality}`);t.assets=e.assets.map(e=>new l.default(e))}assignTextures(e,t,s){for(let n=0;n<e.length;++n){const i=e[n],r=t[n];switch(i.data.mapType){case l.EMapType.Color:s.map=r;break;case l.EMapType.Occlusion:s.aoMap=r;break;case l.EMapType.Emissive:s.emissiveMap=r;break;case l.EMapType.MetallicRoughness:s.metalnessMap=r,s.roughnessMap=r;break;case l.EMapType.Normal:s.normalMap=r}}}}t.default=d},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(66),i=s(31);t.EAssetType=i.EAssetType,t.EMapType=i.EMapType;class r extends n.default{setModel(e){this.data.uri=e,this.data.type=i.EAssetType.Model,this.data.mimeType=this.guessAssetMimeType()}setGeometry(e){this.data.uri=e,this.data.type=i.EAssetType.Geometry,this.data.mimeType=this.guessAssetMimeType()}setTexture(e,t){this.data.uri=e,this.data.type=i.EAssetType.Image,this.data.mimeType=this.guessAssetMimeType(),this.data.mapType=t}isValid(){return!!this.data.uri&&void 0!==this.data.type}toString(){const e=this.data;return`Asset - type: '${i.EAssetType[e.type]}', uri: '${e.uri}', mime type: '${e.mimeType||"(not set)"}'`}init(){return{uri:"",mimeType:"",type:void 0,mapType:void 0,byteSize:0,numFaces:0,numVertices:0,imageSize:0}}deflate(e,t){t.uri=e.uri,t.type=i.EAssetType[e.type],e.mimeType&&(t.mimeType=e.mimeType),void 0!==e.mapType&&(t.mapType=i.EMapType[e.mapType]),e.byteSize>0&&(t.byteSize=e.byteSize),e.type!==i.EAssetType.Model&&e.type!==i.EAssetType.Geometry||e.numFaces>0&&(t.numFaces=e.numFaces),e.type!==i.EAssetType.Model&&e.type!==i.EAssetType.Image&&e.type!==i.EAssetType.Texture||e.imageSize>0&&(t.imageSize=e.imageSize)}inflate(e,t){t.uri=e.uri,t.mimeType=e.mimeType||"",t.type=i.EAssetType[e.type],t.mapType=i.EMapType[e.mapType],t.byteSize=e.byteSize||0,t.numFaces=e.numFaces||0,t.imageSize=e.imageSize||0,void 0===t.type&&(t.type=this.guessAssetType(),void 0===t.type&&console.warn(`failed to determine asset type from asset: ${t.uri}`))}guessAssetType(){const e=this.data;if(void 0!==e.type&&i.EAssetType[e.type])return e.type;if(e.mimeType){if(e.mimeType===r.mimeType.gltfJson||e.mimeType===r.mimeType.gltfBinary)return i.EAssetType.Model;if(e.mimeType===r.mimeType.imageJpeg||e.mimeType===r.mimeType.imagePng)return i.EAssetType.Image}const t=e.uri.split(".").pop().toLowerCase();return"gltf"===t||"glb"===t?i.EAssetType.Model:"obj"===t||"ply"===t?i.EAssetType.Geometry:"jpg"===t||"png"===t?i.EAssetType.Image:void 0}guessAssetMimeType(){const e=this.data;if(e.mimeType)return e.mimeType;const t=e.uri.split(".").pop().toLowerCase();return"gltf"===t?r.mimeType.gltfJson:"glb"===t?r.mimeType.gltfBinary:"jpg"===t?r.mimeType.imageJpeg:"png"===t?r.mimeType.imagePng:""}}t.default=r,r.mimeType={gltfJson:"model/gltf+json",gltfBinary:"model/gltf-binary",imageJpeg:"image/jpeg",imagePng:"image/png"}},function(e,t,s){"use strict";var n=this&&this.__decorate||function(e,t,s,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r<3?i(a):r>3?i(t,s,a):i(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};Object.defineProperty(t,"__esModule",{value:!0});const i=s(3),r=s(2);t.html=r.html;const a=new i.Vector3,o=new i.Vector3,l=new i.Vector3,d=new i.Vector3,c=new i.Vector2,u=new i.Vector2;var h;!function(e){e[e.TopRight=0]="TopRight",e[e.TopLeft=1]="TopLeft",e[e.BottomLeft=2]="BottomLeft",e[e.BottomRight=3]="BottomRight"}(h=t.EQuadrant||(t.EQuadrant={}));class p extends i.Object3D{constructor(){super(),this.isHTMLSprite=!0,this.viewAngle=0,this.orientationAngle=0,this.orientationQuadrant=h.TopLeft,this._elements=new Map,this._visible=!0,this.frustumCulled=!1}get visible(){return this._visible}set visible(e){e!==this._visible&&this._elements&&(this._visible=e,this._elements.forEach(t=>{t&&t.setVisible(e)}))}dispose(){this._elements.forEach((e,t)=>{e&&t.removeChild(e)}),this._elements.clear()}disposeHTMLElement(e){const t=this._elements.get(e);t&&(this._elements.delete(e),e.removeChild(t))}update(){this._elements.forEach(e=>{e&&this.updateHTMLElement(e)})}renderHTMLElement(e,t,s,n,i){n=n||this,a.set(0,0,0),a.applyMatrix4(n.modelViewMatrix),i?o.copy(i):o.set(0,1,0),o.applyMatrix4(n.modelViewMatrix),l.copy(o).sub(a).normalize(),d.set(0,0,1),this.viewAngle=l.angleTo(d),a.applyMatrix4(s.projectionMatrix),o.applyMatrix4(s.projectionMatrix),u.set(o.x,o.y),c.set(a.x,a.y),u.sub(c);const r=.5*(o.x+1)*t.clientWidth,h=.5*(1-o.y)*t.clientHeight;e.setPosition(r,h);const p=this.orientationAngle=u.angle();this.orientationQuadrant=Math.floor(2*p/Math.PI)}getHTMLElement(e){let t=this._elements.get(e);return t||(t=this.createHTMLElement())&&(t.setVisible(this._visible),e.appendChild(t),this._elements.set(e,t)),t}createHTMLElement(){return null}updateHTMLElement(e){e.requestUpdate()}}t.default=p;let m=class extends r.default{setVisible(e){this.style.display=e?"block":"none"}setOpacity(e){this.style.opacity=e.toString(),this.style.visibility=e>0?"visible":"hidden"}setPosition(e,t){this.style.left=e.toString()+"px",this.style.top=t.toString()+"px"}};m=n([r.customElement("ff-sprite-element")],m),t.SpriteElement=m},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(144);class i{constructor(e,t,s){this.x=e||0,this.y=t||0,this.z=s||0}static makeZeros(){return new i(0,0,0)}static makeOnes(){return new i(1,1,1)}static makeUnitX(){return new i(1,0,0)}static makeUnitY(){return new i(0,1,0)}static makeUnitZ(){return new i(0,0,1)}static makeCopy(e){return new i(e.x,e.y,e.z)}static makeFromScalar(e){return new i(e,e,e)}static makeFromArray(e){return new i(e[0],e[1],e[2])}static toString(e){return`[${e.x}, ${e.y}, ${e.z}]`}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}set(e,t,s){return this.x=e,this.y=t,this.z=s,this}setFromScalar(e){return this.x=e,this.y=e,this.z=e,this}setFromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}setZeros(){return this.x=0,this.y=0,this.z=0,this}setOnes(){return this.x=1,this.y=1,this.z=1,this}setUnitX(){return this.x=1,this.y=0,this.z=0,this}setUnitY(){return this.x=0,this.y=1,this.z=0,this}setUnitZ(){return this.x=0,this.y=0,this.z=1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}mul(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}div(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}mulScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}divScalar(e){return this.x/=e,this.y/=e,this.z/=e,this}translate(e,t,s){return this.x+=e,this.y+=t,this.z+=s,this}rotateX(e){const t=Math.cos(e),s=Math.sin(e),n=this.y,i=this.z;return this.y=t*n-s*i,this.z=s*n+t*i,this}rotateY(e){const t=Math.cos(e),s=Math.sin(e),n=this.x,i=this.z;return this.x=t*n+s*i,this.z=-s*n+t*i,this}rotateZ(e){const t=Math.cos(e),s=Math.sin(e),n=this.x,i=this.y;return this.x=t*n-s*i,this.y=s*n+t*i,this}scale(e,t,s){return this.x*=e,this.y*=t,this.z*=s,this}invert(){return this.x=1/this.x,this.y=1/this.y,this.z=1/this.z,this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}normalize(){const e=1/Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z);return this.x*=e,this.y*=e,this.z*=e,this}homogenize(){return this.x/=this.z,this.y/=this.z,this.z=1,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}cross(e){const t=this.y*e.z-this.z*e.y,s=this.z*e.x-this.x*e.z,n=this.x*e.y-this.y*e.x;return this.x=t,this.y=s,this.z=n,this}length(){const e=this.x,t=this.y,s=this.z;return Math.sqrt(e*e+t*t+s*s)}lengthSquared(){const e=this.x,t=this.y,s=this.z;return e*e+t*t+s*s}distanceTo(e){const t=e.x-this.x,s=e.y-this.y,n=e.z-this.z;return Math.sqrt(t*t+s*s+n*n)}min(){return this.x<this.y?this.x<this.z?this.x:this.z:this.y<this.z?this.y:this.z}max(){return this.x>this.y?this.x>this.z?this.x:this.z:this.y>this.z?this.y:this.z}isZero(){return 0===this.x&&0===this.y&&0===this.z}clone(){return new i(this.x,this.y,this.z)}toArray(e,t){return e?(void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e):[this.x,this.y,this.z]}toVector2(e){return e?(e.x=this.x,e.y=this.y,e):new n.default(this.x,this.y)}toString(){return i.toString(this)}}t.default=i,i.zeros=new i(0,0,0),i.ones=new i(1,1,1),i.unitX=new i(1,0,0),i.unitY=new i(0,1,0),i.unitZ=new i(0,0,1)},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n{constructor(e,t){this.x=e||0,this.y=t||0}static makeZeros(){return new n(0,0)}static makeOnes(){return new n(1,1)}static makeUnitX(){return new n(1,0)}static makeUnitY(){return new n(0,1)}static makeCopy(e){return new n(e.x,e.y)}static makeFromScalar(e){return new n(e,e)}static makeFromArray(e){return new n(e[0],e[1])}static toString(e){return`[${e.x}, ${e.y}]`}copy(e){return this.x=e.x,this.y=e.y,this}set(e,t){return this.x=e,this.y=t,this}setFromScalar(e){return this.x=e,this.y=e,this}setFromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}setZeros(){return this.x=0,this.y=0,this}setOnes(){return this.x=1,this.y=1,this}setUnitX(){return this.x=1,this.y=0,this}setUnitY(){return this.x=0,this.y=1,this}add(e){return this.x+=e.x,this.y+=e.y,this}sub(e){return this.x-=e.x,this.y-=e.y,this}mul(e){return this.x*=e.x,this.y*=e.y,this}div(e){return this.x/=e.x,this.y/=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}subScalar(e){return this.x-=e,this.y-=e,this}mulScalar(e){return this.x*=e,this.y*=e,this}divScalar(e){return this.x/=e,this.y/=e,this}translate(e,t){return this.x+=e,this.y+=t,this}rotate(e){const t=Math.cos(e),s=Math.sin(e),n=this.x,i=this.y;return this.x=t*n-s*i,this.y=s*n+t*i,this}scale(e,t){return this.x*=e,this.y*=t,this}invert(){return this.x=1/this.x,this.y=1/this.y,this}negate(){return this.x=-this.x,this.y=-this.y,this}normalize(){const e=1/Math.sqrt(this.x*this.x+this.y*this.y);return this.x*=e,this.y*=e,this}dot(e){return this.x*e.x+this.y*e.y}length(){const e=this.x,t=this.y;return Math.sqrt(e*e+t*t)}lengthSquared(){const e=this.x,t=this.y;return e*e+t*t}distanceTo(e){const t=e.x-this.x,s=e.y-this.y;return Math.sqrt(t*t+s*s)}angle(){return Math.atan2(this.y,this.x)}angleTo(e){const t=this.x,s=this.y,n=e.x,i=e.y;return Math.acos((t*n+s*i)/(Math.sqrt(t*t+s*s)+Math.sqrt(n*n+i*i)))}min(){return this.x<this.y?this.x:this.y}max(){return this.x>this.y?this.x:this.y}isZero(){return 0===this.x&&0===this.y}clone(){return new n(this.x,this.y)}toArray(e,t){return e?(void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e):[this.x,this.y]}toString(){return n.toString(this)}}t.default=n,n.zeros=new n(0,0),n.ones=new n(1,1),n.unitX=new n(1,0),n.unitY=new n(0,1)},function(e,t){e.exports=function(e){switch(e){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}},function(e,t,s){"use strict";var n=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function a(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},s=0;s<10;s++)t["_"+String.fromCharCode(s)]=s;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var s,o,l=a(e),d=1;d<arguments.length;d++){for(var c in s=Object(arguments[d]))i.call(s,c)&&(l[c]=s[c]);if(n){o=n(s);for(var u=0;u<o.length;u++)r.call(s,o[u])&&(l[o[u]]=s[o[u]])}}return l}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(1);class i extends n.default{constructor(){super(...arguments),this.ins=this.addInputs(i.ins),this.outs=this.addOutputs(i.outs)}update(e){return!0}fromData(e){e=e||{},this.ins.setValues({visible:void 0===e.visible||e.visible,logo:void 0===e.logo||e.logo,menu:void 0===e.menu||e.menu,tools:void 0===e.tools||e.tools})}toData(){const e=this.ins;return{visible:e.visible.value,logo:e.logo.value,menu:e.menu.value,tools:e.tools.value}}}t.default=i,i.typeName="CVInterface",i.ins={visible:n.types.Boolean("Interface.Visible",!0),logo:n.types.Boolean("Interface.Logo",!0),menu:n.types.Boolean("Interface.Menu",!0),tools:n.types.Boolean("Interface.Tools",!0)},i.outs={documentTitle:n.types.String("Document.Title")}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(1),i=s(27),r=s(48),a=s(31),o=s(18),l=s(50),d=s(20);class c extends n.default{constructor(){super(...arguments),this.ins=this.addInputs(c.ins),this.outs=this.addOutputs(c.outs)}get settingProperties(){return[this.ins.annotationsVisible,this.ins.activeTags,this.ins.sortedTags,this.ins.radioTags,this.ins.shader,this.ins.exposure,this.ins.gamma]}get snapshotProperties(){return[this.ins.annotationsVisible,this.ins.activeAnnotation,this.ins.activeTags,this.ins.shader,this.ins.exposure]}get analytics(){return this.getMainComponent(d.default)}get renderer(){return this.getMainComponent(i.default)}create(){super.create(),this.graph.components.on(o.default,this.onModelComponent,this),this.graph.components.on(l.default,this.onAnnotationsComponent,this)}dispose(){this.graph.components.off(o.default,this.onModelComponent,this),this.graph.components.off(l.default,this.onAnnotationsComponent,this),super.dispose()}update(e){const t=this.ins;if(t.shader.changed){const e=t.shader.getValidatedValue();this.getGraphComponents(o.default).forEach(t=>t.ins.shader.setValue(e))}if(t.exposure.changed&&this.renderer.ins.exposure.setValue(t.exposure.value),t.gamma.changed&&this.renderer.ins.gamma.setValue(t.gamma.value),t.quality.changed){const e=t.quality.getValidatedValue();this.getGraphComponents(o.default).forEach(t=>t.ins.quality.setValue(e))}if(t.activeAnnotation.changed){const e=t.activeAnnotation.value;this.getGraphComponents(l.default).forEach(t=>t.setActiveAnnotationById(e))}if(t.annotationsVisible.changed){const e=t.annotationsVisible.value;this.getGraphComponents(l.default).forEach(t=>t.ins.visible.setValue(e)),this.analytics.sendProperty("Annotations.Visible",t.annotationsVisible.value)}if(t.activeTags.changed){const e=t.activeTags.value;this.getGraphComponents(l.default).forEach(t=>t.ins.activeTags.setValue(e)),this.getGraphComponents(o.default).forEach(t=>t.ins.activeTags.setValue(e))}return t.sortedTags.changed&&this.refreshTagCloud(),!0}fromData(e){const t=this.ins;t.copyValues({shader:r.EShaderMode[e.shader]||r.EShaderMode.Default,exposure:void 0!==e.exposure?e.exposure:t.exposure.schema.preset,gamma:void 0!==e.gamma?e.gamma:t.gamma.schema.preset,annotationsVisible:!!e.annotationsVisible,activeTags:e.activeTags||"",sortedTags:e.sortedTags||"",radioTags:void 0!==e.radioTags?!!e.radioTags:t.radioTags.schema.preset})}toData(){const e=this.ins,t={shader:r.EShaderMode[e.shader.value],exposure:e.exposure.value,gamma:e.gamma.value};return e.annotationsVisible.value&&(t.annotationsVisible=!0),e.activeTags.value&&(t.activeTags=e.activeTags.value),e.sortedTags.value&&(t.sortedTags=e.sortedTags.value),e.radioTags.value&&(t.radioTags=e.radioTags.value),t}refreshTagCloud(){const e=new Set;this.getGraphComponents(o.default).forEach(t=>{t.ins.tags.value.split(",").map(e=>e.trim()).filter(e=>e).forEach(t=>e.add(t))}),this.getGraphComponents(l.default).forEach(t=>{t.getAnnotations().forEach(t=>{t.data.tags.forEach(t=>e.add(t))})});const t=Array.from(e),s=this.ins.sortedTags.value.split(",").map(e=>e.trim()).filter(e=>e);t.sort((e,t)=>{const n=s.indexOf(e),i=s.indexOf(t);return n<i?-1:n>i?1:0}),this.outs.tagCloud.setValue(t.join(", "))}onAnnotationClick(e){const t=e.annotation?e.annotation.id:"";this.ins.activeAnnotation.setValue(t)}onModelComponent(e){const t=e.object;e.add?t.on("tag-update",this.refreshTagCloud,this):e.remove&&t.off("tag-update",this.refreshTagCloud,this)}onAnnotationsComponent(e){const t=e.object;e.add?(t.on("tag-update",this.refreshTagCloud,this),t.on("click",this.onAnnotationClick,this),t.ins.visible.setValue(this.ins.annotationsVisible.value)):e.remove&&(t.off("tag-update",this.refreshTagCloud,this),t.off("click",this.onAnnotationClick,this))}}t.default=c,c.typeName="CVViewer",c.text="Viewer",c.icon="",c.ins={annotationsVisible:n.types.Boolean("Annotations.Visible"),activeAnnotation:n.types.String("Annotations.ActiveId"),activeTags:n.types.String("Tags.Active"),sortedTags:n.types.String("Tags.Sorted"),radioTags:n.types.Boolean("Tags.Radio"),shader:n.types.Enum("Renderer.Shader",r.EShaderMode),exposure:n.types.Number("Renderer.Exposure",1),gamma:n.types.Number("Renderer.Gamma",2),quality:n.types.Enum("Models.Quality",a.EDerivativeQuality,a.EDerivativeQuality.High)},c.outs={tagCloud:n.types.String("Tags.Cloud")}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(3),i=s(14),r=s(417),a=new n.Matrix4,o=new n.Box3,l=new n.Vector3,d=new n.Vector3;var c,u,h;!function(e){e[e.Orbit=0]="Orbit",e[e.FirstPerson=1]="FirstPerson"}(c||(c={})),function(e){e[e.Off=0]="Off",e[e.Pan=1]="Pan",e[e.Orbit=2]="Orbit",e[e.Dolly=3]="Dolly",e[e.Zoom=4]="Zoom",e[e.PanDolly=5]="PanDolly",e[e.Roll=6]="Roll"}(u||(u={})),function(e){e[e.Off=0]="Off",e[e.Active=1]="Active",e[e.Release=2]="Release"}(h||(h={}));t.default=class{constructor(e){this.orbit=new n.Vector3(0,0,0),this.offset=new n.Vector3(0,0,50),this.minOrbit=new n.Vector3(-90,-1/0,-1/0),this.maxOrbit=new n.Vector3(90,1/0,1/0),this.minOffset=new n.Vector3(-1/0,-1/0,.1),this.maxOffset=new n.Vector3(1/0,1/0,1e3),this.orientationEnabled=!0,this.offsetEnabled=!0,this.mode=u.Off,this.phase=h.Off,this.prevPinchDist=0,this.deltaX=0,this.deltaY=0,this.deltaPinch=0,this.deltaWheel=0,this.viewportWidth=100,this.viewportHeight=100,this.camera=e}onPointer(e){if(e.isPrimary)if("pointer-down"===e.type)this.phase=h.Active;else if("pointer-up"===e.type)return this.phase=h.Release,!0;"pointer-down"===e.type&&(this.mode=this.getModeFromEvent(e));if(this.deltaX+=1*e.movementX,this.deltaY+=1*e.movementY,2===e.pointerCount){const t=e.activePositions,s=t[1].clientX-t[0].clientX,n=t[1].clientY-t[0].clientY,i=Math.sqrt(s*s+n*n),r=this.prevPinchDist||i;this.deltaPinch*=r>0?i/r:1,this.prevPinchDist=i}else this.deltaPinch=1,this.prevPinchDist=0;return!0}onTrigger(e){return"wheel"===e.type&&(this.deltaWheel+=i.default.limit(e.wheel,-1,1),!0)}setViewportSize(e,t){this.viewportWidth=e,this.viewportHeight=t}updateController(e,t){const s=this.camera;e=e||s;const n=this.orbit,i=this.offset;r.default.decomposeOrbitMatrix(e.matrix,n,i),this.orbit.multiplyScalar(r.default.RAD2DEG),t&&(this.minOffset.min(i),this.maxOffset.max(i))}zoomExtents(e){const t=this.camera,s=this.offset;if(!t)return void console.warn("CameraController.zoomExtents - camera not set");l.copy(this.orbit).multiplyScalar(i.default.DEG2RAD),d.setScalar(0),r.default.composeOrbitMatrix(l,d,a),o.copy(e).applyMatrix4(a.transpose()),o.getSize(l),o.getCenter(d),s.x=d.x,s.y=d.y;const n=Math.max(l.x/t.aspect,l.y);if(t.isOrthographicCamera)s.z=1.1*n;else{const e=1/(2*Math.tan(t.fov*i.default.DEG2RAD*.5));s.z=d.z+n*e+.25*l.z}this.maxOffset.z=Math.max(this.maxOffset.z,s.z+4*l.z)}updateCamera(e,t){const s=this.camera;return e=e||s,!(!this.update()&&!t)&&(l.copy(this.orbit).multiplyScalar(i.default.DEG2RAD),d.copy(this.offset),s.isOrthographicCamera&&(d.z=this.maxOffset.z,s.size=this.offset.z,s.far=2*this.maxOffset.z,s.updateProjectionMatrix()),r.default.composeOrbitMatrix(l,d,e.matrix),e.matrixWorldNeedsUpdate=!0,!0)}update(){if(this.phase===h.Off&&0===this.deltaWheel)return!1;if(0!==this.deltaWheel)return this.updatePose(0,0,.07*this.deltaWheel+1,0,0,0),this.deltaWheel=0,!0;if(this.phase===h.Active)return(0!==this.deltaX||0!==this.deltaY||1!==this.deltaPinch)&&(this.updateByMode(),this.deltaX=0,this.deltaY=0,this.deltaPinch=1,!0);if(this.phase===h.Release){return this.deltaX*=.85,this.deltaY*=.85,this.deltaPinch=1,this.updateByMode(),Math.abs(this.deltaX)+Math.abs(this.deltaY)<.1&&(this.mode=u.Off,this.phase=h.Off),!0}return!1}updateByMode(){switch(this.mode){case u.Orbit:this.updatePose(0,0,1,this.deltaY,this.deltaX,0);break;case u.Pan:this.updatePose(this.deltaX,this.deltaY,1,0,0,0);break;case u.Roll:this.updatePose(0,0,1,0,0,this.deltaX);break;case u.Dolly:this.updatePose(0,0,.0075*this.deltaY+1,0,0,0);break;case u.PanDolly:const e=.42*(this.deltaPinch-1)+1;this.updatePose(.75*this.deltaX,.75*this.deltaY,1/e,0,0,0)}}updatePose(e,t,s,n,r,a){const{orbit:o,minOrbit:l,maxOrbit:d,offset:c,minOffset:u,maxOffset:h}=this;if(this.orientationEnabled&&(o.x+=-1*n*220/this.viewportHeight,o.y+=-1*r*220/this.viewportHeight,o.z+=-1*a*220/this.viewportHeight,o.x=i.default.limit(o.x,l.x,d.x),o.y=i.default.limit(o.y,l.y,d.y),o.z=i.default.limit(o.z,l.z,d.z)),this.offsetEnabled){const n=c.z=s*c.z;c.x+=e*n*-1/this.viewportHeight,c.y-=t*n*-1/this.viewportHeight,c.x=i.default.limit(c.x,u.x,h.x),c.y=i.default.limit(c.y,u.y,h.y),c.z=i.default.limit(c.z,u.z,h.z)}}getModeFromEvent(e){if("mouse"===e.source){const t=e.originalEvent.button;if(0===t)return e.ctrlKey?u.Pan:e.altKey?u.Dolly:u.Orbit;if(2===t)return e.altKey?u.Roll:u.Pan;if(1===t)return u.Dolly}else if("touch"===e.source){const t=e.pointerCount;return 1===t?u.Orbit:2===t?u.PanDolly:u.Pan}}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(151);class i extends n.default{get settingProperties(){return[this.ins.style,this.ins.color0,this.ins.color1]}get snapshotProperties(){return[this.ins.color0,this.ins.color1]}fromData(e){this.ins.copyValues({style:n.EBackgroundStyle[e.style]||n.EBackgroundStyle.Solid,color0:e.color0||[.2,.25,.3],color1:e.color1||[.01,.03,.05]})}toData(){const e=this.ins;return{style:n.EBackgroundStyle[e.style.value],color0:e.color0.cloneValue(),color1:e.color1.cloneValue()}}}t.default=i,i.typeName="CVBackground"},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(17),i=s(418);t.EBackgroundStyle=i.EBackgroundStyle;class r extends n.default{constructor(e,t){super(e,t),this.ins=this.addInputs(r.backgroundIns),this.object3D=new i.default}get background(){return this.object3D}update(e){super.update(e);const t=this.ins,s=this.background.material;return t.style.changed&&(s.style=t.style.getValidatedValue()),t.color0.changed&&s.color0.fromArray(t.color0.value),t.color1.changed&&s.color1.fromArray(t.color1.value),t.noise.changed&&(s.noise=t.noise.value),!0}dispose(){this.background.dispose(),super.dispose()}}t.default=r,r.typeName="CBackground",r.backgroundIns={style:n.types.Enum("Background.Style",i.EBackgroundStyle,i.EBackgroundStyle.RadialGradient),color0:n.types.ColorRGB("Background.Color0",[.2,.25,.3]),color1:n.types.ColorRGB("Background.Color1",[.01,.03,.05]),noise:n.types.Number("Background.Noise",{min:0,max:1,bar:!0,preset:.02})}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(419);class i extends n.default{constructor(e,t){super(e,t),this.ins.visible.setValue(!1),this.ins.receiveShadow.setValue(!0),this.floor.renderOrder=-1}get settingProperties(){return[this.ins.visible,this.ins.position,this.ins.radius,this.ins.color,this.ins.opacity,this.ins.receiveShadow]}get snapshotProperties(){return[this.ins.opacity]}fromData(e){e=e||{},this.ins.copyValues({visible:!!e.visible,position:e.position||[0,-25,0],radius:void 0!==e.size?e.size:50,color:e.color||[.6,.75,.8],opacity:void 0!==e.opacity?e.opacity:.5,receiveShadow:!!e.receiveShadow})}toData(){const e=this.ins;return{visible:e.visible.value,position:e.position.cloneValue(),size:e.radius.value,color:e.color.cloneValue(),opacity:e.opacity.value,receiveShadow:e.receiveShadow.value}}}t.default=i,i.typeName="CVFloor",i.text="Floor",i.icon=""},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(3),i=s(423),r=s(1),a=s(17),o=s(67),l=s(32),d=new n.Vector3,c=new n.Vector3,u=(new n.Matrix4).makeRotationX(.5*Math.PI),h=new n.Matrix4;class p extends a.default{constructor(){super(...arguments),this.ins=this.addInputs(p.gridIns),this.outs=this.addOutputs(p.gridOuts),this._lastViewport=null,this._gridProps={size:20,mainDivisions:2,subDivisions:10,mainColor:new n.Color(.5,.7,.8),subColor:new n.Color(.25,.35,.4)}}get settingProperties(){return[this.ins.visible,this.ins.color,this.ins.opacity]}get snapshotProperties(){return[this.ins.opacity]}get grid(){return this.object3D}create(){this.ins.pickable.setValue(!1),this.ins.visible.setValue(!1),super.create()}activate(){this.getGraphComponent(l.default).outs.boundingBox.linkTo(this.ins.boundingBox)}update(){const e=this.ins;if(e.color.changed||e.boundingBox.changed){const t=this._gridProps;if(e.color.changed){const s=t.mainColor,n=t.subColor;s.fromArray(e.color.value),n.r=.5*s.r,n.g=.5*s.g,n.b=.5*s.b}if(e.boundingBox.changed){const e=this.getGraphComponent(l.default),s=e.outs.boundingBox.value,n=e.ins.units.value;s.getSize(d);let i=Math.max(d.x,d.y,d.z),r=1;for(;i/r>5;)r*=10;i=Math.ceil(i/r)*r*2,t.size=i,this.outs.size.setValue(i),this.outs.units.setValue(n),t.mainDivisions=i/r,t.subDivisions=10,c.set(0,s.min.y,0)}this.object3D?this.grid.update(t):this.object3D=new i.default(t),e.boundingBox.changed&&(this.grid.position.copy(c),this.grid.updateMatrix())}return e.visible.changed&&(this.grid.visible=e.visible.value),e.opacity.changed&&(this.grid.opacity=e.opacity.value),!0}preRender(e){const t=e.viewport,s=this.object3D;if(t!==this._lastViewport){this._lastViewport=t;const n=e.viewport.camera;n?s.matrix.extractRotation(n.matrixWorld).multiply(u):s.matrix.extractRotation(h),s.updateMatrixWorld(!0)}}postRender(e){this.object3D.matrix.extractRotation(h)}fromData(e){e=e||{},this.ins.copyValues({visible:!!e.visible,color:e.color||[.5,.7,.8]})}toData(){const e=this.ins;return{visible:e.visible.cloneValue(),color:e.color.cloneValue()}}}t.default=p,p.typeName="CVGrid",p.text="Grid",p.icon="",p.gridIns={color:r.types.ColorRGB("Grid.Color",[.5,.7,.8]),opacity:r.types.Percent("Grid.Opacity",1),boundingBox:r.types.Object("Scene.BoundingBox",n.Box3)},p.gridOuts={size:r.types.Number("Size"),units:r.types.Enum("Units",o.EUnitType)}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(3),i=s(1),r=s(48),a=s(32),o=s(18),l=[[-1,0,0,0],[0,-1,0,0],[0,0,-1,0],[1,0,0,0],[0,1,0,0],[0,0,1,0]];class d extends i.default{constructor(){super(...arguments),this.ins=this.addInputs(d.ins),this.plane=null,this.axisIndex=-1}get settingProperties(){return[this.ins.enabled]}get snapshotProperties(){return[this.ins.enabled,this.ins.axis,this.ins.position,this.ins.inverted]}create(){super.create();const e=this.getGraphComponent(a.default);this.ins.boundingBox.linkFrom(e.outs.boundingBox)}update(e){const t=this.ins;if(t.axis.changed){const e=t.axis.getValidatedValue();e===this.axisIndex?t.inverted.setValue(!t.inverted.value):(t.inverted.setValue(!1),this.axisIndex=e)}if(!t.enabled.value&&!t.enabled.changed)return!1;const s=t.axis.getValidatedValue(),n=t.inverted.value,i=s+(n?3:0),r=this.ins.boundingBox.value;if(!r)return!0;this.plane=l[i];const a=r.min.getComponent(s),d=r.max.getComponent(s),c=1-t.position.value;return this.plane[3]=n?c*(d-a)-d:d-c*(d-a),this.getGraphComponents(o.default).forEach(e=>{e.object3D.traverse(e=>{if(e.isMesh){const t=e.material;t.isUberPBRMaterial&&this.updateMaterial(t)}})}),!0}fromData(e){e=e||{},this.ins.setValues({enabled:e.enabled||!1,axis:r.ESliceAxis[e.axis]||r.ESliceAxis.X,position:e.position||0,inverted:e.inverted||!1})}toData(){const e=this.ins;return{enabled:e.enabled.value,axis:r.ESliceAxis[e.axis.getValidatedValue()],position:e.position.value,inverted:e.inverted.value}}updateMaterial(e){const t=this.ins;t.enabled.changed&&(e.enableCutPlane(t.enabled.value),e.needsUpdate=!0),e.cutPlaneDirection.fromArray(this.plane),e.cutPlaneColor.fromArray(t.color.value)}}t.default=d,d.typeName="CVSlicer",d.text="Slicer",d.icon="",d.ins={enabled:i.types.Boolean("Slice.Enabled"),axis:i.types.Enum("Slice.Axis",r.ESliceAxis),position:i.types.Number("Slice.Position",{min:0,max:1,preset:.5}),inverted:i.types.Boolean("Slice.Inverted"),color:i.types.ColorRGB("Slice.Color",[0,.61,.87]),boundingBox:i.types.Object("Scene.BoundingBox",n.Box3)}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(1),i=s(70),r=s(20);class a extends n.default{constructor(){super(...arguments),this.ins=this.addInputs(a.ins),this.outs=this.addOutputs(a.outs),this._tours=[]}get analytics(){return this.getMainComponent(r.default)}get snapshots(){return this.getComponent(i.default)}get tours(){return this._tours}get activeSteps(){const e=this.activeTour;return e?e.steps:null}get activeTour(){return this._tours[this.outs.tourIndex.value]}get activeStep(){const e=this.activeTour;return e?e.steps[this.outs.stepIndex.value]:null}dispose(){super.dispose()}update(e){const{ins:t,outs:s}=this,n=this._tours,r=this.snapshots;if(t.enabled.changed){if(this.analytics.sendProperty("Tours.Enabled",t.enabled.value),!t.enabled.value)return s.tourIndex.set(),r.tweenTo(a.sceneSnapshotId,e.secondsElapsed),r.deleteState(a.sceneSnapshotId),!0;{const e={id:a.sceneSnapshotId,curve:i.EEasingCurve.EaseOutQuad,duration:1,threshold:0,values:r.getCurrentValues()};r.setState(e)}}const o=Math.min(n.length-1,Math.max(-1,t.tourIndex.value)),l=n[o],d=l?l.steps.length:0;s.stepCount.setValue(d);let c=-1;if((t.tourIndex.changed||t.enabled.changed)&&(o!==s.tourIndex.value&&(c=0),s.tourIndex.setValue(o),s.tourTitle.setValue(l?l.title:""),s.tourLead.setValue(l?l.lead:"")),0===d)return s.stepIndex.setValue(-1),s.stepTitle.setValue(""),!0;let u=!0;if(t.enabled.changed&&(c=s.stepIndex.value),t.stepIndex.changed&&(c=Math.min(l.steps.length-1,Math.max(0,t.stepIndex.value)),u=!1),t.first.changed&&(c=0),t.next.changed&&(c=s.stepIndex.value+1)>=d&&(s.tourIndex.setValue(-1),s.tourTitle.setValue(""),s.tourLead.setValue(""),c=-1),t.previous.changed&&(c=(s.stepIndex.value+d-1)%d),c>=0){const e=l.steps[c];s.stepIndex.setValue(c),s.stepTitle.setValue(e.title),r.ins.id.setValue(e.id),u?r.ins.tween.set():r.ins.recall.set()}return!0}fromData(e){this._tours=e.map(e=>({title:e.title,steps:e.steps,lead:e.lead||"",tags:e.tags||[]})),this.ins.tourIndex.setValue(-1),this.outs.count.setValue(this._tours.length)}toData(){return 0===this._tours.length?null:this._tours.map(e=>{const t={title:e.title,steps:e.steps};return e.lead&&(t.lead=e.lead),e.tags.length>0&&(t.tags=e.tags),t})}}t.default=a,a.typeName="CVTours",a.sceneSnapshotId="scene-default",a.ins={enabled:n.types.Boolean("Tours.Enabled"),tourIndex:n.types.Integer("Tours.Index",-1),stepIndex:n.types.Integer("Step.Index"),next:n.types.Event("Step.Next"),previous:n.types.Event("Step.Previous"),first:n.types.Event("Step.First")},a.outs={count:n.types.Integer("Tours.Count"),tourIndex:n.types.Integer("Tour.Index",-1),tourTitle:n.types.String("Tour.Title"),tourLead:n.types.String("Tour.Lead"),stepCount:n.types.Integer("Tour.Steps"),stepIndex:n.types.Integer("Step.Index"),stepTitle:n.types.String("Step.Title")}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(8),i=s(84),r=s(27),a=s(61),o=s(65),l=s(13),d=s(36),c=s(20);class u extends n.default{get pulse(){return this.components.get(i.default)}get renderer(){return this.components.get(r.default)}get fullscreen(){return this.components.get(o.default)}get selection(){return this.components.get(a.default)}get assetManager(){return this.components.get(l.default)}get assetReader(){return this.components.get(d.default)}get analytics(){return this.components.get(c.default)}createComponents(){this.createComponent(i.default),this.createComponent(r.default),this.createComponent(o.default),this.createComponent(l.default),this.createComponent(d.default),this.createComponent(c.default),this.createComponent(a.default).ins.viewportBrackets.setValue(!1)}}t.default=u,u.typeName="NVEngine"},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(8),i=s(47),r=s(19),a=s(52);class o extends n.default{get scene(){return this.components.get(i.default)}get documentProvider(){return this.components.get(r.default)}get nodeProvider(){return this.components.get(a.default)}createComponents(){this.createComponent(i.default,"Master Scene"),this.createComponent(r.default),this.createComponent(a.default)}}t.default=o,o.typeName="NVDocuments"},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(52),i=s(427);class r extends i.default{constructor(){super(...arguments),this.activeNode=null}get nodeProvider(){return this.getGraphComponent(n.default)}startObserving(){super.startObserving();const e=this.nodeProvider;e.on("active-node",this.onActiveNodeEvent,this),e.activeNode&&(this.activeNode=e.activeNode,this.onActiveNode(null,e.activeNode))}stopObserving(){const e=this.nodeProvider;e.off("active-node",this.onActiveNodeEvent,this),e.activeNode&&(this.activeNode=null,this.onActiveNode(e.activeNode,null)),super.stopObserving()}onActiveNode(e,t){}onActiveNodeEvent(e){this.activeNode=e.next,this.onActiveNode(e.previous,e.next)}}t.default=r,r.typeName="CVNodeObserver"},function(e,t,s){"use strict";var n=this&&this.__decorate||function(e,t,s,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r<3?i(a):r>3?i(t,s,a):i(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};Object.defineProperty(t,"__esModule",{value:!0}),s(5),s(71),s(428);const i=s(100),r=s(38);class a extends r.default{createView(){return new o(this)}}t.default=a,a.typeName="CVViewTool",a.text="View",a.icon="eye";let o=class extends r.ToolView{firstConnected(){super.firstConnected(),this.classList.add("sv-view-tool-view")}render(){const e=this.activeDocument;if(!e)return r.html``;const t=this.tool,s=e.setup.navigation,n=s.ins.projection,a=s.ins.preset,o=s.ins.zoomExtents,l=[i.EViewPreset.Front,i.EViewPreset.Back,i.EViewPreset.Left,i.EViewPreset.Right,i.EViewPreset.Top,i.EViewPreset.Bottom];return r.html`<div class="sv-section"><ff-button class="sv-section-lead" transparent icon=${t.icon}></ff-button>
            <div class="sv-tool-controls">
                <sv-property-options .property=${n}></sv-property-options>
                <sv-property-options .property=${a} name="View" .indexMap=${l}></sv-property-options>
                <sv-property-event .property=${o} name="Center" icon="zoom"></sv-property-event>
            </div>
        </div>`}onActiveDocument(e,t){this.requestUpdate()}};o=n([r.customElement("sv-view-tool-view")],o),t.ViewToolView=o},function(e,t,s){"use strict";var n=this&&this.__decorate||function(e,t,s,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r<3?i(a):r>3?i(t,s,a):i(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};Object.defineProperty(t,"__esModule",{value:!0}),s(71);const i=s(38);class r extends i.default{createView(){return new a(this)}}t.default=r,r.typeName="CVRenderTool",r.text="Material",r.icon="palette";let a=class extends i.ToolView{constructor(){super(...arguments),this.viewer=null}firstConnected(){super.firstConnected(),this.classList.add("sv-group","sv-render-tool-view")}render(){const e=this.tool,t=this.viewer;if(!t)return i.html``;const s=t.ins.shader;return i.html`<div class="sv-section"><ff-button class="sv-section-lead" transparent icon=${e.icon}></ff-button>
            <div class="sv-tool-controls">
                <sv-property-options .property=${s} name="Material"></sv-property-options>
            </div>
        </div>`}onActiveDocument(e,t){this.viewer&&(this.viewer.ins.shader.off("value",this.onUpdate,this),this.viewer=null),t&&(this.viewer=t.setup.viewer,this.viewer.ins.shader.on("value",this.onUpdate,this))}};a=n([i.customElement("sv-render-tool-view")],a),t.RenderToolView=a},function(e,t,s){"use strict";var n=this&&this.__decorate||function(e,t,s,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r<3?i(a):r>3?i(t,s,a):i(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};Object.defineProperty(t,"__esModule",{value:!0});const i=s(38),r=s(151);class a extends i.default{createView(){return new o(this)}}t.default=a,a.typeName="CVEnvironmentTool",a.text="Environment",a.icon="environment";let o=class extends i.ToolView{firstConnected(){super.firstConnected(),this.classList.add("sv-group","sv-environment-tool-view")}render(){const e=this.tool;if(!this.activeDocument)return i.html`No active document`;const t=this.activeDocument.setup,s=t.grid,n=t.floor,a=t.background,o=a.ins.style.getValidatedValue(),l=o===r.EBackgroundStyle.Solid;r.EBackgroundStyle.LinearGradient;return i.html`<div class="sv-section"><ff-button class="sv-section-lead" transparent icon=${e.icon}></ff-button>
            <div class="sv-tool-controls">
                <sv-property-options .property=${a.ins.style} .options=${["Solid","Linear","Radial"]} name="Background"></sv-property-options>
                <sv-property-color class="sv-nogap" .property=${a.ins.color0} name=" "></sv-property-color>
                ${l?null:i.html`<sv-property-color class="sv-nogap" .property=${a.ins.color1} name=" "></sv-property-color>`}
                <sv-property-boolean .property=${s.ins.visible} name="Grid"></sv-property-boolean>
                <sv-property-color class="sv-nogap" .property=${s.ins.color} name=" "></sv-property-color>
                <sv-property-boolean .property=${n.ins.visible} name="Floor"></sv-property-boolean>
                <sv-property-color class="sv-nogap" .property=${n.ins.color} name=" "></sv-property-color>
            </div>
        </div>`}onActiveDocument(e,t){if(e){e.setup.background.ins.style.off("value",this.onUpdate,this)}if(t){t.setup.background.ins.style.on("value",this.onUpdate,this)}this.requestUpdate()}};o=n([i.customElement("sv-environment-tool-view")],o),t.EnvironmentToolView=o},function(e,t,s){"use strict";var n=this&&this.__decorate||function(e,t,s,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r<3?i(a):r>3?i(t,s,a):i(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};Object.defineProperty(t,"__esModule",{value:!0});const i=s(21);s(103),s(71),s(163),s(429);const r=s(38);class a extends r.default{constructor(){super(...arguments),this.lights=[],this.ins=this.addInputs(a.ins),this.outs=this.addOutputs(a.outs)}update(e){return this.outs.light.setValue(this.lights[this.ins.light.getValidatedValue()]),!0}createView(){return new o(this)}onActiveDocument(e,t){this.lights=t?t.getInnerComponents(i.default):[],this.ins.light.setOptions(this.lights.map(e=>e.node.name)),this.outs.light.setValue(this.lights[0]),super.onActiveDocument(e,t)}}t.default=a,a.typeName="CVLightTool",a.text="Lights",a.icon="bulb",a.ins={light:r.types.Option("Tool.Light",[])},a.outs={light:r.types.Object("Tool.SelectedLight",i.default)};let o=class extends r.ToolView{constructor(){super(...arguments),this.lights=null}firstConnected(){super.firstConnected(),this.classList.add("sv-group","sv-light-tool-view")}connected(){super.connected(),this.tool.outs.light.on("value",this.onUpdate,this)}disconnected(){this.tool.outs.light.off("value",this.onUpdate,this),super.disconnected()}render(){const e=this.tool,t=e.lights,s=this.activeDocument;if(!t||!s)return r.html`No editable lights in this scene.`;const n=e.outs.light.value,i=s.setup.navigation,a=n?r.html`<div class="sv-section">
            <ff-button class="sv-section-lead" transparent icon="cog"></ff-button>
            <div class="sv-tool-controls">
                <!-- <sv-property-boolean .property=${n.ins.visible} name="Switch"></sv-property-boolean> -->
                <sv-property-slider .property=${n.ins.intensity} name="Intensity" min="0" max="2"></sv-property-slider>
                <sv-property-color .property=${n.ins.color} name="Color"></sv-property-color>
            </div>
        </div>`:null;return r.html`${a}<div class="sv-section"><ff-button class="sv-section-lead" transparent icon=${e.icon}></ff-button>
            <div class="sv-tool-controls">
                <!-- <sv-property-boolean .property=${i.ins.lightsFollowCamera} name="Follow Camera"></sv-property-boolean> -->
                <sv-property-options .property=${e.ins.light} name="Select Scene Light"></sv-property-options>
            </div>
        </div>`}onActiveDocument(e,t){e&&e.setup.navigation.ins.lightsFollowCamera.off("value",this.onUpdate,this),t&&t.setup.navigation.ins.lightsFollowCamera.on("value",this.onUpdate,this),this.requestUpdate()}};o=n([r.customElement("sv-light-tool-view")],o),t.LightToolView=o},function(e,t,s){"use strict";var n=this&&this.__decorate||function(e,t,s,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r<3?i(a):r>3?i(t,s,a):i(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};Object.defineProperty(t,"__esModule",{value:!0});const i=s(2);s(164);let r=class extends i.default{constructor(){super(...arguments),this.property=null,this.name="",this.min=void 0,this.max=void 0}firstConnected(){super.firstConnected(),this.classList.add("sv-property-view","sv-property-slider")}update(e){if(!this.property)throw new Error("missing property attribute");if("number"!==this.property.type)throw new Error(`not a number property: '${this.property.path}'`);if(e.has("property")){const t=e.get("property");t&&t.off("value",this.onUpdate,this),this.property&&this.property.on("value",this.onUpdate,this)}super.update(e)}render(){const e=this.property,t=this.name||e.name,s=e.getValidatedValue(),n=isFinite(this.min)?this.min:e.schema.min,r=(s-n)/((isFinite(this.max)?this.max:e.schema.max)-n);return i.html`<label class="ff-label ff-off">${t}</label>
            <ff-linear-slider .value=${r} @change=${this.onSliderChange}></ff-linear-slider>`}onSliderChange(e){const t=this.property,s=isFinite(this.min)?this.min:t.schema.min,n=isFinite(this.max)?this.max:t.schema.max,i=s+e.detail.value*(n-s);t.setValue(i)}};n([i.property({attribute:!1})],r.prototype,"property",void 0),n([i.property({type:String})],r.prototype,"name",void 0),n([i.property({type:Number})],r.prototype,"min",void 0),n([i.property({type:Number})],r.prototype,"max",void 0),r=n([i.customElement("sv-property-slider")],r),t.default=r},function(e,t,s){"use strict";var n=this&&this.__decorate||function(e,t,s,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r<3?i(a):r>3?i(t,s,a):i(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};Object.defineProperty(t,"__esModule",{value:!0});const i=s(14),r=s(2),a=s(165);let o=class extends r.default{constructor(){super(),this.direction="horizontal",this.value=0,this._isVertical=!1,this._offsetX=0,this._offsetY=0,this._knob=(new r.default).addClass("ff-knob").setStyle({display:"block",position:"relative "}),new a.default(this)}dragStart(e){const t=this._knob,s=this.getBoundingClientRect();e.target===this._knob?(this._offsetX=e.clientX-t.offsetLeft+.5*(t.clientWidth-t.offsetWidth),this._offsetY=e.clientY-t.offsetTop+.5*(t.clientHeight-t.offsetHeight)):(this._offsetX=s.left+.8*t.clientWidth,this._offsetY=s.top+.8*t.clientHeight),this.dragMove(e)}dragMove(e){const t=this._knob,s=e.clientX-this._offsetX,n=e.clientY-this._offsetY;let r=this._isVertical?1-n/(this.clientHeight-t.clientHeight):s/(this.clientWidth-t.clientWidth);(r=i.default.limit(r,0,1))!==this.value&&(this.value=r,this.emitChangeEvent(!0))}dragEnd(){this.emitChangeEvent(!1)}firstConnected(){this.setStyle({position:"relative",touchAction:"none"}),this.setAttribute("touch-action","none"),this.setAttribute("tabindex","0"),this.classList.add("ff-control","ff-linear-slider"),this.appendChild(this._knob)}update(e){if(e.has("direction")&&(this._isVertical="vertical"===this.direction,this.setClass("ff-horizontal",!this._isVertical),this.setClass("ff-vertical",this._isVertical)),e.has("value")){const e=i.default.limit(this.value,0,1),t=this._isVertical?0:100*e,s=this._isVertical?100*(1-e):0;this._knob.style.left=`${t.toFixed(3)}%`,this._knob.style.top=`${s.toFixed(3)}%`}super.update(e)}emitChangeEvent(e){this.dispatchEvent(new CustomEvent("change",{detail:{value:this.value,isDragging:e},bubbles:!0}))}};n([r.property({type:String})],o.prototype,"direction",void 0),n([r.property({type:Number})],o.prototype,"value",void 0),o=n([r.customElement("ff-linear-slider")],o),t.default=o},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(e){this.isEnabled=!0,this._isDragging=!1,this._startX=0,this._startY=0,this._lastX=0,this._lastY=0,this.target=e,this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),e.addEventListener("pointerdown",this.onPointerDown),e.addEventListener("pointermove",this.onPointerMove),e.addEventListener("pointerup",this.onPointerUp),e.addEventListener("pointercancel",this.onPointerUp)}get isDragging(){return this._isDragging}get startX(){return this._startX}get startY(){return this._startY}onPointerDown(e){e.isPrimary&&this.isEnabled&&(this._isDragging=!0,this._startX=this._lastX=e.clientX,this._startY=this._lastY=e.clientY,this.target.setPointerCapture(e.pointerId),this.target.dragStart(e)),e.stopPropagation(),e.preventDefault()}onPointerMove(e){if(e.isPrimary&&this._isDragging){const t=e.clientX-this._lastX;this._lastX=e.clientX;const s=e.clientY-this._lastY;this._lastY=e.clientY,this.target.dragMove(e,t,s)}e.stopPropagation(),e.preventDefault()}onPointerUp(e){this._isDragging&&e.isPrimary&&(this.target.dragEnd(e),this.target.releasePointerCapture(e.pointerId),this._isDragging=!1),e.stopPropagation(),e.preventDefault()}}},function(e,t,s){"use strict";var n=this&&this.__decorate||function(e,t,s,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r<3?i(a):r>3?i(t,s,a):i(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};Object.defineProperty(t,"__esModule",{value:!0});const i=s(14),r=s(68);t.Color=r.default,s(54);const a=s(164),o=s(430),l=s(2),d=new r.default;let c=class extends l.default{constructor(){super(),this.color=new r.default,this.alpha=!1,this.numeric=!1,this.onLumSatChange=this.onLumSatChange.bind(this),this.onHueChange=this.onHueChange.bind(this),this.onAlphaChange=this.onAlphaChange.bind(this),this.addEventListener("click",e=>e.stopPropagation()),this._hsv=new r.Vector3,this._lumSatSlider=(new o.default).on("change",this.onLumSatChange),this._hueSlider=(new a.default).addClass("ff-hue-slider").on("change",this.onHueChange),this._hueSlider.direction="vertical"}firstConnected(){this.classList.add("ff-flex-column","ff-control","ff-color-edit")}update(e){e.has("color")&&this.color.toHSV(this._hsv),e.has("alpha")&&(this.alpha&&!this._alphaSlider?(this._alphaSlider=(new a.default).addClass("ff-alpha-slider").on("change",this.onAlphaChange),this._alphaSlider.direction="vertical"):!this.alpha&&this._alphaSlider&&this._alphaSlider.remove()),super.update(e)}render(){let e=null;if(this.numeric){const t=this.color,s=t.toString(!1).substr(1),n=this.alpha?l.html`
                <div class="ff-text">A</div><ff-line-edit name="alphaByte" text=${t.alphaByte} align="center" @change=${this.onNumericEdit}></ff-line-edit>
            `:null;e=l.html`<div class="ff-flex-row ff-numeric-controls">
                <div class="ff-text">R</div><ff-line-edit name="redByte" text=${t.redByte} align="center" @change=${this.onNumericEdit}></ff-line-edit>
                <div class="ff-text">G</div><ff-line-edit name="greenByte" text=${t.greenByte} align="center" @change=${this.onNumericEdit}></ff-line-edit>
                <div class="ff-text">B</div><ff-line-edit name="blueByte" text=${t.blueByte} align="center" @change=${this.onNumericEdit}></ff-line-edit>
                ${n}
                <div class="ff-text">#</div><ff-line-edit name="string" text=${s} class="ff-wide" align="center" @change=${this.onNumericEdit}></ff-line-edit>
            </div>`}return l.html`<div class="ff-flex-row ff-slider-controls">
                ${this._lumSatSlider}${this._hueSlider}${this._alphaSlider}
            </div>${e}`}updated(){this._hueSlider.value=1-this._hsv.x/360;const e=`linear-gradient(to bottom, transparent, black), linear-gradient(to right, white, ${d.setHSV(this._hsv.x).toString(!1)})`;if(this._lumSatSlider.style.backgroundImage=e,this._lumSatSlider.setXY(this._hsv.y,this._hsv.z),this.alpha){const e=this.color.toString(!1),t=getComputedStyle(this._alphaSlider).color,s=`linear-gradient(to top, transparent, ${e}), repeating-linear-gradient(-45deg, transparent, transparent 8px, ${t} 8px, ${t} 16px)`;this._alphaSlider.style.backgroundImage=s,this._alphaSlider.value=this.color.alpha}}onLumSatChange(e){e.stopPropagation();const t=e.detail.value;this._hsv.y=t.x,this._hsv.z=t.y,this.color.setHSV(this._hsv),this.requestUpdate(),this.emitChangeEvent(e.detail.isDragging)}onHueChange(e){e.stopPropagation(),this._hsv.x=360*(1-e.target.value),this.color.setHSV(this._hsv),this.requestUpdate(),this.emitChangeEvent(e.detail.isDragging)}onAlphaChange(e){e.stopPropagation(),this.color.alpha=e.target.value,this.requestUpdate(),this.emitChangeEvent(e.detail.isDragging)}onNumericEdit(e){e.stopPropagation();const t=e.target.name;if("string"===t)this.color.setString(e.detail.text,1,!1);else{let s=parseInt(e.detail.text);if(!isFinite(s))return;this.color[t]=i.default.limit(s,0,255)}this.color.toHSV(this._hsv),this.requestUpdate(),this.emitChangeEvent(e.detail.isEditing)}emitChangeEvent(e){this.dispatchEvent(new CustomEvent("change",{detail:{color:this.color,isDragging:e},bubbles:!0}))}};n([l.property({attribute:!1})],c.prototype,"color",void 0),n([l.property({type:Boolean})],c.prototype,"alpha",void 0),n([l.property({type:Boolean})],c.prototype,"numeric",void 0),c=n([l.customElement("ff-color-edit")],c),t.default=c},function(e,t,s){"use strict";var n=this&&this.__decorate||function(e,t,s,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r<3?i(a):r>3?i(t,s,a):i(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};Object.defineProperty(t,"__esModule",{value:!0}),s(103),s(431);const i=s(101),r=s(38);class a extends r.default{createView(){return new o(this)}}t.default=a,a.typeName="CVTapeTool",a.text="Measure",a.icon="tape";let o=class extends r.ToolView{firstConnected(){super.firstConnected(),this.classList.add("sv-group","sv-tape-tool-view")}render(){const e=this.activeDocument;if(!e)return r.html``;const t=this.tool,s=e.setup.tape,n=s.ins.visible,a=s.outs.state.value,o=s.outs.distance.value;let l;if(n.value)if(0===o)l="Tap on model to set start of tape.";else if(a===i.ETapeState.SetStart){const t=e.root.scene.ins.units.getOptionText();l=`${o.toFixed(2)} ${t}`}else l="Tap on model to set end of tape.";else l="Switch on to take measurements.";return r.html`<div class="sv-section"><ff-button class="sv-section-lead" transparent icon=${t.icon}></ff-button>
            <div class="sv-tool-controls">
                <sv-property-boolean .property=${n} name="Tape Tool"></sv-property-boolean>
                <div class="sv-property-view"><label class="ff-label ff-off">Measured Distance</label>
                <div class="ff-string">${l}</div></div>
            </div></div>`}onActiveDocument(e,t){e&&e.setup.tape.off("update",this.onUpdate,this),t&&t.setup.tape.on("update",this.onUpdate,this),this.requestUpdate()}};o=n([r.customElement("sv-tape-tool-view")],o),t.TapeToolView=o},function(e,t,s){"use strict";var n=this&&this.__decorate||function(e,t,s,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r<3?i(a):r>3?i(t,s,a):i(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};Object.defineProperty(t,"__esModule",{value:!0}),s(103),s(71),s(163);const i=s(38);class r extends i.default{createView(){return new a(this)}}t.default=r,r.typeName="CVSliceTool",r.text="Slice",r.icon="knife";let a=class extends i.ToolView{firstConnected(){super.firstConnected(),this.classList.add("sv-group","sv-slice-tool-view")}render(){const e=this.activeDocument;if(!e)return i.html``;const t=this.tool,s=e.setup.slicer,n=s.ins.enabled,r=s.ins.axis,a=s.ins.position;return i.html`<div class="sv-section"><ff-button class="sv-section-lead" transparent icon=${t.icon}></ff-button>
            <div class="sv-tool-controls">
                <sv-property-boolean .property=${n} name="Slice Tool"></sv-property-boolean>
                <sv-property-options .property=${r}></sv-property-options>
                <sv-property-slider .property=${a}></sv-property-slider>
            </div>
        </div>`}onActiveDocument(e,t){this.requestUpdate()}};a=n([i.customElement("sv-slice-tool-view")],a),t.SliceToolView=a},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(8),i=s(53),r=s(159),a=s(160),o=s(161),l=s(162),d=s(167),c=s(168);class u extends n.default{get toolProvider(){return this.getComponent(i.default)}createComponents(){this.createComponent(i.default),this.createComponent(r.default),this.createComponent(a.default),this.createComponent(o.default),this.createComponent(l.default),this.createComponent(d.default),this.createComponent(c.default)}}t.default=u,u.typeName="NVTools"},function(e,t,s){"use strict";var n=this&&this.__decorate||function(e,t,s,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r<3?i(a):r>3?i(t,s,a):i(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};Object.defineProperty(t,"__esModule",{value:!0});const i=s(65),r=s(2),a=s(29),o=s(28),l=s(122),d=s(432),c=s(440);s(449),a.default.add("globe",r.html`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"/></svg>`),a.default.add("cog",r.html`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M444.788 291.1l42.616 24.599c4.867 2.809 7.126 8.618 5.459 13.985-11.07 35.642-29.97 67.842-54.689 94.586a12.016 12.016 0 0 1-14.832 2.254l-42.584-24.595a191.577 191.577 0 0 1-60.759 35.13v49.182a12.01 12.01 0 0 1-9.377 11.718c-34.956 7.85-72.499 8.256-109.219.007-5.49-1.233-9.403-6.096-9.403-11.723v-49.184a191.555 191.555 0 0 1-60.759-35.13l-42.584 24.595a12.016 12.016 0 0 1-14.832-2.254c-24.718-26.744-43.619-58.944-54.689-94.586-1.667-5.366.592-11.175 5.459-13.985L67.212 291.1a193.48 193.48 0 0 1 0-70.199l-42.616-24.599c-4.867-2.809-7.126-8.618-5.459-13.985 11.07-35.642 29.97-67.842 54.689-94.586a12.016 12.016 0 0 1 14.832-2.254l42.584 24.595a191.577 191.577 0 0 1 60.759-35.13V25.759a12.01 12.01 0 0 1 9.377-11.718c34.956-7.85 72.499-8.256 109.219-.007 5.49 1.233 9.403 6.096 9.403 11.723v49.184a191.555 191.555 0 0 1 60.759 35.13l42.584-24.595a12.016 12.016 0 0 1 14.832 2.254c24.718 26.744 43.619 58.944 54.689 94.586 1.667 5.366-.592 11.175-5.459 13.985L444.788 220.9a193.485 193.485 0 0 1 0 70.2zM336 256c0-44.112-35.888-80-80-80s-80 35.888-80 80 35.888 80 80 80 80-35.888 80-80z"/></svg>`),a.default.add("video",r.html`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M543.9 96c-6.2 0-12.5 1.8-18.2 5.7L416 170.1v-58.3c0-26.4-23.2-47.8-51.8-47.8H51.8C23.2 64 0 85.4 0 111.8v288.4C0 426.6 23.2 448 51.8 448h312.4c28.6 0 51.8-21.4 51.8-47.8v-58.3l109.7 68.3c5.7 4 12.1 5.7 18.2 5.7 16.6 0 32.1-13 32.1-31.5V127.5C576 109 560.5 96 543.9 96zM368 200v198.9c-.6.4-1.8 1.1-3.8 1.1H51.8c-2 0-3.2-.6-3.8-1.1V113.1c.6-.4 1.8-1.1 3.8-1.1h312.4c2 0 3.2.6 3.8 1.1V200zm160 155.2l-112-69.8v-58.7l112-69.8v198.3z"/></svg>`),a.default.add("eye",r.html`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M569.354 231.631C512.969 135.949 407.81 72 288 72 168.14 72 63.004 135.994 6.646 231.631a47.999 47.999 0 0 0 0 48.739C63.031 376.051 168.19 440 288 440c119.86 0 224.996-63.994 281.354-159.631a47.997 47.997 0 0 0 0-48.738zM288 392c-75.162 0-136-60.827-136-136 0-75.162 60.826-136 136-136 75.162 0 136 60.826 136 136 0 75.162-60.826 136-136 136zm104-136c0 57.438-46.562 104-104 104s-104-46.562-104-104c0-17.708 4.431-34.379 12.236-48.973l-.001.032c0 23.651 19.173 42.823 42.824 42.823s42.824-19.173 42.824-42.823c0-23.651-19.173-42.824-42.824-42.824l-.032.001C253.621 156.431 270.292 152 288 152c57.438 0 104 46.562 104 104z"/></svg>`),a.default.add("palette",r.html`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M128 224c-17.7 0-32 14.3-32 32s14.3 32 32 32 32-14.3 32-32-14.4-32-32-32zM418.6 58.1C359.2 9.3 281.3-10 204.6 5 104.9 24.4 24.7 104.2 5.1 203.7c-16.7 84.2 8.1 168.3 67.8 230.6 47.3 49.4 109.7 77.8 167.9 77.8 8.8 0 17.5-.6 26.1-2 24.2-3.7 44.6-18.7 56.1-41.1 12.3-24 12.3-52.7.2-76.6-6.1-12-5.5-26.2 1.8-38 7-11.8 18.7-18.4 32-18.4h72.2c46.4 0 82.8-35.7 82.8-81.3-.2-76.4-34.3-148.1-93.4-196.6zM429.2 288H357c-29.9 0-57.2 15.4-73 41.3-16 26.1-17.3 57.8-3.6 84.9 5.1 10.1 5.1 22.7-.2 32.9-2.6 5-8.7 13.7-20.6 15.6-49.3 7.7-108.9-16.6-152-61.6-48.8-50.9-69-119.4-55.4-188 15.9-80.6 80.8-145.3 161.6-161 62.6-12.3 126.1 3.5 174.3 43.1 48.1 39.5 75.7 97.6 75.9 159.6 0 18.6-15.3 33.2-34.8 33.2zM160 128c-17.7 0-32 14.3-32 32s14.3 32 32 32 32-14.3 32-32-14.4-32-32-32zm96-32.1c-17.7 0-32 14.3-32 32s14.3 32 32 32 32-14.3 32-32c0-17.6-14.3-32-32-32zm96 32.1c-17.7 0-32 14.3-32 32s14.3 32 32 32 32-14.3 32-32-14.3-32-32-32z"/></svg>`),a.default.add("comment",r.html`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32z"/></svg>`),a.default.add("information",r.html`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><path d="M84.06,204.23h24.07V138.77H93.06A9.06,9.06,0,0,1,84,129.71V108.06A9.06,9.06,0,0,1,93.06,99h56.75a9.07,9.07,0,0,1,9.07,9.06v96.17h24.06a9.06,9.06,0,0,1,9.06,9.06v21.65a9.06,9.06,0,0,1-9.06,9.06H84.06A9.06,9.06,0,0,1,75,234.94V213.29A9.06,9.06,0,0,1,84.06,204.23ZM133.5,12a32.63,32.63,0,1,0,32.63,32.63A32.62,32.62,0,0,0,133.5,12Z"/></svg>`),a.default.add("article",r.html`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"/></svg>`),a.default.add("document",r.html`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M288 248v28c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-28c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm-12 72H108c-6.6 0-12 5.4-12 12v28c0 6.6 5.4 12 12 12h168c6.6 0 12-5.4 12-12v-28c0-6.6-5.4-12-12-12zm108-188.1V464c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V48C0 21.5 21.5 0 48 0h204.1C264.8 0 277 5.1 286 14.1L369.9 98c9 8.9 14.1 21.2 14.1 33.9zm-128-80V128h76.1L256 51.9zM336 464V176H232c-13.3 0-24-10.7-24-24V48H48v416h288z"/></svg>`),a.default.add("share",r.html`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M352 320c-22.608 0-43.387 7.819-59.79 20.895l-102.486-64.054a96.551 96.551 0 0 0 0-41.683l102.486-64.054C308.613 184.181 329.392 192 352 192c53.019 0 96-42.981 96-96S405.019 0 352 0s-96 42.981-96 96c0 7.158.79 14.13 2.276 20.841L155.79 180.895C139.387 167.819 118.608 160 96 160c-53.019 0-96 42.981-96 96s42.981 96 96 96c22.608 0 43.387-7.819 59.79-20.895l102.486 64.054A96.301 96.301 0 0 0 256 416c0 53.019 42.981 96 96 96s96-42.981 96-96-42.981-96-96-96z"/></svg>`),a.default.add("expand",r.html`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><path d="M241,29V141.53a14,14,0,0,1-14,14h-18.7a14,14,0,0,1-14-14V61.74H114.45a14,14,0,0,1-14-14L100.3,29a14,14,0,0,1,14-14H226.89A14,14,0,0,1,241,29Z"/><path class="cls-1" d="M15,226.67V114.11a14,14,0,0,1,14-14h18.7a14,14,0,0,1,14,14V193.9h79.79a14,14,0,0,1,14,14l.12,18.74a14,14,0,0,1-14,14H29.07A14,14,0,0,1,15,226.67Z"/></svg>`),a.default.add("zoom",r.html`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M0 180V56c0-13.3 10.7-24 24-24h124c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H64v84c0 6.6-5.4 12-12 12H12c-6.6 0-12-5.4-12-12zM288 44v40c0 6.6 5.4 12 12 12h84v84c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12V56c0-13.3-10.7-24-24-24H300c-6.6 0-12 5.4-12 12zm148 276h-40c-6.6 0-12 5.4-12 12v84h-84c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h124c13.3 0 24-10.7 24-24V332c0-6.6-5.4-12-12-12zM160 468v-40c0-6.6-5.4-12-12-12H64v-84c0-6.6-5.4-12-12-12H12c-6.6 0-12 5.4-12 12v124c0 13.3 10.7 24 24 24h124c6.6 0 12-5.4 12-12z"/></svg>`),a.default.add("tools",r.html`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M501.1 395.7L384 278.6c-23.1-23.1-57.6-27.6-85.4-13.9L192 158.1V96L64 0 0 64l96 128h62.1l106.6 106.6c-13.6 27.8-9.2 62.3 13.9 85.4l117.1 117.1c14.6 14.6 38.2 14.6 52.7 0l52.7-52.7c14.5-14.6 14.5-38.2 0-52.7zM331.7 225c28.3 0 54.9 11 74.9 31l19.4 19.4c15.8-6.9 30.8-16.5 43.8-29.5 37.1-37.1 49.7-89.3 37.9-136.7-2.2-9-13.5-12.1-20.1-5.5l-74.4 74.4-67.9-11.3L334 98.9l74.4-74.4c6.6-6.6 3.4-17.9-5.7-20.2-47.4-11.7-99.6.9-136.6 37.9-28.5 28.5-41.9 66.1-41.2 103.6l82.1 82.1c8.1-1.9 16.5-2.9 24.7-2.9zm-103.9 82l-56.7-56.7L18.7 402.8c-25 25-25 65.5 0 90.5s65.5 25 90.5 0l123.6-123.6c-7.6-19.9-9.9-41.6-5-62.7zM64 472c-13.2 0-24-10.8-24-24 0-13.3 10.7-24 24-24s24 10.7 24 24c0 13.2-10.7 24-24 24z"/></svg>`),a.default.add("environment",r.html`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><path d="M219.81,14.75H36.19A21.19,21.19,0,0,0,15,35.94V220.06a21.19,21.19,0,0,0,21.19,21.19H219.81A21.19,21.19,0,0,0,241,220.06V35.94A21.19,21.19,0,0,0,219.81,14.75Zm-2.65,205.31H38.84a2.64,2.64,0,0,1-2.65-2.65V38.59a2.64,2.64,0,0,1,2.65-2.65H217.16a2.64,2.64,0,0,1,2.65,2.65V217.41A2.64,2.64,0,0,1,217.16,220.06ZM72.16,71.59A18.32,18.32,0,1,0,90.47,89.91,18.32,18.32,0,0,0,72.16,71.59ZM57.51,198.15H204V141.53l-40.06-40.06a5.49,5.49,0,0,0-7.77,0l-54.72,54.71L83.36,138.09a5.47,5.47,0,0,0-7.76,0L57.51,156.18Z"/></svg>`),a.default.add("bulb",r.html`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path d="M44.73 323.21c-7.65 4.42-10.28 14.2-5.86 21.86l8 13.86c4.42 7.65 14.21 10.28 21.86 5.86l93.26-53.84a207.865 207.865 0 0 1-26.83-39.93l-90.43 52.19zM112.46 168H16c-8.84 0-16 7.16-16 16v16c0 8.84 7.16 16 16 16h100.21a210.423 210.423 0 0 1-3.75-48zm127.6 291.17c0 3.15.93 6.22 2.68 8.84l24.51 36.84c2.97 4.46 7.97 7.14 13.32 7.14h78.85c5.36 0 10.36-2.68 13.32-7.14l24.51-36.84c1.74-2.62 2.67-5.7 2.68-8.84l.05-43.18H240.02l.04 43.18zM44.73 60.78l78.98 45.6c5.37-15.29 12.97-29.48 21.64-42.93L68.73 19.21c-7.65-4.42-17.44-1.8-21.86 5.86l-8 13.86c-4.42 7.65-1.79 17.44 5.86 21.85zm550.54 0c7.65-4.42 10.28-14.2 5.86-21.86l-8-13.86c-4.42-7.65-14.21-10.28-21.86-5.86l-76.61 44.23c8.68 13.41 15.76 27.9 21.2 43.19l79.41-45.84zm0 262.43l-90.97-52.52c-7.33 14.23-15.8 27.88-26.36 40.21l93.33 53.88c7.65 4.42 17.44 1.8 21.86-5.86l8-13.86c4.42-7.64 1.79-17.43-5.86-21.85zM624 168h-96.41c.1 2.68.41 5.3.41 8 0 13.54-1.55 26.89-4.12 40H624c8.84 0 16-7.16 16-16v-16c0-8.84-7.16-16-16-16zM320 80c-52.94 0-96 43.06-96 96 0 8.84 7.16 16 16 16s16-7.16 16-16c0-35.3 28.72-64 64-64 8.84 0 16-7.16 16-16s-7.16-16-16-16zm0-80C217.72 0 144 82.97 144 176c0 44.37 16.45 84.85 43.56 115.78 16.64 18.99 42.74 58.8 52.42 92.16v.06h48v-.12c-.01-4.77-.72-9.51-2.15-14.07-5.59-17.81-22.82-64.77-62.17-109.67-20.53-23.43-31.52-53.14-31.61-84.14-.2-73.64 59.67-128 127.95-128 70.58 0 128 57.42 128 128 0 30.97-11.24 60.85-31.65 84.14-39.11 44.61-56.42 91.47-62.1 109.46a47.507 47.507 0 0 0-2.22 14.3v.1h48v-.05c9.68-33.37 35.78-73.18 52.42-92.16C479.55 260.85 496 220.37 496 176 496 78.8 417.2 0 320 0z"/></svg>`),a.default.add("tape",r.html`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path d="M624 432H362.3c52.1-41 85.7-104.5 85.7-176 0-123.7-100.3-224-224-224S0 132.3 0 256s100.3 224 224 224h400c8.8 0 16-7.2 16-16v-16c0-8.8-7.2-16-16-16zm-400 0c-97 0-176-79-176-176S127 80 224 80s176 79 176 176-79 176-176 176zm0-272c-53 0-96 43-96 96s43 96 96 96 96-43 96-96-43-96-96-96zm0 144c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48z"/></svg>`),a.default.add("knife",r.html`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M566.28 88.57c12.96-12.5 12.96-32.76 0-45.25L531.07 9.37c-12.96-12.5-33.98-12.5-46.94 0L319.99 160 4.76 464.14c-8.25 7.96-5.38 22.16 5.53 25.69C53.72 503.86 102.37 512 150.51 512c75.83 0 150.42-20.19 201.49-69.35l104.4-100.04c12.95-12.41 13.17-33.05.49-45.73L448 288v-80L566.28 88.57zM496 64c8.84 0 16 7.16 16 16s-7.16 16-16 16-16-7.16-16-16 7.16-16 16-16zM318.71 408.07C281.24 444.14 221.5 464 150.51 464c-23.16 0-46.79-2.1-70.07-6.17L319.4 227.28l91.99 91.99-92.68 88.8zM432 160c-8.84 0-16-7.16-16-16s7.16-16 16-16 16 7.16 16 16-7.17 16-16 16z"/></svg>`),a.default.add("upload",r.html`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M369.83 97.98L285.94 14.1c-9-9-21.2-14.1-33.89-14.1H47.99C21.5.1 0 21.6 0 48.09v415.92C0 490.5 21.5 512 47.99 512h287.94c26.5 0 48.07-21.5 48.07-47.99V131.97c0-12.69-5.17-24.99-14.17-33.99zM255.95 51.99l76.09 76.08h-76.09V51.99zM336 464.01H47.99V48.09h159.97v103.98c0 13.3 10.7 23.99 24 23.99H336v287.95zM182.98 227.79l-72.31 71.77c-7.6 7.54-2.26 20.52 8.45 20.52H168v84c0 6.63 5.37 12 12 12h24c6.63 0 12-5.37 12-12v-84h48.88c10.71 0 16.05-12.97 8.45-20.52l-72.31-71.77c-4.99-4.95-13.05-4.95-18.04 0z"/></svg>`),a.default.add("download",r.html`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M216 236.07c0-6.63-5.37-12-12-12h-24c-6.63 0-12 5.37-12 12v84.01h-48.88c-10.71 0-16.05 12.97-8.45 20.52l72.31 71.77c4.99 4.95 13.04 4.95 18.03 0l72.31-71.77c7.6-7.54 2.26-20.52-8.45-20.52H216v-84.01zM369.83 97.98L285.94 14.1c-9-9-21.2-14.1-33.89-14.1H47.99C21.5.1 0 21.6 0 48.09v415.92C0 490.5 21.5 512 47.99 512h287.94c26.5 0 48.07-21.5 48.07-47.99V131.97c0-12.69-5.17-24.99-14.17-33.99zM255.95 51.99l76.09 76.08h-76.09V51.99zM336 464.01H47.99V48.09h159.97v103.98c0 13.3 10.7 23.99 24 23.99H336v287.95z"/></svg>`),a.default.add("trash",r.html`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M192 188v216c0 6.627-5.373 12-12 12h-24c-6.627 0-12-5.373-12-12V188c0-6.627 5.373-12 12-12h24c6.627 0 12 5.373 12 12zm100-12h-24c-6.627 0-12 5.373-12 12v216c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12V188c0-6.627-5.373-12-12-12zm132-96c13.255 0 24 10.745 24 24v12c0 6.627-5.373 12-12 12h-20v336c0 26.51-21.49 48-48 48H80c-26.51 0-48-21.49-48-48V128H12c-6.627 0-12-5.373-12-12v-12c0-13.255 10.745-24 24-24h74.411l34.018-56.696A48 48 0 0 1 173.589 0h100.823a48 48 0 0 1 41.16 23.304L349.589 80H424zm-269.611 0h139.223L276.16 50.913A6 6 0 0 0 271.015 48h-94.028a6 6 0 0 0-5.145 2.913L154.389 80zM368 128H80v330a6 6 0 0 0 6 6h276a6 6 0 0 0 6-6V128z"/></svg>`),a.default.add("bars",r.html`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg>`),a.default.add("triangle-left",r.html`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><path d="M191.33,31.38V224.62a15,15,0,0,1-25.64,10.62L69.07,138.62a15,15,0,0,1,0-21.24l96.62-96.62A15,15,0,0,1,191.33,31.38Z"/></svg>`),a.default.add("triangle-right",r.html`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><path d="M64.67,224.62V31.38A15,15,0,0,1,90.31,20.76l96.62,96.62a15,15,0,0,1,0,21.24L90.31,235.24A15,15,0,0,1,64.67,224.62Z"/></svg>`),a.default.add("twitter",r.html`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>`),a.default.add("facebook",r.html`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 264 512"><path d="M76.7 512V283H0v-91h76.7v-71.7C76.7 42.4 124.3 0 193.8 0c33.3 0 61.9 2.5 70.2 3.6V85h-48.2c-37.8 0-45.1 18-45.1 44.3V192H256l-11.7 91h-73.6v229"/></svg>`),a.default.add("instagram",r.html`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"/></svg>`),a.default.add("linkedin",r.html`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448.1 512"><path d="M100.3 448H7.4V148.9h92.9V448zM53.8 108.1C24.1 108.1 0 83.5 0 53.8S24.1 0 53.8 0s53.8 24.1 53.8 53.8-24.1 54.3-53.8 54.3zM448 448h-92.7V302.4c0-34.7-.7-79.2-48.3-79.2-48.3 0-55.7 37.7-55.7 76.7V448h-92.8V148.9h89.1v40.8h1.3c12.4-23.5 42.7-48.3 87.9-48.3 94 0 111.3 61.9 111.3 142.3V448h-.1z"/></svg>`),a.default.add("email",r.html`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M464 64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V112c0-26.51-21.49-48-48-48zm0 48v40.805c-22.422 18.259-58.168 46.651-134.587 106.49-16.841 13.247-50.201 45.072-73.413 44.701-23.208.375-56.579-31.459-73.413-44.701C106.18 199.465 70.425 171.067 48 152.805V112h416zM48 400V214.398c22.914 18.251 55.409 43.862 104.938 82.646 21.857 17.205 60.134 55.186 103.062 54.955 42.717.231 80.509-37.199 103.053-54.947 49.528-38.783 82.032-64.401 104.947-82.653V400H48z"/></svg>`),a.default.add("copy",r.html`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"/></svg>`),a.default.add("cube",r.html`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M239.1 7.5l-208 78c-18.7 7-31.1 25-31.1 45v225.1c0 18.2 10.3 34.8 26.5 42.9l208 104c13.5 6.8 29.4 6.8 42.9 0l208-104c16.3-8.1 26.5-24.8 26.5-42.9V130.5c0-20-12.4-37.9-31.1-44.9l-208-78C262 3.4 250 3.4 239.1 7.5zm16.9 45l208 78v.3l-208 84.5-208-84.5v-.3l208-78zM48 182.6l184 74.8v190.2l-184-92v-173zm232 264.9V257.4l184-74.8v172.9l-184 92z"/></svg>`);let u=class extends r.default{constructor(e){super(),this.application=null,e&&(this.application=e)}get fullscreen(){return this.application.system.getMainComponent(i.default)}firstConnected(){if(super.firstConnected(),!this.application){const e={root:this.getAttribute("root"),document:this.getAttribute("document"),model:this.getAttribute("model"),geometry:this.getAttribute("geometry"),texture:this.getAttribute("texture"),quality:this.getAttribute("quality")};this.application=new l.default(null,e)}const e=this.application.system;new d.default(e).appendTo(this),new c.default(e).appendTo(this);const t=document.createElement("div");t.setAttribute("id",o.default.stackId),this.appendChild(t)}connected(){this.fullscreen.fullscreenElement=this}disconnected(){this.fullscreen.fullscreenElement=null}};u=n([r.customElement("voyager-explorer")],u),t.default=u},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(49),i=s(435);var r;!function(e){e[e.Single=0]="Single",e[e.HorizontalSplit=1]="HorizontalSplit",e[e.VerticalSplit=2]="VerticalSplit",e[e.Quad=3]="Quad"}(r=t.EQuadViewLayout||(t.EQuadViewLayout={}));class a extends i.default{constructor(e,t,s){super(e,t,s),this._layout=r.Quad,this._horizontalSplit=.5,this._verticalSplit=.5,this.addEvent("layout"),this.layout=r.Single}set layout(e){if(e===this._layout)return;this._layout=e;const t=this.viewports;switch(this._layout){case r.Single:this.setViewportCount(1);break;case r.HorizontalSplit:case r.VerticalSplit:this.setViewportCount(2);break;case r.Quad:this.setViewportCount(4)}this.updateSplitPositions(),t[1]&&(t[1].setBuiltInCamera(n.EProjection.Orthographic,n.EViewPreset.Top),t[1].enableCameraControl(!0).orientationEnabled=!1),t[2]&&(t[2].setBuiltInCamera(n.EProjection.Orthographic,n.EViewPreset.Left),t[2].enableCameraControl(!0).orientationEnabled=!1),t[3]&&(t[3].setBuiltInCamera(n.EProjection.Orthographic,n.EViewPreset.Front),t[3].enableCameraControl(!0).orientationEnabled=!1),this.emit({type:"layout",layout:e})}get layout(){return this._layout}set horizontalSplit(e){this._horizontalSplit=e,this.updateSplitPositions()}get horizontalSplit(){return this._horizontalSplit}set verticalSplit(e){this._verticalSplit=e,this.updateSplitPositions()}get verticalSplit(){return this._verticalSplit}updateSplitPositions(){const e=this._horizontalSplit,t=this._verticalSplit;switch(this._layout){case r.Single:this.viewports[0].setSize(0,0,1,1);break;case r.HorizontalSplit:this.viewports[0].setSize(0,0,e,1),this.viewports[1].setSize(e,0,1-e,1);break;case r.VerticalSplit:this.viewports[0].setSize(0,1-t,1,t),this.viewports[1].setSize(0,0,1,1-t);break;case r.Quad:this.viewports[0].setSize(0,1-t,e,t),this.viewports[1].setSize(e,1-t,1-e,t),this.viewports[2].setSize(0,0,e,1-t),this.viewports[3].setSize(e,0,1-e,1-t)}}}t.default=a},function(e,t,s){"use strict";var n=this&&this.__decorate||function(e,t,s,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r<3?i(a):r>3?i(t,s,a):i(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};Object.defineProperty(t,"__esModule",{value:!0});const i=s(2);var r;!function(e){e[e.TopLeft=0]="TopLeft",e[e.TopCenter=1]="TopCenter",e[e.TopRight=2]="TopRight",e[e.BottomLeft=3]="BottomLeft",e[e.BottomCenter=4]="BottomCenter",e[e.BottomRight=5]="BottomRight"}(r=t.ELocation||(t.ELocation={}));let a=class extends i.default{constructor(){super(),this.labels=[],this.labels.push({},{},{},{},{},{})}setLabel(e,t,s,n){this.labels[e][t]={text:s,className:n},this.requestUpdate()}unsetLabel(e,t){delete this.labels[e][t],this.requestUpdate()}firstConnected(){this.classList.add("ff-container","ff-viewport-overlay")}render(){const e=this.labels;return i.html`<div class="ff-row">
            <div class="ff-labels ff-top-left">${Object.keys(e[r.TopLeft]).map(t=>{const s=e[r.TopLeft][t];return i.html`<div class=${"ff-label "+s.className||!1}>${s.text}</div>`})}</div>
            <div class="ff-labels ff-top-center">${Object.keys(e[r.TopCenter]).map(t=>{const s=e[r.TopCenter][t];return i.html`<div class=${"ff-label "+s.className||!1}>${s.text}</div>`})}</div>
            <div class="ff-labels ff-top-right">${Object.keys(e[r.TopRight]).map(t=>{const s=e[r.TopRight][t];return i.html`<div class=${"ff-label "+s.className||!1}>${s.text}</div>`})}</div>
        </div><div class="ff-row">
            <div class="ff-labels ff-bottom-left">${Object.keys(e[r.BottomLeft]).map(t=>{const s=e[r.BottomLeft][t];return i.html`<div class=${"ff-label "+s.className||!1}>${s.text}</div>`})}</div>
            <div class="ff-labels ff-bottom-center">${Object.keys(e[r.BottomCenter]).map(t=>{const s=e[r.BottomCenter][t];return i.html`<div class=${"ff-label "+s.className||!1}>${s.text}</div>`})}</div>
            <div class="ff-labels ff-bottom-right">${Object.keys(e[r.BottomRight]).map(t=>{const s=e[r.BottomRight][t];return i.html`<div class=${"ff-label "+s.className||!1}>${s.text}</div>`})}</div>
        </div>`}};a=n([i.customElement("ff-viewport-overlay")],a),t.default=a},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(10),i=s(452);class r extends n.default{constructor(e,t){super(e,t);const s=this.configuration;s.interfaceVisible=!0,s.bracketsVisible=!0}createView(){return new i.default(this)}}t.default=r,r.typeName="CVSettingsTask",r.text="Settings",r.icon="eye"},function(e,t,s){"use strict";var n=this&&this.__decorate||function(e,t,s,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r<3?i(a):r>3?i(t,s,a):i(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};Object.defineProperty(t,"__esModule",{value:!0});const i=s(453),r=s(2);s(175);const a=["X","Y","Z","W"];let o=class extends r.default{constructor(){super(),this.property=null,this.editButton=null,this.onColorChange=this.onColorChange.bind(this)}firstConnected(){this.classList.add("ff-property-view")}connected(){this.property.on("value",this.onPropertyValue,this)}disconnected(){this.property.off("value",this.onPropertyValue,this)}render(){const e=this.property;if("color"===e.schema.semantic){const t=new i.default;t.selectable=!0,t.numeric=!0,t.color.fromArray(e.value),t.alpha=e.elementCount>3,t.addEventListener("change",this.onColorChange),this.editButton=t}else"number"===e.type&&e.elementCount>1?this.editButton=null:"string"===e.type&&1===e.elementCount&&(this.editButton=null);if(e.isArray()){if(e.elementCount>4)return;const t=e.schema.labels||a;let s=[];for(let n=0;n<e.elementCount;++n)s.push(r.html`
                    <div class="ff-label">${t[n]}</div>
                    <ff-property-field .property=${e} .index=${n}></ff-property-field>
                `);return r.html`${s}<div class="ff-edit-button">${this.editButton}</div>`}return r.html`<ff-property-field .property=${e}></ff-property-field>
            <div class="ff-edit-button">${this.editButton}</div>`}onColorChange(e){const t=e.detail.color,s=this.property;s.elementCount>3?t.toRGBAArray(s.value):t.toRGBArray(s.value),s.set()}onPropertyValue(e){const t=this.editButton;t instanceof i.default&&(t.color.fromArray(e),t.requestUpdate())}};n([r.property({attribute:!1})],o.prototype,"property",void 0),o=n([r.customElement("ff-property-view")],o),t.default=o},function(e,t,s){"use strict";var n,i=this&&this.__decorate||function(e,t,s,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r<3?i(a):r>3?i(t,s,a):i(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};Object.defineProperty(t,"__esModule",{value:!0});const r=s(14),a=s(80);t.Property=a.default;const o=s(2),l=s(455),d=s(54);let c=n=class extends o.default{constructor(e){super(),this.index=void 0,this.commitonly=!1,this.value=void 0,this.isActive=!1,this.isDragging=!1,this.startValue=0,this.startX=0,this.startY=0,this.lastX=0,this.lastY=0,this.editElement=null,this.barElement=null,this.buttonElement=null,this.contentElement=null,this.property=e,this.onFocus=this.onFocus.bind(this),this.onClick=this.onClick.bind(this),this.onContextMenu=this.onContextMenu.bind(this),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onEditChange=this.onEditChange.bind(this),this.onSelectOption=this.onSelectOption.bind(this),this.addEventListener("focus",this.onFocus),this.addEventListener("click",this.onClick),this.addEventListener("contextmenu",this.onContextMenu),this.addEventListener("pointerdown",this.onPointerDown),this.addEventListener("pointermove",this.onPointerMove),this.addEventListener("pointerup",this.onPointerUp),this.addEventListener("pointercancel",this.onPointerUp)}update(e){this.contentElement&&(this.contentElement.remove(),this.contentElement=null),this.barElement&&(this.barElement.remove(),this.barElement=null),this.buttonElement&&(this.buttonElement.remove(),this.buttonElement=null);const t=this.property,s=t.schema;if(s.event)this.buttonElement=this.appendElement("div"),this.buttonElement.classList.add("ff-off","ff-event-button");else{const{min:e,max:t,bar:n}=s;s.options||void 0===e||void 0===t||void 0===n||(this.barElement=this.appendElement("div"),this.barElement.classList.add("ff-fullsize","ff-off","ff-bar")),this.contentElement=this.appendElement("div"),this.contentElement.classList.add("ff-fullsize","ff-off","ff-content")}const n=this.classList,i=t.isInput();i?(n.add("ff-input"),n.remove("ff-output")):(n.add("ff-output"),n.remove("ff-input")),(i?t.hasInLinks(this.index):t.hasOutLinks(this.index))?n.add("ff-linked"):n.remove("ff-linked"),s.event?n.add("ff-event"):n.remove("ff-event"),s.options?n.add("ff-option"):n.remove("ff-option"),this.setAttribute("title",t.toString()+(this.index>=0?`[${this.index}]`:"")),this.updateElement()}firstConnected(){if(this.tabIndex=0,this.classList.add("ff-property-field"),this.style.touchAction="none",this.setAttribute("touch-action","none"),!this.property)throw new Error("missing property")}connected(){this.property.on("value",this.onPropertyValue,this),this.property.on("change",this.onPropertyChange,this)}disconnected(){this.property.off("value",this.onPropertyValue,this),this.property.off("change",this.onPropertyChange,this)}onFocus(e){}onClick(e){if(this.editElement)return;const t=this.property,s=t.schema;if(s.event)t.set();else if(!this.isDragging)if(s.options)this.showPopupOptions(e);else switch(t.type){case"number":case"string":this.startEditing();break;case"boolean":this.updateProperty(!this.value,!0)}}onContextMenu(e){this.editElement||(this.property.reset(),e.preventDefault())}onPointerDown(e){if(!e.isPrimary||0!==e.button)return;this.isDragging=!1;const t=this.property;"number"!==t.type||t.schema.options||(this.isActive=!0,this.startX=e.clientX,this.startY=e.clientY)}onPointerMove(e){if(e.isPrimary&&this.isActive){if(!this.isDragging){const t=e.clientX-this.startX,s=e.clientY-this.startY;Math.abs(t)+Math.abs(s)>2&&(this.setPointerCapture(e.pointerId),this.isDragging=!0,this.startX=e.clientX,this.startY=e.clientY,this.startValue=this.value)}if(this.isDragging){const t=e.clientX-this.startX-(e.clientY-this.startY),s=this.property.schema;let i=n.defaultSpeed;s.speed?i=s.speed:void 0!==s.min&&void 0!==s.max&&(i=(s.max-s.min)/this.clientWidth),i=e.ctrlKey?.1*i:i,i=e.shiftKey?10*i:i;let r=this.startValue+t*i;r=void 0!==s.step?Math.trunc(r/s.step)*s.step:r,r=void 0!==s.min?Math.max(r,s.min):r,r=void 0!==s.max?Math.min(r,s.max):r,this.updateProperty(r,!this.commitonly),e.stopPropagation(),e.preventDefault()}this.lastX=e.clientX,this.lastY=e.clientY}}onPointerUp(e){this.isActive&&e.isPrimary&&(this.isActive=!1,this.isDragging&&(e.stopPropagation(),e.preventDefault(),this.commitonly&&this.property.set()))}onEditChange(e){e.detail.isEditing||this.stopEditing(!0)}startEditing(){const e=this.property,t=e.schema;let s=this.value,i=!1;if("number"===e.type)if(i=!0,isFinite(s)){const e=void 0!==t.precision?t.precision:n.defaultEditPrecision;s=this.value.toFixed(e)}else s=this.value===-1/0?"-inf":"inf";const r=this.editElement=this.appendElement(d.default);r.classList.add("ff-fullsize"),r.align=i?"right":"left",r.text=s,r.focus(),r.addEventListener("change",this.onEditChange)}stopEditing(e){if(!this.editElement)return;const t=this.editElement;this.editElement=null,this.removeChild(t);const s=this.property.schema,n=t.text;let i=n;if("number"===this.property.type)if(n.toLowerCase().indexOf("inf")>=0)i="-"===n[0]?-1/0:1/0;else{if(i=parseFloat(i)||0,s.precision){const e=Math.pow(10,s.precision);i=Math.round(i*e)/e}i=void 0!==s.min?Math.max(i,s.min):i,i=void 0!==s.max?Math.min(i,s.max):i}this.updateProperty(i,!0)}showPopupOptions(e){const t=this.property,s=new l.default;s.options=t.schema.options,s.selectionIndex=t.getValidatedValue(),s.position="anchor",s.anchor=this,s.align="fixed",s.justify="end",s.positionX=e.clientX-10,s.keepVisible=!0,s.addEventListener(l.default.selectEvent,this.onSelectOption),document.body.appendChild(s)}onSelectOption(e){const t=e.detail.index;this.updateProperty(t,!0)}onPropertyValue(){this.updateElement()}onPropertyChange(){this.updateElement()}updateElement(){const e=this.property,t=e.schema;if(t.event)return void(e.changed&&(this.buttonElement.classList.remove("ff-event-flash"),setTimeout(()=>this.buttonElement.classList.add("ff-event-flash"),0)));let s=e.value,i="";switch(this.index>=0&&(s=s[this.index]),this.value=s,e.type){case"number":if(t.options)i=e.getOptionText();else if(isFinite(s)){const e=void 0!==t.precision?t.precision:n.defaultPrecision;i=t.percent?(100*s).toFixed(e-2)+"%":s.toFixed(e),this.barElement&&(this.barElement.style.width=r.default.scaleLimit(s,t.min,t.max,0,100)+"%")}else i=s===-1/0?"-inf":"inf",this.barElement&&(this.barElement.style.width="0");break;case"boolean":i=s?"true":"false";break;case"string":i=s;break;case"object":i=s?"[object]":"[null]"}this.contentElement.innerText=i}updateProperty(e,t){const s=this.property;this.index>=0?s.value[this.index]=e:s.value=e,t?s.set():this.updateElement()}};c.defaultPrecision=2,c.defaultEditPrecision=5,c.defaultSpeed=.1,i([o.property({attribute:!1})],c.prototype,"property",void 0),i([o.property({attribute:!1})],c.prototype,"index",void 0),i([o.property({type:Boolean})],c.prototype,"commitonly",void 0),c=n=i([o.customElement("ff-property-field")],c),t.default=c},function(e,t,s){"use strict";var n=this&&this.__decorate||function(e,t,s,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r<3?i(a):r>3?i(t,s,a):i(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};Object.defineProperty(t,"__esModule",{value:!0}),s(175);const i=s(2),r=["X","Y","Z","W"];let a=class extends i.default{constructor(){super(...arguments),this.property=null,this.label=void 0,this.commitonly=!1}firstConnected(){if(!this.property)throw new Error("property not set");this.classList.add("sv-property-view")}render(){const e=this.property,t=void 0!==this.label?this.label:e.path.split(".").pop(),s=i.html`<div class="sv-property-name">${t}</div>`;if(e.isArray()){if(e.elementCount>4)return;let t=[];for(let s=0;s<e.elementCount;++s)t.push(this.renderField(s));return i.html`${s}<div class="sv-property-value">${t}</div>`}return i.html`${s}<div class="sv-property-value">${this.renderField(-1)}</div>`}renderField(e){const t=this.property,s=t.schema.labels||r,n=e>=0?i.html`<div class="sv-field-label">${s[e]}</div>`:null,a=this.commitonly;return i.html`<div class="ff-flex-row sv-field-row">
            ${n}
            <ff-property-field .property=${t} .index=${e} ?commitonly=${a}></ff-property-field>
        </div>`}};n([i.property({attribute:!1})],a.prototype,"property",void 0),n([i.property()],a.prototype,"label",void 0),n([i.property({type:Boolean})],a.prototype,"commitonly",void 0),a=n([i.customElement("sv-property-view")],a),t.default=a},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(90),i=s(87),r=s(457),a=s(1),o=s(28),l=s(27),d=s(31),c=s(13),u=s(10),h=s(458),p=[d.EDerivativeQuality.Thumb,d.EDerivativeQuality.Low,d.EDerivativeQuality.Medium,d.EDerivativeQuality.High],m={[d.EDerivativeQuality.Thumb]:[320,320],[d.EDerivativeQuality.Low]:[640,640],[d.EDerivativeQuality.Medium]:[1280,1280],[d.EDerivativeQuality.High]:[2560,2560]};var f;!function(e){e[e.JPEG=0]="JPEG",e[e.PNG=1]="PNG"}(f=t.EFileType||(t.EFileType={}));const v={[f.JPEG]:"image/jpeg",[f.PNG]:"image/png"},_={[f.JPEG]:"jpg",[f.PNG]:"png"};class y extends u.default{constructor(e,t){super(e,t),this.ins=this.addInputs(y.ins),this.outs=this.addOutputs(y.outs),this.activeMeta=null,this.activeModel=null,this._imageDataURIs={},this._imageElements={},this._mimeType="",this._extension="",this.configuration.bracketsVisible=!1}get renderer(){return this.getMainComponent(l.default)}get assetManager(){return this.getMainComponent(c.default)}getImageElement(e=d.EDerivativeQuality.Low){return this._imageElements[e]}createView(){return new h.default(this)}activateTask(){this.startObserving(),super.activateTask()}deactivateTask(){this.stopObserving(),super.deactivateTask()}update(){const e=this.ins;if(e.take.changed){const t=e.type.getValidatedValue();this.takePictures(e.quality.value,v[t],_[t])}return e.save.changed&&this.savePictures(),e.download.changed&&this.downloadPicture(),e.remove.changed&&this.removePictures(),!0}takePictures(e,t,s){this._mimeType=t,this._extension=s;const n=this.renderer.views[0];n?(p.forEach(s=>{const i=n.renderImage(m[s][0],m[s][1],t,e);this._imageDataURIs[s]=i;const r=this._imageElements[s]||document.createElement("img");r.src=i,this._imageElements[s]=r}),this.outs.ready.setValue(!0)):console.warn("can't render to image, no view attached")}savePictures(){this.outs.ready.value&&p.forEach(e=>{const t=this._imageDataURIs[e],s=this.getImageAssetPath(e,this._extension),n=this.assetManager.getAssetUrl(s),a=this.assetManager.getAssetName(s),l=r.default.dataURItoBlob(t),d=new File([l],a);i.default.file(n,"PUT",d).then(()=>{this.updateImageMeta(e,this._mimeType,s),new o.default(`Successfully uploaded image to '${n}'`,"info",4e3)}).catch(e=>{new o.default(`Failed to upload image to '${n}'`,"error",8e3)})})}downloadPicture(){if(!this.outs.ready.value)return;const e=this._imageDataURIs[d.EDerivativeQuality.High],t=this.getImageAssetPath(d.EDerivativeQuality.High,this._extension),s=this.assetManager.getAssetName(t);n.default.url(e,s)}updateImageMeta(e,t,s){const n=this.activeModel,i=this.activeMeta,r=Math.ceil(this._imageDataURIs[e].length/4*3),a=m[e][0],o=m[e][1],l=Math.max(a,o);if(n){const i=n.derivatives.getOrCreate(d.EDerivativeUsage.Image2D,e),a=i.findAsset(d.EAssetType.Image)||i.createAsset(d.EAssetType.Image,s);a.data.byteSize=r,a.data.imageSize=l,a.data.mimeType=t,a.update()}if(i){const t=d.EDerivativeQuality[e];i.images.insert({uri:s,quality:t,byteSize:r,width:a,height:o},t)}}getImageAssetPath(e,t){let s=this.activeDocument.assetBaseName;return this.activeNode.model,`${s}-image-${d.EDerivativeQuality[e].toLowerCase()}.${t}`}removePictures(){console.warn("CCaptureTask.removePictures - not implemented yet")}onActiveNode(e,t){e&&e.meta&&(this.outs.ready.setValue(!1),this._imageElements={},this._imageDataURIs={});const s=this.activeModel=t&&t.model,n=this.activeMeta=t&&t.meta,i=n&&n.images;i?p.forEach(e=>{const t=i.get(d.EDerivativeQuality[e]);if(t){const s=document.createElement("img");s.src=this.assetManager.getAssetUrl(t.uri),this._imageElements[e]=s}}):s&&p.forEach(e=>{const t=s.derivatives.get(d.EDerivativeUsage.Image2D,e);if(t){const s=t.findAsset(d.EAssetType.Image);if(s){const t=document.createElement("img");t.src=this.assetManager.getAssetUrl(s.data.uri),this._imageElements[e]=t}}})}}t.default=y,y.typeName="CVCaptureTask",y.text="Capture",y.icon="camera",y.ins={take:a.types.Event("Picture.Take"),save:a.types.Event("Picture.Save"),download:a.types.Event("Picture.Download"),remove:a.types.Event("Picture.Remove"),type:a.types.Enum("Picture.Type",f),quality:a.types.Percent("Picture.Quality",.85)},y.outs={ready:a.types.Boolean("Picture.Ready")}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(10),i=s(461);class r extends n.default{constructor(e,t){super(e,t),this.ins=this.addInputs(r.ins);const s=this.configuration;s.interfaceVisible=!1,s.bracketsVisible=!1,s.gridVisible=!1,s.annotationsVisible=!1}createView(){return new i.default(this)}}t.default=r,r.typeName="CVDerivativesTask",r.text="Derivatives",r.icon="hierarchy",r.ins={}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(463),i=s(1),r=s(75),a=s(95),o=s(30),l=s(10),d=s(468),c=s(44),u=s(55);class h extends l.default{constructor(e,t){super(e,t),this.ins=this.addInputs(h.ins),this.outs=this.addOutputs(h.outs),this.meta=null,this.reader=null;const s=this.configuration;s.interfaceVisible=!0,s.bracketsVisible=!0}get articles(){return this.meta&&this.meta.articles.items}get activeArticle(){return this.outs.article.value}get mediaManager(){return this.getMainComponent(c.default)}get assetWriter(){return this.getMainComponent(u.default)}activateTask(){this.startObserving(),super.activateTask()}deactivateTask(){this.stopObserving(),super.deactivateTask()}update(e){const t=this.ins,s=this.outs,n=this.meta,i=this.activeArticle,r=i?this.mediaManager.getAssetByPath(i.data.uri):null;if(n&&t.create.changed){const e=new a.default,t=c.default.articleFolder;e.data.uri=`${t}/new-article-${e.id}.html`,n.articles.append(e),this.reader.ins.articleId.setValue(e.id)}if(i){if(t.edit.changed&&(r?this.mediaManager.open(r):i.data.uri&&this.createEditArticle(i)),t.delete.changed&&this.deleteArticle(i),t.title.changed&&(i.data.title=t.title.value,!r)){const e=this.getSafeArticlePath(t.title.value);i.data.uri=e,t.uri.setValue(e,!0)}t.uri.changed&&(i.data.uri=t.uri.value),(t.lead.changed||t.tags.changed)&&(i.data.lead=t.lead.value,i.data.tags=t.tags.value.split(",").map(e=>e.trim()).filter(e=>!!e))}return s.article.set(),!0}createView(){return new d.default(this)}deleteArticle(e){this.meta.articles.removeItem(e);const t=this.mediaManager.getAssetByPath(e.data.uri);t&&this.mediaManager.delete(t)}createEditArticle(e){const t=e.data.uri;this.assetWriter.putText(`<h1>${e.data.title}</h1>`,t).then(()=>this.mediaManager.refresh()).then(()=>{const e=this.mediaManager.getAssetByPath(t);e&&this.mediaManager.open(e)}).catch(e=>r.default.show("Error",`Failed to create article at '${t}'`,"error"))}getSafeArticlePath(e){if(!e)return"";const t=n(e,{replacement:"-"}).replace(/\s/g,"-").toLowerCase();return c.default.articleFolder+"/"+t+".html"}onActiveDocument(e,t){e&&(this.reader.outs.article.off("value",this.onArticleChange,this),this.reader=null),t&&(this.reader=t.setup.reader,this.reader.outs.article.on("value",this.onArticleChange,this))}onActiveNode(e,t){e&&(this.meta=null),t&&(t.meta||t.createComponent(o.default),this.meta=t.meta),this.onArticleChange()}onArticleChange(){const e=this.ins,t=this.outs,s=this.meta,n=this.reader.activeArticle;s&&n&&s.articles.getById(n.id)?(e.title.setValue(n.data.title,!0),e.lead.setValue(n.data.lead,!0),e.tags.setValue(n.data.tags.join(", "),!0),e.uri.setValue(n.data.uri,!0),t.article.setValue(n)):(e.title.setValue("",!0),e.lead.setValue("",!0),e.tags.setValue("",!0),e.uri.setValue("",!0),t.article.setValue(null))}}t.default=h,h.typeName="CVArticlesTask",h.text="Articles",h.icon="article",h.ins={create:i.types.Event("Articles.Create"),edit:i.types.Event("Articles.Edit"),delete:i.types.Event("Articles.Delete"),title:i.types.String("Article.Title"),lead:i.types.String("Article.Lead"),tags:i.types.String("Article.Tags"),uri:i.types.String("Article.URI")},h.outs={article:i.types.Object("Article",a.default)}},function(e,t,s){"use strict";var n=/[|\\{}()[\]^$+*?.]/g;e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(n,"\\$&")}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(88),i=s(1),r=s(469);class a extends i.default{constructor(e,t){super(e,t),this._provider=null,this._assetsByPath={},this._rootAsset=null,this._selection=new Set,this._provider=new r.default}get root(){return this._rootAsset}get rootPath(){return this._provider.rootPath}get rootUrl(){return this._provider.rootUrl}set rootUrl(e){this._provider.rootUrl=e,this.refresh().then(()=>this.rootUrlChanged())}get selectedAssets(){return Array.from(this._selection.values())}uploadFiles(e,t){const s=Array.from(e).map(e=>{const s=n.default(t.info.path+e.name,this.rootUrl);return fetch(s,{method:"PUT",credentials:"include",body:e})});return Promise.all(s).then(()=>this.refresh())}createFolder(e,t){return this._provider.create(e.info,t).then(()=>this.refresh())}rename(e,t){return this._provider.rename(e.info,t).then(()=>this.refresh())}exists(e){return this._provider.exists("object"==typeof e?e.info:e)}open(e){this.emit({type:"asset-open",asset:e})}delete(e){return this._provider.delete(e.info).then(()=>this.refresh())}deleteSelected(){const e=Array.from(this._selection.values()).map(e=>this._provider.delete(e.info));return Promise.all(e).then(()=>this.refresh())}moveSelected(e){const t=Array.from(this._selection.values()).map(t=>this._provider.move(t.info,e.info.path+t.info.name));return Promise.all(t).then(()=>this.refresh())}select(e,t){const s=this._selection;t&&s.has(e)?s.delete(e):(t||s.clear(),e&&s.add(e)),this.emit({type:"tree-change",root:this._rootAsset})}isSelected(e){return this._selection.has(e)}getAssetURL(e){return n.default(e,this.rootUrl)}getAssetByPath(e){return this._assetsByPath[e]}refresh(){return this._provider.get(".",!0).then(e=>{this._rootAsset=this.createAssetTree(e),this.emit({type:"tree-change",root:this._rootAsset})})}rootUrlChanged(){return Promise.resolve()}createAssetTree(e){e.sort((e,t)=>e.url<t.url?-1:e.url>t.url?1:0);const t={info:e[0],expanded:!0,children:[]};for(let s=1,n=e.length;s<n;++s){const n=e[s],i=n.path.split("/").filter(e=>!!e);let r=t;for(let e=0,t=i.length;e<t;++e){const s=i[e];if(e<t-1){if(!(r=r.children.find(e=>e.info.name===s)))break}else{const e={info:n,expanded:!0,children:[]};this._assetsByPath[n.path]=e,r.children.push(e)}}}return t}}t.default=a,a.typeName="CAssetManager",a.isGraphSingleton=!0},function(e,t,s){var n,i,r=s(471),a=s(112),o=s(113).isArray;function l(e){var t=Number(e);if(!isNaN(t))return t;var s=e.toLowerCase();return"true"===s||"false"!==s&&e}function d(e,t){var s;if(n.compact){if(!i[n[e+"Key"]]&&(o(n.alwaysArray)?-1!==n.alwaysArray.indexOf(n[e+"Key"]):n.alwaysArray)&&(i[n[e+"Key"]]=[]),i[n[e+"Key"]]&&!o(i[n[e+"Key"]])&&(i[n[e+"Key"]]=[i[n[e+"Key"]]]),e+"Fn"in n&&"string"==typeof t&&(t=n[e+"Fn"](t,i)),"instruction"===e&&("instructionFn"in n||"instructionNameFn"in n))for(s in t)if(t.hasOwnProperty(s))if("instructionFn"in n)t[s]=n.instructionFn(t[s],s,i);else{var r=t[s];delete t[s],t[n.instructionNameFn(s,r,i)]=r}o(i[n[e+"Key"]])?i[n[e+"Key"]].push(t):i[n[e+"Key"]]=t}else{i[n.elementsKey]||(i[n.elementsKey]=[]);var a={};if(a[n.typeKey]=e,"instruction"===e){for(s in t)if(t.hasOwnProperty(s))break;a[n.nameKey]="instructionNameFn"in n?n.instructionNameFn(s,t,i):s,n.instructionHasAttributes?(a[n.attributesKey]=t[s][n.attributesKey],"instructionFn"in n&&(a[n.attributesKey]=n.instructionFn(a[n.attributesKey],s,i))):("instructionFn"in n&&(t[s]=n.instructionFn(t[s],s,i)),a[n.instructionKey]=t[s])}else e+"Fn"in n&&(t=n[e+"Fn"](t,i)),a[n[e+"Key"]]=t;n.addParent&&(a[n.parentKey]=i),i[n.elementsKey].push(a)}}function c(e){var t;if("attributesFn"in n&&e&&(e=n.attributesFn(e,i)),(n.trim||"attributeValueFn"in n||"attributeNameFn"in n||n.nativeTypeAttributes)&&e)for(t in e)if(e.hasOwnProperty(t)&&(n.trim&&(e[t]=e[t].trim()),n.nativeTypeAttributes&&(e[t]=l(e[t])),"attributeValueFn"in n&&(e[t]=n.attributeValueFn(e[t],t,i)),"attributeNameFn"in n)){var s=e[t];delete e[t],e[n.attributeNameFn(t,e[t],i)]=s}return e}function u(e){var t={};if(e.body&&("xml"===e.name.toLowerCase()||n.instructionHasAttributes)){for(var s,r=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g;null!==(s=r.exec(e.body));)t[s[1]]=s[2]||s[3]||s[4];t=c(t)}if("xml"===e.name.toLowerCase()){if(n.ignoreDeclaration)return;i[n.declarationKey]={},Object.keys(t).length&&(i[n.declarationKey][n.attributesKey]=t),n.addParent&&(i[n.declarationKey][n.parentKey]=i)}else{if(n.ignoreInstruction)return;n.trim&&(e.body=e.body.trim());var a={};n.instructionHasAttributes&&Object.keys(t).length?(a[e.name]={},a[e.name][n.attributesKey]=t):a[e.name]=e.body,d("instruction",a)}}function h(e,t){var s;if("object"==typeof e&&(t=e.attributes,e=e.name),t=c(t),"elementNameFn"in n&&(e=n.elementNameFn(e,i)),n.compact){var r;if(s={},!n.ignoreAttributes&&t&&Object.keys(t).length)for(r in s[n.attributesKey]={},t)t.hasOwnProperty(r)&&(s[n.attributesKey][r]=t[r]);e in i||(o(n.alwaysArray)?-1===n.alwaysArray.indexOf(e):!n.alwaysArray)||(i[e]=[]),i[e]&&!o(i[e])&&(i[e]=[i[e]]),o(i[e])?i[e].push(s):i[e]=s}else i[n.elementsKey]||(i[n.elementsKey]=[]),(s={})[n.typeKey]="element",s[n.nameKey]=e,!n.ignoreAttributes&&t&&Object.keys(t).length&&(s[n.attributesKey]=t),n.alwaysChildren&&(s[n.elementsKey]=[]),i[n.elementsKey].push(s);s[n.parentKey]=i,i=s}function p(e){n.ignoreText||(e.trim()||n.captureSpacesBetweenElements)&&(n.trim&&(e=e.trim()),n.nativeType&&(e=l(e)),n.sanitize&&(e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),d("text",e))}function m(e){n.ignoreComment||(n.trim&&(e=e.trim()),d("comment",e))}function f(e){var t=i[n.parentKey];n.addParent||delete i[n.parentKey],i=t}function v(e){n.ignoreCdata||(n.trim&&(e=e.trim()),d("cdata",e))}function _(e){n.ignoreDoctype||(e=e.replace(/^ /,""),n.trim&&(e=e.trim()),d("doctype",e))}function y(e){e.note=e}e.exports=function(e,t){var s=r.parser(!0,{}),o={};if(i=o,n=function(e){return n=a.copyOptions(e),a.ensureFlagExists("ignoreDeclaration",n),a.ensureFlagExists("ignoreInstruction",n),a.ensureFlagExists("ignoreAttributes",n),a.ensureFlagExists("ignoreText",n),a.ensureFlagExists("ignoreComment",n),a.ensureFlagExists("ignoreCdata",n),a.ensureFlagExists("ignoreDoctype",n),a.ensureFlagExists("compact",n),a.ensureFlagExists("alwaysChildren",n),a.ensureFlagExists("addParent",n),a.ensureFlagExists("trim",n),a.ensureFlagExists("nativeType",n),a.ensureFlagExists("nativeTypeAttributes",n),a.ensureFlagExists("sanitize",n),a.ensureFlagExists("instructionHasAttributes",n),a.ensureFlagExists("captureSpacesBetweenElements",n),a.ensureAlwaysArrayExists(n),a.ensureKeyExists("declaration",n),a.ensureKeyExists("instruction",n),a.ensureKeyExists("attributes",n),a.ensureKeyExists("text",n),a.ensureKeyExists("comment",n),a.ensureKeyExists("cdata",n),a.ensureKeyExists("doctype",n),a.ensureKeyExists("type",n),a.ensureKeyExists("name",n),a.ensureKeyExists("elements",n),a.ensureKeyExists("parent",n),a.checkFnExists("doctype",n),a.checkFnExists("instruction",n),a.checkFnExists("cdata",n),a.checkFnExists("comment",n),a.checkFnExists("text",n),a.checkFnExists("instructionName",n),a.checkFnExists("elementName",n),a.checkFnExists("attributeName",n),a.checkFnExists("attributeValue",n),a.checkFnExists("attributes",n),n}(t),s.opt={strictEntities:!0},s.onopentag=h,s.ontext=p,s.oncomment=m,s.onclosetag=f,s.onerror=y,s.oncdata=v,s.ondoctype=_,s.onprocessinginstruction=u,s.write(e).close(),o[n.elementsKey]){var l=o[n.elementsKey];delete o[n.elementsKey],o[n.elementsKey]=l,delete o.text}return o}},function(e,t){var s={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==s.call(e)}},function(e,t,s){"use strict";(function(t,n){var i=s(77);e.exports=g;var r,a=s(183);g.ReadableState=y;s(108).EventEmitter;var o=function(e,t){return e.listeners(t).length},l=s(185),d=s(78).Buffer,c=t.Uint8Array||function(){};var u=s(59);u.inherits=s(37);var h=s(475),p=void 0;p=h&&h.debuglog?h.debuglog("stream"):function(){};var m,f=s(476),v=s(186);u.inherits(g,l);var _=["error","close","destroy","pause","resume"];function y(e,t){e=e||{};var n=t instanceof(r=r||s(39));this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,a=e.readableHighWaterMark,o=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(a||0===a)?a:o,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(m||(m=s(111).StringDecoder),this.decoder=new m(e.encoding),this.encoding=e.encoding)}function g(e){if(r=r||s(39),!(this instanceof g))return new g(e);this._readableState=new y(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),l.call(this)}function b(e,t,s,n,i){var r,a=e._readableState;null===t?(a.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var s=t.decoder.end();s&&s.length&&(t.buffer.push(s),t.length+=t.objectMode?1:s.length)}t.ended=!0,x(e)}(e,a)):(i||(r=function(e,t){var s;n=t,d.isBuffer(n)||n instanceof c||"string"==typeof t||void 0===t||e.objectMode||(s=new TypeError("Invalid non-string/buffer chunk"));var n;return s}(a,t)),r?e.emit("error",r):a.objectMode||t&&t.length>0?("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===d.prototype||(t=function(e){return d.from(e)}(t)),n?a.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):M(e,a,t,!0):a.ended?e.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!s?(t=a.decoder.write(t),a.objectMode||0!==t.length?M(e,a,t,!1):E(e,a)):M(e,a,t,!1))):n||(a.reading=!1));return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(a)}function M(e,t,s,n){t.flowing&&0===t.length&&!t.sync?(e.emit("data",s),e.read(0)):(t.length+=t.objectMode?1:s.length,n?t.buffer.unshift(s):t.buffer.push(s),t.needReadable&&x(e)),E(e,t)}Object.defineProperty(g.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),g.prototype.destroy=v.destroy,g.prototype._undestroy=v.undestroy,g.prototype._destroy=function(e,t){this.push(null),t(e)},g.prototype.push=function(e,t){var s,n=this._readableState;return n.objectMode?s=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=d.from(e,t),t=""),s=!0),b(this,e,t,!1,s)},g.prototype.unshift=function(e){return b(this,e,null,!0,!1)},g.prototype.isPaused=function(){return!1===this._readableState.flowing},g.prototype.setEncoding=function(e){return m||(m=s(111).StringDecoder),this._readableState.decoder=new m(e),this._readableState.encoding=e,this};var w=8388608;function L(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=w?e=w:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function x(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(p("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?i.nextTick(T,e):T(e))}function T(e){p("emit readable"),e.emit("readable"),P(e)}function E(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(k,e,t))}function k(e,t){for(var s=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(p("maybeReadMore read 0"),e.read(0),s!==t.length);)s=t.length;t.readingMore=!1}function D(e){p("readable nexttick read 0"),e.read(0)}function S(e,t){t.reading||(p("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),P(e),t.flowing&&!t.reading&&e.read(0)}function P(e){var t=e._readableState;for(p("flow",t.flowing);t.flowing&&null!==e.read(););}function C(e,t){return 0===t.length?null:(t.objectMode?s=t.buffer.shift():!e||e>=t.length?(s=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):s=function(e,t,s){var n;e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):n=e===t.head.data.length?t.shift():s?function(e,t){var s=t.head,n=1,i=s.data;e-=i.length;for(;s=s.next;){var r=s.data,a=e>r.length?r.length:e;if(a===r.length?i+=r:i+=r.slice(0,e),0===(e-=a)){a===r.length?(++n,s.next?t.head=s.next:t.head=t.tail=null):(t.head=s,s.data=r.slice(a));break}++n}return t.length-=n,i}(e,t):function(e,t){var s=d.allocUnsafe(e),n=t.head,i=1;n.data.copy(s),e-=n.data.length;for(;n=n.next;){var r=n.data,a=e>r.length?r.length:e;if(r.copy(s,s.length-e,0,a),0===(e-=a)){a===r.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=r.slice(a));break}++i}return t.length-=i,s}(e,t);return n}(e,t.buffer,t.decoder),s);var s}function Y(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,i.nextTick(A,t,e))}function A(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function j(e,t){for(var s=0,n=e.length;s<n;s++)if(e[s]===t)return s;return-1}g.prototype.read=function(e){p("read",e),e=parseInt(e,10);var t=this._readableState,s=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return p("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?Y(this):x(this),null;if(0===(e=L(e,t))&&t.ended)return 0===t.length&&Y(this),null;var n,i=t.needReadable;return p("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&p("length less than watermark",i=!0),t.ended||t.reading?p("reading or ended",i=!1):i&&(p("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=L(s,t))),null===(n=e>0?C(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),s!==e&&t.ended&&Y(this)),null!==n&&this.emit("data",n),n},g.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},g.prototype.pipe=function(e,t){var s=this,r=this._readableState;switch(r.pipesCount){case 0:r.pipes=e;break;case 1:r.pipes=[r.pipes,e];break;default:r.pipes.push(e)}r.pipesCount+=1,p("pipe count=%d opts=%j",r.pipesCount,t);var l=(!t||!1!==t.end)&&e!==n.stdout&&e!==n.stderr?c:g;function d(t,n){p("onunpipe"),t===s&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,p("cleanup"),e.removeListener("close",_),e.removeListener("finish",y),e.removeListener("drain",u),e.removeListener("error",v),e.removeListener("unpipe",d),s.removeListener("end",c),s.removeListener("end",g),s.removeListener("data",f),h=!0,!r.awaitDrain||e._writableState&&!e._writableState.needDrain||u())}function c(){p("onend"),e.end()}r.endEmitted?i.nextTick(l):s.once("end",l),e.on("unpipe",d);var u=function(e){return function(){var t=e._readableState;p("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&o(e,"data")&&(t.flowing=!0,P(e))}}(s);e.on("drain",u);var h=!1;var m=!1;function f(t){p("ondata"),m=!1,!1!==e.write(t)||m||((1===r.pipesCount&&r.pipes===e||r.pipesCount>1&&-1!==j(r.pipes,e))&&!h&&(p("false write response, pause",s._readableState.awaitDrain),s._readableState.awaitDrain++,m=!0),s.pause())}function v(t){p("onerror",t),g(),e.removeListener("error",v),0===o(e,"error")&&e.emit("error",t)}function _(){e.removeListener("finish",y),g()}function y(){p("onfinish"),e.removeListener("close",_),g()}function g(){p("unpipe"),s.unpipe(e)}return s.on("data",f),function(e,t,s){if("function"==typeof e.prependListener)return e.prependListener(t,s);e._events&&e._events[t]?a(e._events[t])?e._events[t].unshift(s):e._events[t]=[s,e._events[t]]:e.on(t,s)}(e,"error",v),e.once("close",_),e.once("finish",y),e.emit("pipe",s),r.flowing||(p("pipe resume"),s.resume()),e},g.prototype.unpipe=function(e){var t=this._readableState,s={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,s),this);if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var r=0;r<i;r++)n[r].emit("unpipe",this,s);return this}var a=j(t.pipes,e);return-1===a?this:(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,s),this)},g.prototype.on=function(e,t){var s=l.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&x(this):i.nextTick(D,this))}return s},g.prototype.addListener=g.prototype.on,g.prototype.resume=function(){var e=this._readableState;return e.flowing||(p("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(S,e,t))}(this,e)),this},g.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this},g.prototype.wrap=function(e){var t=this,s=this._readableState,n=!1;for(var i in e.on("end",(function(){if(p("wrapped end"),s.decoder&&!s.ended){var e=s.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(p("wrapped data"),s.decoder&&(i=s.decoder.write(i)),s.objectMode&&null==i)||(s.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var r=0;r<_.length;r++)e.on(_[r],this.emit.bind(this,_[r]));return this._read=function(t){p("wrapped _read",t),n&&(n=!1,e.resume())},this},Object.defineProperty(g.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),g._fromList=C}).call(this,s(45),s(58))},function(e,t,s){e.exports=s(108).EventEmitter},function(e,t,s){"use strict";var n=s(77);function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var s=this,r=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return r||a?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||n.nextTick(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(n.nextTick(i,s,e),s._writableState&&(s._writableState.errorEmitted=!0)):t&&t(e)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,s){"use strict";e.exports=a;var n=s(39),i=s(59);function r(e,t){var s=this._transformState;s.transforming=!1;var n=s.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));s.writechunk=null,s.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function a(e){if(!(this instanceof a))return new a(e);n.call(this,e),this._transformState={afterTransform:r.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",o)}function o(){var e=this;"function"==typeof this._flush?this._flush((function(t,s){l(e,t,s)})):l(this,null,null)}function l(e,t,s){if(t)return e.emit("error",t);if(null!=s&&e.push(s),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}i.inherits=s(37),i.inherits(a,n),a.prototype.push=function(e,t){return this._transformState.needTransform=!1,n.prototype.push.call(this,e,t)},a.prototype._transform=function(e,t,s){throw new Error("_transform() is not implemented")},a.prototype._write=function(e,t,s){var n=this._transformState;if(n.writecb=s,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},a.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},a.prototype._destroy=function(e,t){var s=this;n.prototype._destroy.call(this,e,(function(e){t(e),s.emit("close")}))}},function(e,t,s){var n,i,r=s(112),a=s(113).isArray;function o(e,t,s){return(!s&&e.spaces?"\n":"")+Array(t+1).join(e.spaces)}function l(e,t,s){if(t.ignoreAttributes)return"";"attributesFn"in t&&(e=t.attributesFn(e,i,n));var r,a,l,d,c=[];for(r in e)e.hasOwnProperty(r)&&null!==e[r]&&void 0!==e[r]&&(d=t.noQuotesForNativeAttributes&&"string"!=typeof e[r]?"":'"',a=(a=""+e[r]).replace(/"/g,"&quot;"),l="attributeNameFn"in t?t.attributeNameFn(r,a,i,n):r,c.push(t.spaces&&t.indentAttributes?o(t,s+1,!1):" "),c.push(l+"="+d+("attributeValueFn"in t?t.attributeValueFn(a,r,i,n):a)+d));return e&&Object.keys(e).length&&t.spaces&&t.indentAttributes&&c.push(o(t,s,!1)),c.join("")}function d(e,t,s){return n=e,i="xml",t.ignoreDeclaration?"":"<?xml"+l(e[t.attributesKey],t,s)+"?>"}function c(e,t,s){if(t.ignoreInstruction)return"";var r;for(r in e)if(e.hasOwnProperty(r))break;var a="instructionNameFn"in t?t.instructionNameFn(r,e[r],i,n):r;if("object"==typeof e[r])return n=e,i=a,"<?"+a+l(e[r][t.attributesKey],t,s)+"?>";var o=e[r]?e[r]:"";return"instructionFn"in t&&(o=t.instructionFn(o,r,i,n)),"<?"+a+(o?" "+o:"")+"?>"}function u(e,t){return t.ignoreComment?"":"\x3c!--"+("commentFn"in t?t.commentFn(e,i,n):e)+"--\x3e"}function h(e,t){return t.ignoreCdata?"":"<![CDATA["+("cdataFn"in t?t.cdataFn(e,i,n):e.replace("]]>","]]]]><![CDATA[>"))+"]]>"}function p(e,t){return t.ignoreDoctype?"":"<!DOCTYPE "+("doctypeFn"in t?t.doctypeFn(e,i,n):e)+">"}function m(e,t){return t.ignoreText?"":(e=(e=(e=""+e).replace(/&amp;/g,"&")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"textFn"in t?t.textFn(e,i,n):e)}function f(e,t,s,r){return e.reduce((function(e,a){var d=o(t,s,r&&!e);switch(a.type){case"element":return e+d+function(e,t,s){n=e,i=e.name;var r=[],a="elementNameFn"in t?t.elementNameFn(e.name,e):e.name;r.push("<"+a),e[t.attributesKey]&&r.push(l(e[t.attributesKey],t,s));var o=e[t.elementsKey]&&e[t.elementsKey].length||e[t.attributesKey]&&"preserve"===e[t.attributesKey]["xml:space"];return o||(o="fullTagEmptyElementFn"in t?t.fullTagEmptyElementFn(e.name,e):t.fullTagEmptyElement),o?(r.push(">"),e[t.elementsKey]&&e[t.elementsKey].length&&(r.push(f(e[t.elementsKey],t,s+1)),n=e,i=e.name),r.push(t.spaces&&function(e,t){var s;if(e.elements&&e.elements.length)for(s=0;s<e.elements.length;++s)switch(e.elements[s][t.typeKey]){case"text":if(t.indentText)return!0;break;case"cdata":if(t.indentCdata)return!0;break;case"instruction":if(t.indentInstruction)return!0;break;case"doctype":case"comment":case"element":default:return!0}return!1}(e,t)?"\n"+Array(s+1).join(t.spaces):""),r.push("</"+a+">")):r.push("/>"),r.join("")}(a,t,s);case"comment":return e+d+u(a[t.commentKey],t);case"doctype":return e+d+p(a[t.doctypeKey],t);case"cdata":return e+(t.indentCdata?d:"")+h(a[t.cdataKey],t);case"text":return e+(t.indentText?d:"")+m(a[t.textKey],t);case"instruction":var v={};return v[a[t.nameKey]]=a[t.attributesKey]?a:a[t.instructionKey],e+(t.indentInstruction?d:"")+c(v,t,s)}}),"")}function v(e,t,s){var n;for(n in e)if(e.hasOwnProperty(n))switch(n){case t.parentKey:case t.attributesKey:break;case t.textKey:if(t.indentText||s)return!0;break;case t.cdataKey:if(t.indentCdata||s)return!0;break;case t.instructionKey:if(t.indentInstruction||s)return!0;break;case t.doctypeKey:case t.commentKey:default:return!0}return!1}function _(e,t,s,r,a){n=e,i=t;var d="elementNameFn"in s?s.elementNameFn(t,e):t;if(null==e||""===e)return"fullTagEmptyElementFn"in s&&s.fullTagEmptyElementFn(t,e)||s.fullTagEmptyElement?"<"+d+"></"+d+">":"<"+d+"/>";var c=[];if(t){if(c.push("<"+d),"object"!=typeof e)return c.push(">"+m(e,s)+"</"+d+">"),c.join("");e[s.attributesKey]&&c.push(l(e[s.attributesKey],s,r));var u=v(e,s,!0)||e[s.attributesKey]&&"preserve"===e[s.attributesKey]["xml:space"];if(u||(u="fullTagEmptyElementFn"in s?s.fullTagEmptyElementFn(t,e):s.fullTagEmptyElement),!u)return c.push("/>"),c.join("");c.push(">")}return c.push(y(e,s,r+1,!1)),n=e,i=t,t&&c.push((a?o(s,r,!1):"")+"</"+d+">"),c.join("")}function y(e,t,s,n){var i,r,l,f=[];for(r in e)if(e.hasOwnProperty(r))for(l=a(e[r])?e[r]:[e[r]],i=0;i<l.length;++i){switch(r){case t.declarationKey:f.push(d(l[i],t,s));break;case t.instructionKey:f.push((t.indentInstruction?o(t,s,n):"")+c(l[i],t,s));break;case t.attributesKey:case t.parentKey:break;case t.textKey:f.push((t.indentText?o(t,s,n):"")+m(l[i],t));break;case t.cdataKey:f.push((t.indentCdata?o(t,s,n):"")+h(l[i],t));break;case t.doctypeKey:f.push(o(t,s,n)+p(l[i],t));break;case t.commentKey:f.push(o(t,s,n)+u(l[i],t));break;default:f.push(o(t,s,n)+_(l[i],r,t,s,v(l[i],t)))}n=n&&!f.length}return f.join("")}e.exports=function(e,t){t=function(e){var t=r.copyOptions(e);return r.ensureFlagExists("ignoreDeclaration",t),r.ensureFlagExists("ignoreInstruction",t),r.ensureFlagExists("ignoreAttributes",t),r.ensureFlagExists("ignoreText",t),r.ensureFlagExists("ignoreComment",t),r.ensureFlagExists("ignoreCdata",t),r.ensureFlagExists("ignoreDoctype",t),r.ensureFlagExists("compact",t),r.ensureFlagExists("indentText",t),r.ensureFlagExists("indentCdata",t),r.ensureFlagExists("indentAttributes",t),r.ensureFlagExists("indentInstruction",t),r.ensureFlagExists("fullTagEmptyElement",t),r.ensureFlagExists("noQuotesForNativeAttributes",t),r.ensureSpacesExists(t),"number"==typeof t.spaces&&(t.spaces=Array(t.spaces+1).join(" ")),r.ensureKeyExists("declaration",t),r.ensureKeyExists("instruction",t),r.ensureKeyExists("attributes",t),r.ensureKeyExists("text",t),r.ensureKeyExists("comment",t),r.ensureKeyExists("cdata",t),r.ensureKeyExists("doctype",t),r.ensureKeyExists("type",t),r.ensureKeyExists("name",t),r.ensureKeyExists("elements",t),r.checkFnExists("doctype",t),r.checkFnExists("instruction",t),r.checkFnExists("cdata",t),r.checkFnExists("comment",t),r.checkFnExists("text",t),r.checkFnExists("instructionName",t),r.checkFnExists("elementName",t),r.checkFnExists("attributeName",t),r.checkFnExists("attributeValue",t),r.checkFnExists("attributes",t),r.checkFnExists("fullTagEmptyElement",t),t}(t);var s=[];return n=e,i="_root_",t.compact?s.push(y(e,t,0,!0)):(e[t.declarationKey]&&s.push(d(e[t.declarationKey],t,0)),e[t.elementsKey]&&e[t.elementsKey].length&&s.push(f(e[t.elementsKey],t,0,!s.length))),s.join("")}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(8),i=s(44),r=s(55),a=s(74);class o extends n.default{createComponents(){this.createComponent(i.default),this.createComponent(r.default),this.createComponent(a.default)}}t.default=o,o.typeName="NVoyagerStory"},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(8),i=s(23);class r extends n.default{get taskManager(){return this.getComponent(i.default)}createComponents(){this.createComponent(i.default)}}t.default=r,r.typeName="NVTasks"},function(e,t,s){"use strict";var n=this&&this.__decorate||function(e,t,s,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r<3?i(a):r>3?i(t,s,a):i(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};Object.defineProperty(t,"__esModule",{value:!0});const i=s(2),r=s(115),a=s(490),o=s(60);let l=class extends i.default{constructor(){super(),this.activeIndex=0,this.activeHeader=null,this.dropMarker=null,this.dropTarget=null,this.dropZone="none",this.isInit=!1,this.onDragOver=this.onDragOver.bind(this),this.onDragLeave=this.onDragLeave.bind(this),this.onDrop=this.onDrop.bind(this),this.addEventListener("dragover",this.onDragOver),this.addEventListener("dragleave",this.onDragLeave),this.addEventListener("drop",this.onDrop)}get size(){return.01*parseFloat(this.style.flexBasis)}set size(e){this.style.flexBasis=`${(100*(e||1)).toFixed(3)}%`}activatePanel(e){this.activeHeader&&this.activeHeader.panel===e||(this.activeHeader&&(this.activeHeader.active=!1),this.activeHeader=e.header,this.activeHeader.active=!0)}insertPanel(e,t){this.init(!1),this.appendChild(e);const s=new a.default(e);t?this.headers.insertBefore(s,t.header):this.headers.appendChild(s)}removePanel(e){const t=e.header;if(this.headers.removeChild(t),this.removeChild(e),0===this.getPanelCount()){this.parentElement.removeDockElement(this)}else if(this.activeHeader===t){const e=this.headers.firstChild;this.activatePanel(e.panel)}}getPanelCount(){return this.headers.childElementCount}setLayout(e,t){this.init(!1);const s=Array.from(this.children);for(let e of s)e!==this.headers&&this.removeChild(e);this.size=e.size,e.panels.forEach(e=>{const s=new r.default;s.setLayout(e,t),this.insertPanel(s)});const n=this.headers.firstElementChild;n&&this.activatePanel(n.panel)}getLayout(){const e=Array.from(this.getElementsByTagName("ff-dock-panel")),t=e.map(e=>e.getLayout());let s=-1;for(let t=0,n=e.length;t<n;++t)if(e[t]===this.activeHeader.panel){s=t;break}return{type:"stack",size:this.size,activePanelIndex:s,panels:t}}onDragOver(e){Array.from(e.dataTransfer.items).find(e=>e.type===r.default.dragDropMimeType)&&(this.updateDropMarker(e),e.stopPropagation(),e.preventDefault())}onDragLeave(e){this.updateDropMarker(),e.stopPropagation()}onDrop(e){e.stopPropagation(),this.updateDropMarker();const t=e.dataTransfer.getData(r.default.dragDropMimeType);this.dropTarget&&"none"!==this.dropZone&&this.dropTarget.movePanel(t,this.dropZone),this.dispatchEvent(new CustomEvent(o.default.changeEvent,{bubbles:!0}))}updateDropMarker(e){let t=this.getElementsByClassName("ff-dock-drop-marker").item(0);if(!e)return void(t&&this.removeChild(t));t||((t=document.createElement("div")).classList.add("ff-dock-drop-marker"),this.appendChild(t),this.dropTarget=null,this.dropZone="none");const s=t.style;s.pointerEvents="none",s.width="25px",s.position="absolute",s.zIndex="1";let n,i=this.dropTarget,r=this.dropZone;if(e.currentTarget===this){const e=this.headers.lastChild;n=e.getBoundingClientRect(),i=e.panel,r="after"}else if(e.currentTarget instanceof a.default){n=e.currentTarget.getBoundingClientRect();const t=(e.clientX-n.left)/n.width;i=e.currentTarget.panel,r=t<.5?"before":"after"}else i=null,r="none";if(i!==this.dropTarget||r!==this.dropZone)if(this.dropTarget=i,this.dropZone=r,i){const e=this.headers.getBoundingClientRect(),t=this.getBoundingClientRect(),i="before"===r?n.left:n.right;s.top=e.top-t.top+"px",s.height=e.height+"px",s.left=i-t.left+"px"}else t.remove()}firstConnected(){this.init(!0)}init(e){if(this.isInit)return;this.isInit=!0,this.setStyle({flex:"1 1 auto",position:"relative",display:"flex",flexDirection:"column",overflow:"hidden"}),this.headers=document.createElement("header");const t=this.headers.style;if(t.flex="1 0 auto",t.flexWrap="wrap",t.display="flex",t.flexDirection="row",t.overflow="hidden",this.insertBefore(this.headers,this.firstChild),e){Array.from(this.children).forEach(e=>{if(e!==this.headers)if(this.removeChild(e),e instanceof r.default)this.insertPanel(e);else{const t=new r.default;t.appendChild(e),this.insertPanel(t)}});const e=this.headers.firstElementChild;e&&this.activatePanel(e.panel)}}};n([i.property({type:Number})],l.prototype,"size",null),n([i.property({type:Number})],l.prototype,"activeIndex",void 0),l=n([i.customElement("ff-dock-stack")],l),t.default=l},function(e,t,s){"use strict";var n=this&&this.__decorate||function(e,t,s,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r<3?i(a):r>3?i(t,s,a):i(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};Object.defineProperty(t,"__esModule",{value:!0});const i=s(56),r=s(181);let a=class extends i.default{constructor(){super(),this.path="",this.assetManager=null,this.includeRoot=!0}firstConnected(){super.firstConnected(),this.classList.add("ff-asset-tree"),this.addEventListener("click",this.onContainerClick.bind(this))}connected(){super.connected(),this.assetManager=this.system.components.get(r.default),this.assetManager.on("tree-change",this.onTreeChange,this)}disconnected(){this.assetManager.off("tree-change",this.onTreeChange,this),this.assetManager=null,super.disconnected()}renderNodeHeader(e){const t=e.info.folder,s=t?"folder":"file",n=t?"ff-folder":"ff-file";return i.html`<ff-icon class=${n} name=${s}></ff-icon>
            <div class="ff-text ff-ellipsis">${e.info.name}</div>`}getChildren(e){return e.children.sort((e,t)=>{if(e.info.folder&&!t.info.folder)return-1;if(!e.info.folder&&t.info.folder)return 1;const s=e.info.name.toLowerCase(),n=t.info.name.toLowerCase();return s<n?-1:s>n?1:0})}getClasses(e){return e.info.folder?"ff-folder":"ff-file"}getId(e){return e.info.path}isNodeExpanded(e){return e.expanded}isNodeSelected(e){return this.assetManager.isSelected(e)}onTreeChange(e){const t=this.path.split("/").filter(e=>""!==e);let s=e.root;for(let e=0;e<t.length&&(s=s.children.find(s=>s.info.name===t[e]));++e);this.root=s||e.root,this.requestUpdate()}onContainerClick(){this.assetManager.select(null,!1)}onNodeClick(e,t){const s=e.currentTarget.getBoundingClientRect();e.clientX-s.left<30?this.toggleExpanded(t):this.assetManager.select(t,e.ctrlKey)}onNodeDblClick(e,t){this.assetManager.open(t)}canDrop(e,t){return t.info.folder&&(super.canDrop(e,t)||!!e.dataTransfer.types.find(e=>"Files"===e))}onNodeDragStart(e,t){this.assetManager.select(t,e.ctrlKey),e.dataTransfer.setData("text/plain",t.info.path);const s=t.info.type;if("image/jpeg"===s||"image/png"===s){const s=this.assetManager.getAssetURL(t.info.path);e.dataTransfer.setData("text/html",`<img src="${s}">`)}return super.onNodeDragStart(e,t)}onNodeDrop(e,t){super.onNodeDrop(e,t);const s=e.dataTransfer.files;s.length>0?this.assetManager.uploadFiles(s,t):this.assetManager.moveSelected(t)}};n([i.property({attribute:!1})],a.prototype,"system",void 0),n([i.property({type:String})],a.prototype,"path",void 0),a=n([i.customElement("ff-asset-tree")],a),t.default=a},function(e,t,s){!function(e){"use strict";e.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mrt_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(e){return/^nm$/i.test(e)},meridiem:function(e,t,s){return e<12?s?"vm":"VM":s?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[Mre om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",ss:"%d sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}(s(0))},function(e,t,s){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},s={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},n=function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},i={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},r=function(e){return function(t,s,r,a){var o=n(t),l=i[e][n(t)];return 2===o&&(l=l[s?0:1]),l.replace(/%d/i,t)}},a=["","","","","","","","","","","",""];e.defineLocale("ar",{months:a,monthsShort:a,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,s){return e<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:r("s"),ss:r("s"),m:r("m"),mm:r("m"),h:r("h"),hh:r("h"),d:r("d"),dd:r("d"),M:r("M"),MM:r("M"),y:r("y"),yy:r("y")},preparse:function(e){return e.replace(/[]/g,(function(e){return s[e]})).replace(//g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"")},week:{dow:6,doy:12}})}(s(0))},function(e,t,s){!function(e){"use strict";e.defineLocale("ar-dz",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:0,doy:4}})}(s(0))},function(e,t,s){!function(e){"use strict";e.defineLocale("ar-kw",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:0,doy:12}})}(s(0))},function(e,t,s){!function(e){"use strict";var t={1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",0:"0"},s=function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},n={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},i=function(e){return function(t,i,r,a){var o=s(t),l=n[e][s(t)];return 2===o&&(l=l[i?0:1]),l.replace(/%d/i,t)}},r=["","","","","","","","","","","",""];e.defineLocale("ar-ly",{months:r,monthsShort:r,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,s){return e<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:i("s"),ss:i("s"),m:i("m"),mm:i("m"),h:i("h"),hh:i("h"),d:i("d"),dd:i("d"),M:i("M"),MM:i("M"),y:i("y"),yy:i("y")},preparse:function(e){return e.replace(//g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"")},week:{dow:6,doy:12}})}(s(0))},function(e,t,s){!function(e){"use strict";e.defineLocale("ar-ma",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:6,doy:12}})}(s(0))},function(e,t,s){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},s={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("ar-sa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,s){return e<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return s[e]})).replace(//g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"")},week:{dow:0,doy:6}})}(s(0))},function(e,t,s){!function(e){"use strict";e.defineLocale("ar-tn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:1,doy:4}})}(s(0))},function(e,t,s){!function(e){"use strict";var t={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-nc",4:"-nc",100:"-nc",6:"-nc",9:"-uncu",10:"-uncu",30:"-uncu",60:"-nc",90:"-nc"};e.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ertsi_rnb axam_rnb_Cm axam_Cm_nb".split("_"),weekdaysShort:"Baz_BzE_Ax_r_CAx_Cm_n".split("_"),weekdaysMin:"Bz_BE_A__CA_C_".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[gln hft] dddd [saat] LT",lastDay:"[dnn] LT",lastWeek:"[ken hft] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s vvl",s:"birne saniy",ss:"%d saniy",m:"bir dqiq",mm:"%d dqiq",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gec|shr|gndz|axam/,isPM:function(e){return/^(gndz|axam)$/.test(e)},meridiem:function(e,t,s){return e<4?"gec":e<12?"shr":e<17?"gndz":"axam"},dayOfMonthOrdinalParse:/\d{1,2}-(nc|inci|nci|nc|nc|uncu)/,ordinal:function(e){if(0===e)return e+"-nc";var s=e%10;return e+(t[s]||t[e%100-s]||t[e>=100?100:null])},week:{dow:1,doy:7}})}(s(0))},function(e,t,s){!function(e){"use strict";function t(e,t,s){var n,i;return"m"===s?t?"":"":"h"===s?t?"":"":e+" "+(n=+e,i={ss:t?"__":"__",mm:t?"__":"__",hh:t?"__":"__",dd:"__",MM:"__",yy:"__"}[s].split("_"),n%10==1&&n%100!=11?i[0]:n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?i[1]:i[2])}e.defineLocale("be",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:{format:"______".split("_"),standalone:"______".split("_"),isFormat:/\[ ?[] ?(?:|)? ?\] ?dddd/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:function(){return"[] dddd [] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[ ] dddd [] LT";case 1:case 2:case 4:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:t,mm:t,h:t,hh:t,d:"",dd:t,M:"",MM:t,y:"",yy:t},meridiemParse:/|||/,isPM:function(e){return/^(|)$/.test(e)},meridiem:function(e,t,s){return e<4?"":e<12?"":e<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(||)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e%10!=2&&e%10!=3||e%100==12||e%100==13?e+"-":e+"-";case"D":return e+"-";default:return e}},week:{dow:1,doy:7}})}(s(0))},function(e,t,s){!function(e){"use strict";e.defineLocale("bg",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[ ] dddd [] LT";case 1:case 2:case 4:case 5:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||||)/,ordinal:function(e){var t=e%10,s=e%100;return 0===e?e+"-":0===s?e+"-":s>10&&s<20?e+"-":1===t?e+"-":2===t?e+"-":7===t||8===t?e+"-":e+"-"},week:{dow:1,doy:7}})}(s(0))},function(e,t,s){!function(e){"use strict";e.defineLocale("bm",{months:"Zanwuyekalo_Fewuruyekalo_Marisikalo_Awirilikalo_Mkalo_Zuwnkalo_Zuluyekalo_Utikalo_Stanburukalo_kutburukalo_Nowanburukalo_Desanburukalo".split("_"),monthsShort:"Zan_Few_Mar_Awi_M_Zuw_Zul_Uti_St_ku_Now_Des".split("_"),weekdays:"Kari_Ntnn_Tarata_Araba_Alamisa_Juma_Sibiri".split("_"),weekdaysShort:"Kar_Nt_Tar_Ara_Ala_Jum_Sib".split("_"),weekdaysMin:"Ka_Nt_Ta_Ar_Al_Ju_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"MMMM [tile] D [san] YYYY",LLL:"MMMM [tile] D [san] YYYY [lr] HH:mm",LLLL:"dddd MMMM [tile] D [san] YYYY [lr] HH:mm"},calendar:{sameDay:"[Bi lr] LT",nextDay:"[Sini lr] LT",nextWeek:"dddd [don lr] LT",lastDay:"[Kunu lr] LT",lastWeek:"dddd [tmnen lr] LT",sameElse:"L"},relativeTime:{future:"%s kn",past:"a b %s b",s:"sanga dama dama",ss:"sekondi %d",m:"miniti kelen",mm:"miniti %d",h:"lr kelen",hh:"lr %d",d:"tile kelen",dd:"tile %d",M:"kalo kelen",MM:"kalo %d",y:"san kelen",yy:"san %d"},week:{dow:1,doy:4}})}(s(0))},function(e,t,s){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},s={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("bn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return s[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t&&e>=4||""===t&&e<5||""===t?e+12:e},meridiem:function(e,t,s){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})}(s(0))},function(e,t,s){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},s={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("bo",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[], LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return s[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t&&e>=4||""===t&&e<5||""===t?e+12:e},meridiem:function(e,t,s){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})}(s(0))},function(e,t,s){!function(e){"use strict";function t(e,t,s){return e+" "+function(e,t){return 2===t?function(e){var t={m:"v",b:"v",d:"z"};return void 0===t[e.charAt(0)]?e:t[e.charAt(0)]+e.substring(1)}(e):e}({mm:"munutenn",MM:"miz",dd:"devezh"}[s],e)}e.defineLocale("br",{months:"Genver_C'hwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_C'hwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Merc'her_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h[e]mm A",LTS:"h[e]mm:ss A",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY h[e]mm A",LLLL:"dddd, D [a viz] MMMM YYYY h[e]mm A"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warc'hoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dec'h da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s 'zo",s:"un nebeud segondenno",ss:"%d eilenn",m:"ur vunutenn",mm:t,h:"un eur",hh:"%d eur",d:"un devezh",dd:t,M:"ur miz",MM:t,y:"ur bloaz",yy:function(e){switch(function e(t){return t>9?e(t%10):t}(e)){case 1:case 3:case 4:case 5:case 9:return e+" bloaz";default:return e+" vloaz"}}},dayOfMonthOrdinalParse:/\d{1,2}(a|vet)/,ordinal:function(e){return e+(1===e?"a":"vet")},week:{dow:1,doy:4}})}(s(0))},function(e,t,s){!function(e){"use strict";function t(e,t,s){var n=e+" ";switch(s){case"ss":return n+=1===e?"sekunda":2===e||3===e||4===e?"sekunde":"sekundi";case"m":return t?"jedna minuta":"jedne minute";case"mm":return n+=1===e?"minuta":2===e||3===e||4===e?"minute":"minuta";case"h":return t?"jedan sat":"jednog sata";case"hh":return n+=1===e?"sat":2===e||3===e||4===e?"sata":"sati";case"dd":return n+=1===e?"dan":"dana";case"MM":return n+=1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci";case"yy":return n+=1===e?"godina":2===e||3===e||4===e?"godine":"godina"}}e.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prolu] dddd [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:t,m:t,mm:t,h:t,hh:t,d:"dan",dd:t,M:"mjesec",MM:t,y:"godinu",yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(s(0))},function(e,t,s){!function(e){"use strict";e.defineLocale("ca",{months:{standalone:"gener_febrer_mar_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),format:"de gener_de febrer_de mar_d'abril_de maig_de juny_de juliol_d'agost_de setembre_d'octubre_de novembre_de desembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._mar_abr._maig_juny_jul._ag._set._oct._nov._des.".split("_"),monthsParseExact:!0,weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dt_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a les] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a les] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[dem a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"d'aqu %s",past:"fa %s",s:"uns segons",ss:"%d segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t||a)/,ordinal:function(e,t){var s=1===e?"r":2===e?"n":3===e?"r":4===e?"t":"";return"w"!==t&&"W"!==t||(s="a"),e+s},week:{dow:1,doy:4}})}(s(0))},function(e,t,s){!function(e){"use strict";var t="leden_nor_bezen_duben_kvten_erven_ervenec_srpen_z_jen_listopad_prosinec".split("_"),s="led_no_be_dub_kv_vn_vc_srp_z_j_lis_pro".split("_"),n=[/^led/i,/^no/i,/^be/i,/^dub/i,/^kv/i,/^(vn|erven$|ervna)/i,/^(vc|ervenec|ervence)/i,/^srp/i,/^z/i,/^j/i,/^lis/i,/^pro/i],i=/^(leden|nor|bezen|duben|kvten|ervenec|ervence|erven|ervna|srpen|z|jen|listopad|prosinec|led|no|be|dub|kv|vn|vc|srp|z|j|lis|pro)/i;function r(e){return e>1&&e<5&&1!=~~(e/10)}function a(e,t,s,n){var i=e+" ";switch(s){case"s":return t||n?"pr sekund":"pr sekundami";case"ss":return t||n?i+(r(e)?"sekundy":"sekund"):i+"sekundami";case"m":return t?"minuta":n?"minutu":"minutou";case"mm":return t||n?i+(r(e)?"minuty":"minut"):i+"minutami";case"h":return t?"hodina":n?"hodinu":"hodinou";case"hh":return t||n?i+(r(e)?"hodiny":"hodin"):i+"hodinami";case"d":return t||n?"den":"dnem";case"dd":return t||n?i+(r(e)?"dny":"dn"):i+"dny";case"M":return t||n?"msc":"mscem";case"MM":return t||n?i+(r(e)?"msce":"msc"):i+"msci";case"y":return t||n?"rok":"rokem";case"yy":return t||n?i+(r(e)?"roky":"let"):i+"lety"}}e.defineLocale("cs",{months:t,monthsShort:s,monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(leden|ledna|nora|nor|bezen|bezna|duben|dubna|kvten|kvtna|ervenec|ervence|erven|ervna|srpen|srpna|z|jen|jna|listopadu|listopad|prosinec|prosince)/i,monthsShortStrictRegex:/^(led|no|be|dub|kv|vn|vc|srp|z|j|lis|pro)/i,monthsParse:n,longMonthsParse:n,shortMonthsParse:n,weekdays:"nedle_pondl_ter_steda_tvrtek_ptek_sobota".split("_"),weekdaysShort:"ne_po_t_st_t_p_so".split("_"),weekdaysMin:"ne_po_t_st_t_p_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},calendar:{sameDay:"[dnes v] LT",nextDay:"[ztra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve stedu v] LT";case 4:return"[ve tvrtek v] LT";case 5:return"[v ptek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[vera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou nedli v] LT";case 1:case 2:return"[minul] dddd [v] LT";case 3:return"[minulou stedu v] LT";case 4:case 5:return"[minul] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"ped %s",s:a,ss:a,m:a,mm:a,h:a,hh:a,d:a,dd:a,M:a,MM:a,y:a,yy:a},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(s(0))},function(e,t,s){!function(e){"use strict";e.defineLocale("cv",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"YYYY [] MMMM [] D[-]",LLL:"YYYY [] MMMM [] D[-], HH:mm",LLLL:"dddd, YYYY [] MMMM [] D[-], HH:mm"},calendar:{sameDay:"[] LT []",nextDay:"[] LT []",lastDay:"[] LT []",nextWeek:"[] dddd LT []",lastWeek:"[] dddd LT []",sameElse:"L"},relativeTime:{future:function(e){return e+(/$/i.exec(e)?"":/$/i.exec(e)?"":"")},past:"%s ",s:"- ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-/,ordinal:"%d-",week:{dow:1,doy:7}})}(s(0))},function(e,t,s){!function(e){"use strict";e.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn l",s:"ychydig eiliadau",ss:"%d eiliad",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},dayOfMonthOrdinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(e){var t="";return e>20?t=40===e||50===e||60===e||80===e||100===e?"fed":"ain":e>0&&(t=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"][e]),e+t},week:{dow:1,doy:4}})}(s(0))},function(e,t,s){!function(e){"use strict";e.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_man_tir_ons_tor_fre_lr".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"p dddd [kl.] LT",lastDay:"[i gr kl.] LT",lastWeek:"[i] dddd[s kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"f sekunder",ss:"%d sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en mned",MM:"%d mneder",y:"et r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(s(0))},function(e,t,s){!function(e){"use strict";function t(e,t,s,n){var i={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?i[s][0]:i[s][1]}e.defineLocale("de",{months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(s(0))},function(e,t,s){!function(e){"use strict";function t(e,t,s,n){var i={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?i[s][0]:i[s][1]}e.defineLocale("de-at",{months:"Jnner_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jn._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(s(0))},function(e,t,s){!function(e){"use strict";function t(e,t,s,n){var i={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?i[s][0]:i[s][1]}e.defineLocale("de-ch",{months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(s(0))},function(e,t,s){!function(e){"use strict";var t=["","","","","","","","","","","",""],s=["","","","","","",""];e.defineLocale("dv",{months:t,monthsShort:t,weekdays:s,weekdaysShort:s,weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,s){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd LT",lastDay:"[] LT",lastWeek:"[] dddd LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"d% ",m:"",mm:" %d",h:"",hh:" %d",d:"",dd:" %d",M:"",MM:" %d",y:"",yy:" %d"},preparse:function(e){return e.replace(//g,",")},postformat:function(e){return e.replace(/,/g,"")},week:{dow:7,doy:12}})}(s(0))},function(e,t,s){!function(e){"use strict";e.defineLocale("el",{monthsNominativeEl:"___________".split("_"),monthsGenitiveEl:"___________".split("_"),months:function(e,t){return e?"string"==typeof t&&/D/.test(t.substring(0,t.indexOf("MMMM")))?this._monthsGenitiveEl[e.month()]:this._monthsNominativeEl[e.month()]:this._monthsNominativeEl},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),meridiem:function(e,t,s){return e>11?s?"":"":s?"":""},isPM:function(e){return""===(e+"").toLowerCase()[0]},meridiemParse:/[]\.??\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendarEl:{sameDay:"[ {}] LT",nextDay:"[ {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[ {}] LT",lastWeek:function(){switch(this.day()){case 6:return"[ ] dddd [{}] LT";default:return"[ ] dddd [{}] LT"}},sameElse:"L"},calendar:function(e,t){var s,n=this._calendarEl[e],i=t&&t.hours();return((s=n)instanceof Function||"[object Function]"===Object.prototype.toString.call(s))&&(n=n.apply(t)),n.replace("{}",i%12==1?"":"")},relativeTime:{future:" %s",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(s(0))},function(e,t,s){!function(e){"use strict";e.defineLocale("en-SG",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(s(0))},function(e,t,s){!function(e){"use strict";e.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(s(0))},function(e,t,s){!function(e){"use strict";e.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}})}(s(0))},function(e,t,s){!function(e){"use strict";e.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(s(0))},function(e,t,s){!function(e){"use strict";e.defineLocale("en-ie",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(s(0))},function(e,t,s){!function(e){"use strict";e.defineLocale("en-il",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}})}(s(0))},function(e,t,s){!function(e){"use strict";e.defineLocale("en-nz",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(s(0))},function(e,t,s){!function(e){"use strict";e.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_agusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_ag_sep_okt_nov_dec".split("_"),weekdays:"dimano_lundo_mardo_merkredo_ado_vendredo_sabato".split("_"),weekdaysShort:"dim_lun_mard_merk_a_ven_sab".split("_"),weekdaysMin:"di_lu_ma_me_a_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D[-a de] MMMM, YYYY",LLL:"D[-a de] MMMM, YYYY HH:mm",LLLL:"dddd, [la] D[-a de] MMMM, YYYY HH:mm"},meridiemParse:/[ap]\.t\.m/i,isPM:function(e){return"p"===e.charAt(0).toLowerCase()},meridiem:function(e,t,s){return e>11?s?"p.t.m.":"P.T.M.":s?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodia je] LT",nextDay:"[Morga je] LT",nextWeek:"dddd [je] LT",lastDay:"[Hiera je] LT",lastWeek:"[pasinta] dddd [je] LT",sameElse:"L"},relativeTime:{future:"post %s",past:"anta %s",s:"sekundoj",ss:"%d sekundoj",m:"minuto",mm:"%d minutoj",h:"horo",hh:"%d horoj",d:"tago",dd:"%d tagoj",M:"monato",MM:"%d monatoj",y:"jaro",yy:"%d jaroj"},dayOfMonthOrdinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}})}(s(0))},function(e,t,s){!function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),s="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),n=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],i=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;e.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,n){return e?/-MMM-/.test(n)?s[e.month()]:t[e.month()]:t},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:n,longMonthsParse:n,shortMonthsParse:n,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(s(0))},function(e,t,s){!function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),s="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),n=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],i=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;e.defineLocale("es-do",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,n){return e?/-MMM-/.test(n)?s[e.month()]:t[e.month()]:t},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:n,longMonthsParse:n,shortMonthsParse:n,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(s(0))},function(e,t,s){!function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),s="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),n=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],i=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;e.defineLocale("es-us",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,n){return e?/-MMM-/.test(n)?s[e.month()]:t[e.month()]:t},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:n,longMonthsParse:n,shortMonthsParse:n,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"MM/DD/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:0,doy:6}})}(s(0))},function(e,t,s){!function(e){"use strict";function t(e,t,s,n){var i={s:["mne sekundi","mni sekund","paar sekundit"],ss:[e+"sekundi",e+"sekundit"],m:["he minuti","ks minut"],mm:[e+" minuti",e+" minutit"],h:["he tunni","tund aega","ks tund"],hh:[e+" tunni",e+" tundi"],d:["he peva","ks pev"],M:["kuu aja","kuu aega","ks kuu"],MM:[e+" kuu",e+" kuud"],y:["he aasta","aasta","ks aasta"],yy:[e+" aasta",e+" aastat"]};return t?i[s][2]?i[s][2]:i[s][1]:n?i[s][0]:i[s][1]}e.defineLocale("et",{months:"jaanuar_veebruar_mrts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_mrts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"phapev_esmaspev_teisipev_kolmapev_neljapev_reede_laupev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[Tna,] LT",nextDay:"[Homme,] LT",nextWeek:"[Jrgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s prast",past:"%s tagasi",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:"%d peva",M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(s(0))},function(e,t,s){!function(e){"use strict";e.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),monthsParseExact:!0,weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] HH:mm",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] HH:mm",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] HH:mm",llll:"ddd, YYYY[ko] MMM D[a] HH:mm"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",ss:"%d segundo",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(s(0))},function(e,t,s){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},s={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("fa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/  |  /,isPM:function(e){return/  /.test(e)},meridiem:function(e,t,s){return e<12?"  ":"  "},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] [] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:" d%",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[-]/g,(function(e){return s[e]})).replace(//g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"")},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:6,doy:12}})}(s(0))},function(e,t,s){!function(e){"use strict";var t="nolla yksi kaksi kolme nelj viisi kuusi seitsemn kahdeksan yhdeksn".split(" "),s=["nolla","yhden","kahden","kolmen","neljn","viiden","kuuden",t[7],t[8],t[9]];function n(e,n,i,r){var a="";switch(i){case"s":return r?"muutaman sekunnin":"muutama sekunti";case"ss":return r?"sekunnin":"sekuntia";case"m":return r?"minuutin":"minuutti";case"mm":a=r?"minuutin":"minuuttia";break;case"h":return r?"tunnin":"tunti";case"hh":a=r?"tunnin":"tuntia";break;case"d":return r?"pivn":"piv";case"dd":a=r?"pivn":"piv";break;case"M":return r?"kuukauden":"kuukausi";case"MM":a=r?"kuukauden":"kuukautta";break;case"y":return r?"vuoden":"vuosi";case"yy":a=r?"vuoden":"vuotta"}return a=function(e,n){return e<10?n?s[e]:t[e]:e}(e,r)+" "+a}e.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_keskuu_heinkuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kes_hein_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] HH.mm",llll:"ddd, Do MMM YYYY, [klo] HH.mm"},calendar:{sameDay:"[tnn] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s pst",past:"%s sitten",s:n,ss:n,m:n,mm:n,h:n,hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(s(0))},function(e,t,s){!function(e){"use strict";e.defineLocale("fo",{months:"januar_februar_mars_aprl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_mnadagur_tsdagur_mikudagur_hsdagur_frggjadagur_leygardagur".split("_"),weekdaysShort:"sun_mn_ts_mik_hs_fr_ley".split("_"),weekdaysMin:"su_m_t_mi_h_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D. MMMM, YYYY HH:mm"},calendar:{sameDay:"[ dag kl.] LT",nextDay:"[ morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[ gjr kl.] LT",lastWeek:"[sstu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s sani",s:"f sekund",ss:"%d sekundir",m:"ein minuttur",mm:"%d minuttir",h:"ein tmi",hh:"%d tmar",d:"ein dagur",dd:"%d dagar",M:"ein mnaur",MM:"%d mnair",y:"eitt r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(s(0))},function(e,t,s){!function(e){"use strict";e.defineLocale("fr",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(e,t){switch(t){case"D":return e+(1===e?"er":"");default:case"M":case"Q":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}},week:{dow:1,doy:4}})}(s(0))},function(e,t,s){!function(e){"use strict";e.defineLocale("fr-ca",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(e,t){switch(t){default:case"M":case"Q":case"D":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}}})}(s(0))},function(e,t,s){!function(e){"use strict";e.defineLocale("fr-ch",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(e,t){switch(t){default:case"M":case"Q":case"D":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}},week:{dow:1,doy:4}})}(s(0))},function(e,t,s){!function(e){"use strict";var t="jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_"),s="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_");e.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(e,n){return e?/-MMM-/.test(n)?s[e.month()]:t[e.month()]:t},monthsParseExact:!0,weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[frne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",ss:"%d sekonden",m:"ien mint",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}(s(0))},function(e,t,s){!function(e){"use strict";e.defineLocale("ga",{months:["Eanir","Feabhra","Mrta","Aibren","Bealtaine","Mitheamh","Iil","Lnasa","Men Fmhair","Deaireadh Fmhair","Samhain","Nollaig"],monthsShort:["Ean","Feab","Mrt","Aibr","Beal","Mit","Iil","Lna","Men","Deai","Samh","Noll"],monthsParseExact:!0,weekdays:["D Domhnaigh","D Luain","D Mirt","D Cadaoin","Dardaoin","D hAoine","D Satharn"],weekdaysShort:["Dom","Lua","Mi","Ca","Da","hAo","Sat"],weekdaysMin:["Do","Lu","M","Ce","D","hA","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Inniu ag] LT",nextDay:"[Amrach ag] LT",nextWeek:"dddd [ag] LT",lastDay:"[Inn aig] LT",lastWeek:"dddd [seo caite] [ag] LT",sameElse:"L"},relativeTime:{future:"i %s",past:"%s  shin",s:"cpla soicind",ss:"%d soicind",m:"nimad",mm:"%d nimad",h:"uair an chloig",hh:"%d uair an chloig",d:"l",dd:"%d l",M:"m",MM:"%d m",y:"bliain",yy:"%d bliain"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(e){return e+(1===e?"d":e%10==2?"na":"mh")},week:{dow:1,doy:4}})}(s(0))},function(e,t,s){!function(e){"use strict";e.defineLocale("gd",{months:["Am Faoilleach","An Gearran","Am Mrt","An Giblean","An Citean","An t-gmhios","An t-Iuchar","An Lnastal","An t-Sultain","An Dmhair","An t-Samhain","An Dbhlachd"],monthsShort:["Faoi","Gear","Mrt","Gibl","Cit","gmh","Iuch","Ln","Sult","Dmh","Samh","Dbh"],monthsParseExact:!0,weekdays:["Didmhnaich","Diluain","Dimirt","Diciadain","Diardaoin","Dihaoine","Disathairne"],weekdaysShort:["Did","Dil","Dim","Dic","Dia","Dih","Dis"],weekdaysMin:["D","Lu","M","Ci","Ar","Ha","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[An-diugh aig] LT",nextDay:"[A-mireach aig] LT",nextWeek:"dddd [aig] LT",lastDay:"[An-d aig] LT",lastWeek:"dddd [seo chaidh] [aig] LT",sameElse:"L"},relativeTime:{future:"ann an %s",past:"bho chionn %s",s:"beagan diogan",ss:"%d diogan",m:"mionaid",mm:"%d mionaidean",h:"uair",hh:"%d uairean",d:"latha",dd:"%d latha",M:"mos",MM:"%d mosan",y:"bliadhna",yy:"%d bliadhna"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(e){return e+(1===e?"d":e%10==2?"na":"mh")},week:{dow:1,doy:4}})}(s(0))},function(e,t,s){!function(e){"use strict";e.defineLocale("gl",{months:"xaneiro_febreiro_marzo_abril_maio_xuo_xullo_agosto_setembro_outubro_novembro_decembro".split("_"),monthsShort:"xan._feb._mar._abr._mai._xu._xul._ago._set._out._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"domingo_luns_martes_mrcores_xoves_venres_sbado".split("_"),weekdaysShort:"dom._lun._mar._mr._xov._ven._sb.".split("_"),weekdaysMin:"do_lu_ma_m_xo_ve_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma "+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"s":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"s":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(e){return 0===e.indexOf("un")?"n"+e:"en "+e},past:"hai %s",s:"uns segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(s(0))},function(e,t,s){!function(e){"use strict";function t(e,t,s,n){var i={s:["thodde secondanim","thodde second"],ss:[e+" secondanim",e+" second"],m:["eka mintan","ek minute"],mm:[e+" mintanim",e+" mintam"],h:["eka voran","ek vor"],hh:[e+" voranim",e+" voram"],d:["eka disan","ek dis"],dd:[e+" disanim",e+" dis"],M:["eka mhoinean","ek mhoino"],MM:[e+" mhoineanim",e+" mhoine"],y:["eka vorsan","ek voros"],yy:[e+" vorsanim",e+" vorsam"]};return t?i[s][0]:i[s][1]}e.defineLocale("gom-latn",{months:"Janer_Febrer_Mars_Abril_Mai_Jun_Julai_Agost_Setembr_Otubr_Novembr_Dezembr".split("_"),monthsShort:"Jan._Feb._Mars_Abr._Mai_Jun_Jul._Ago._Set._Otu._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Aitar_Somar_Mongllar_Budvar_Brestar_Sukrar_Son'var".split("_"),weekdaysShort:"Ait._Som._Mon._Bud._Bre._Suk._Son.".split("_"),weekdaysMin:"Ai_Sm_Mo_Bu_Br_Su_Sn".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [vazta]",LTS:"A h:mm:ss [vazta]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [vazta]",LLLL:"dddd, MMMM[achea] Do, YYYY, A h:mm [vazta]",llll:"ddd, D MMM YYYY, A h:mm [vazta]"},calendar:{sameDay:"[Aiz] LT",nextDay:"[Faleam] LT",nextWeek:"[Ieta to] dddd[,] LT",lastDay:"[Kal] LT",lastWeek:"[Fatlo] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s adim",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}(er)/,ordinal:function(e,t){switch(t){case"D":return e+"er";default:case"M":case"Q":case"DDD":case"d":case"w":case"W":return e}},week:{dow:1,doy:4},meridiemParse:/rati|sokalli|donparam|sanje/,meridiemHour:function(e,t){return 12===e&&(e=0),"rati"===t?e<4?e:e+12:"sokalli"===t?e:"donparam"===t?e>12?e:e+12:"sanje"===t?e+12:void 0},meridiem:function(e,t,s){return e<4?"rati":e<12?"sokalli":e<16?"donparam":e<20?"sanje":"rati"}})}(s(0))},function(e,t,s){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},s={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("gu",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return s[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,s){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})}(s(0))},function(e,t,s){!function(e){"use strict";e.defineLocale("he",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D []MMMM YYYY",LLL:"D []MMMM YYYY HH:mm",LLLL:"dddd, D []MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[ ]LT",nextDay:"[ ]LT",nextWeek:"dddd [] LT",lastDay:"[ ]LT",lastWeek:"[] dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:function(e){return 2===e?"":e+" "},d:"",dd:function(e){return 2===e?"":e+" "},M:"",MM:function(e){return 2===e?"":e+" "},y:"",yy:function(e){return 2===e?"":e%10==0&&10!==e?e+" ":e+" "}},meridiemParse:/"|"| | | ||/i,isPM:function(e){return/^("| |)$/.test(e)},meridiem:function(e,t,s){return e<5?" ":e<10?"":e<12?s?'"':" ":e<18?s?'"':" ":""}})}(s(0))},function(e,t,s){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},s={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("hi",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return s[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,s){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})}(s(0))},function(e,t,s){!function(e){"use strict";function t(e,t,s){var n=e+" ";switch(s){case"ss":return n+=1===e?"sekunda":2===e||3===e||4===e?"sekunde":"sekundi";case"m":return t?"jedna minuta":"jedne minute";case"mm":return n+=1===e?"minuta":2===e||3===e||4===e?"minute":"minuta";case"h":return t?"jedan sat":"jednog sata";case"hh":return n+=1===e?"sat":2===e||3===e||4===e?"sata":"sati";case"dd":return n+=1===e?"dan":"dana";case"MM":return n+=1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci";case"yy":return n+=1===e?"godina":2===e||3===e||4===e?"godine":"godina"}}e.defineLocale("hr",{months:{format:"sijenja_veljae_oujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca".split("_"),standalone:"sijeanj_veljaa_oujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_")},monthsShort:"sij._velj._ou._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prolu] dddd [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:t,m:t,mm:t,h:t,hh:t,d:"dan",dd:t,M:"mjesec",MM:t,y:"godinu",yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(s(0))},function(e,t,s){!function(e){"use strict";var t="vasrnap htfn kedden szerdn cstrtkn pnteken szombaton".split(" ");function s(e,t,s,n){var i=e;switch(s){case"s":return n||t?"nhny msodperc":"nhny msodperce";case"ss":return i+(n||t)?" msodperc":" msodperce";case"m":return"egy"+(n||t?" perc":" perce");case"mm":return i+(n||t?" perc":" perce");case"h":return"egy"+(n||t?" ra":" rja");case"hh":return i+(n||t?" ra":" rja");case"d":return"egy"+(n||t?" nap":" napja");case"dd":return i+(n||t?" nap":" napja");case"M":return"egy"+(n||t?" hnap":" hnapja");case"MM":return i+(n||t?" hnap":" hnapja");case"y":return"egy"+(n||t?" v":" ve");case"yy":return i+(n||t?" v":" ve")}return""}function n(e){return(e?"":"[mlt] ")+"["+t[this.day()]+"] LT[-kor]"}e.defineLocale("hu",{months:"janur_februr_mrcius_prilis_mjus_jnius_jlius_augusztus_szeptember_oktber_november_december".split("_"),monthsShort:"jan_feb_mrc_pr_mj_jn_jl_aug_szept_okt_nov_dec".split("_"),weekdays:"vasrnap_htf_kedd_szerda_cstrtk_pntek_szombat".split("_"),weekdaysShort:"vas_ht_kedd_sze_cst_pn_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"},meridiemParse:/de|du/i,isPM:function(e){return"u"===e.charAt(1).toLowerCase()},meridiem:function(e,t,s){return e<12?!0===s?"de":"DE":!0===s?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return n.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return n.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s mlva",past:"%s",s:s,ss:s,m:s,mm:s,h:s,hh:s,d:s,dd:s,M:s,MM:s,y:s,yy:s},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(s(0))},function(e,t,s){!function(e){"use strict";e.defineLocale("hy-am",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",lastDay:"[] LT",nextWeek:function(){return"dddd [ ] LT"},lastWeek:function(){return"[] dddd [ ] LT"},sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},meridiemParse:/|||/,isPM:function(e){return/^(|)$/.test(e)},meridiem:function(e){return e<4?"":e<12?"":e<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}|\d{1,2}-(|)/,ordinal:function(e,t){switch(t){case"DDD":case"w":case"W":case"DDDo":return 1===e?e+"-":e+"-";default:return e}},week:{dow:1,doy:7}})}(s(0))},function(e,t,s){!function(e){"use strict";e.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Agt_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"siang"===t?e>=11?e:e+12:"sore"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,s){return e<11?"pagi":e<15?"siang":e<19?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",ss:"%d detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(s(0))},function(e,t,s){!function(e){"use strict";function t(e){return e%100==11||e%10!=1}function s(e,s,n,i){var r=e+" ";switch(n){case"s":return s||i?"nokkrar sekndur":"nokkrum sekndum";case"ss":return t(e)?r+(s||i?"sekndur":"sekndum"):r+"seknda";case"m":return s?"mnta":"mntu";case"mm":return t(e)?r+(s||i?"mntur":"mntum"):s?r+"mnta":r+"mntu";case"hh":return t(e)?r+(s||i?"klukkustundir":"klukkustundum"):r+"klukkustund";case"d":return s?"dagur":i?"dag":"degi";case"dd":return t(e)?s?r+"dagar":r+(i?"daga":"dgum"):s?r+"dagur":r+(i?"dag":"degi");case"M":return s?"mnuur":i?"mnu":"mnui";case"MM":return t(e)?s?r+"mnuir":r+(i?"mnui":"mnuum"):s?r+"mnuur":r+(i?"mnu":"mnui");case"y":return s||i?"r":"ri";case"yy":return t(e)?r+(s||i?"r":"rum"):r+(s||i?"r":"ri")}}e.defineLocale("is",{months:"janar_febrar_mars_aprl_ma_jn_jl_gst_september_oktber_nvember_desember".split("_"),monthsShort:"jan_feb_mar_apr_ma_jn_jl_g_sep_okt_nv_des".split("_"),weekdays:"sunnudagur_mnudagur_rijudagur_mivikudagur_fimmtudagur_fstudagur_laugardagur".split("_"),weekdaysShort:"sun_mn_ri_mi_fim_fs_lau".split("_"),weekdaysMin:"Su_M_r_Mi_Fi_F_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd, D. MMMM YYYY [kl.] H:mm"},calendar:{sameDay:"[ dag kl.] LT",nextDay:"[ morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[ gr kl.] LT",lastWeek:"[sasta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s san",s:s,ss:s,m:s,mm:s,h:"klukkustund",hh:s,d:s,dd:s,M:s,MM:s,y:s,yy:s},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(s(0))},function(e,t,s){!function(e){"use strict";e.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned_marted_mercoled_gioved_venerd_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(e){return(/^[0-9].+$/.test(e)?"tra":"in")+" "+e},past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(s(0))},function(e,t,s){!function(e){"use strict";e.defineLocale("it-ch",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned_marted_mercoled_gioved_venerd_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(e){return(/^[0-9].+$/.test(e)?"tra":"in")+" "+e},past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(s(0))},function(e,t,s){!function(e){"use strict";e.defineLocale("ja",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMD dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMD(ddd) HH:mm"},meridiemParse:/|/i,isPM:function(e){return""===e},meridiem:function(e,t,s){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:function(e){return e.week()<this.week()?"[]dddd LT":"dddd LT"},lastDay:"[] LT",lastWeek:function(e){return this.week()<e.week()?"[]dddd LT":"dddd LT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d",m:"1",mm:"%d",h:"1",hh:"%d",d:"1",dd:"%d",M:"1",MM:"%d",y:"1",yy:"%d"}})}(s(0))},function(e,t,s){!function(e){"use strict";e.defineLocale("jv",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),weekdays:"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),weekdaysShort:"Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/enjing|siyang|sonten|ndalu/,meridiemHour:function(e,t){return 12===e&&(e=0),"enjing"===t?e:"siyang"===t?e>=11?e:e+12:"sonten"===t||"ndalu"===t?e+12:void 0},meridiem:function(e,t,s){return e<11?"enjing":e<15?"siyang":e<19?"sonten":"ndalu"},calendar:{sameDay:"[Dinten puniko pukul] LT",nextDay:"[Mbenjang pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kala wingi pukul] LT",lastWeek:"dddd [kepengker pukul] LT",sameElse:"L"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",ss:"%d detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"},week:{dow:1,doy:7}})}(s(0))},function(e,t,s){!function(e){"use strict";e.defineLocale("ka",{months:{standalone:"___________".split("_"),format:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:{standalone:"______".split("_"),format:"______".split("_"),isFormat:/(|)/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[] LT[-]",nextDay:"[] LT[-]",lastDay:"[] LT[-]",nextWeek:"[] dddd LT[-]",lastWeek:"[] dddd LT-",sameElse:"L"},relativeTime:{future:function(e){return/(|||)/.test(e)?e.replace(/$/,""):e+""},past:function(e){return/(||||)/.test(e)?e.replace(/(|)$/," ")://.test(e)?e.replace(/$/," "):void 0},s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/0|1-|-\d{1,2}|\d{1,2}-/,ordinal:function(e){return 0===e?e:1===e?e+"-":e<20||e<=100&&e%20==0||e%100==0?"-"+e:e+"-"},week:{dow:1,doy:7}})}(s(0))},function(e,t,s){!function(e){"use strict";var t={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"};e.defineLocale("kk",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"[ ] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(e){return e+(t[e]||t[e%10]||t[e>=100?100:null])},week:{dow:1,doy:7}})}(s(0))},function(e,t,s){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},s={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("km",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,s){return e<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] [] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",preparse:function(e){return e.replace(/[]/g,(function(e){return s[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},week:{dow:1,doy:4}})}(s(0))},function(e,t,s){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},s={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("kn",{months:"___________".split("_"),monthsShort:"___________".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return s[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,s){return e<4?"":e<10?"":e<17?"":e<20?"":""},dayOfMonthOrdinalParse:/\d{1,2}()/,ordinal:function(e){return e+""},week:{dow:0,doy:6}})}(s(0))},function(e,t,s){!function(e){"use strict";e.defineLocale("ko",{months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY MMMM D",LLL:"YYYY MMMM D A h:mm",LLLL:"YYYY MMMM D dddd A h:mm",l:"YYYY.MM.DD.",ll:"YYYY MMMM D",lll:"YYYY MMMM D A h:mm",llll:"YYYY MMMM D dddd A h:mm"},calendar:{sameDay:" LT",nextDay:" LT",nextWeek:"dddd LT",lastDay:" LT",lastWeek:" dddd LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d",m:"1",mm:"%d",h:" ",hh:"%d",d:"",dd:"%d",M:" ",MM:"%d",y:" ",yy:"%d"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,s){return e<12?"":""}})}(s(0))},function(e,t,s){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},s={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},n=[" ","","","","","","","",""," "," "," "];e.defineLocale("ku",{months:n,monthsShort:n,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return//.test(e)},meridiem:function(e,t,s){return e<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:" ",ss:" %d",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return s[e]})).replace(//g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"")},week:{dow:6,doy:12}})}(s(0))},function(e,t,s){!function(e){"use strict";var t={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"};e.defineLocale("ky",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"[ ] dddd [] [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||)/,ordinal:function(e){return e+(t[e]||t[e%10]||t[e>=100?100:null])},week:{dow:1,doy:7}})}(s(0))},function(e,t,s){!function(e){"use strict";function t(e,t,s,n){var i={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return t?i[s][0]:i[s][1]}function s(e){if(e=parseInt(e,10),isNaN(e))return!1;if(e<0)return!0;if(e<10)return 4<=e&&e<=7;if(e<100){var t=e%10;return s(0===t?e/10:t)}if(e<1e4){for(;e>=10;)e/=10;return s(e)}return s(e/=1e3)}e.defineLocale("lb",{months:"Januar_Februar_Merz_Abrll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonndeg_Mindeg_Dnschdeg_Mttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._M._D._M._Do._Fr._Sa.".split("_"),weekdaysMin:"So_M_D_M_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm [Auer]",LLLL:"dddd, D. MMMM YYYY H:mm [Auer]"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:function(e){return s(e.substr(0,e.indexOf(" ")))?"a "+e:"an "+e},past:function(e){return s(e.substr(0,e.indexOf(" ")))?"viru "+e:"virun "+e},s:"e puer Sekonnen",ss:"%d Sekonnen",m:t,mm:"%d Minutten",h:t,hh:"%d Stonnen",d:t,dd:"%d Deeg",M:t,MM:"%d Mint",y:t,yy:"%d Joer"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(s(0))},function(e,t,s){!function(e){"use strict";e.defineLocale("lo",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,s){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd[] LT",lastDay:"[] LT",lastWeek:"[]dddd[] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},dayOfMonthOrdinalParse:/()\d{1,2}/,ordinal:function(e){return""+e}})}(s(0))},function(e,t,s){!function(e){"use strict";var t={ss:"sekund_sekundi_sekundes",m:"minut_minuts_minut",mm:"minuts_minui_minutes",h:"valanda_valandos_valand",hh:"valandos_valand_valandas",d:"diena_dienos_dien",dd:"dienos_dien_dienas",M:"mnuo_mnesio_mnes",MM:"mnesiai_mnesi_mnesius",y:"metai_met_metus",yy:"metai_met_metus"};function s(e,t,s,n){return t?i(s)[0]:n?i(s)[1]:i(s)[2]}function n(e){return e%10==0||e>10&&e<20}function i(e){return t[e].split("_")}function r(e,t,r,a){var o=e+" ";return 1===e?o+s(0,t,r[0],a):t?o+(n(e)?i(r)[1]:i(r)[0]):a?o+i(r)[1]:o+(n(e)?i(r)[1]:i(r)[2])}e.defineLocale("lt",{months:{format:"sausio_vasario_kovo_balandio_gegus_birelio_liepos_rugpjio_rugsjo_spalio_lapkriio_gruodio".split("_"),standalone:"sausis_vasaris_kovas_balandis_gegu_birelis_liepa_rugpjtis_rugsjis_spalis_lapkritis_gruodis".split("_"),isFormat:/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?|MMMM?(\[[^\[\]]*\]|\s)+D[oD]?/},monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:{format:"sekmadien_pirmadien_antradien_treiadien_ketvirtadien_penktadien_etadien".split("_"),standalone:"sekmadienis_pirmadienis_antradienis_treiadienis_ketvirtadienis_penktadienis_etadienis".split("_"),isFormat:/dddd HH:mm/},weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_e".split("_"),weekdaysMin:"S_P_A_T_K_Pn_".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], HH:mm [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], HH:mm [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]"},calendar:{sameDay:"[iandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Prajus] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prie %s",s:function(e,t,s,n){return t?"kelios sekunds":n?"keli sekundi":"kelias sekundes"},ss:r,m:s,mm:r,h:s,hh:r,d:s,dd:r,M:s,MM:r,y:s,yy:r},dayOfMonthOrdinalParse:/\d{1,2}-oji/,ordinal:function(e){return e+"-oji"},week:{dow:1,doy:4}})}(s(0))},function(e,t,s){!function(e){"use strict";var t={ss:"sekundes_sekundm_sekunde_sekundes".split("_"),m:"mintes_mintm_minte_mintes".split("_"),mm:"mintes_mintm_minte_mintes".split("_"),h:"stundas_stundm_stunda_stundas".split("_"),hh:"stundas_stundm_stunda_stundas".split("_"),d:"dienas_dienm_diena_dienas".split("_"),dd:"dienas_dienm_diena_dienas".split("_"),M:"mnea_mneiem_mnesis_mnei".split("_"),MM:"mnea_mneiem_mnesis_mnei".split("_"),y:"gada_gadiem_gads_gadi".split("_"),yy:"gada_gadiem_gads_gadi".split("_")};function s(e,t,s){return s?t%10==1&&t%100!=11?e[2]:e[3]:t%10==1&&t%100!=11?e[0]:e[1]}function n(e,n,i){return e+" "+s(t[i],e,n)}function i(e,n,i){return s(t[i],e,n)}e.defineLocale("lv",{months:"janvris_februris_marts_aprlis_maijs_jnijs_jlijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_jn_jl_aug_sep_okt_nov_dec".split("_"),weekdays:"svtdiena_pirmdiena_otrdiena_trediena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY.",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, HH:mm",LLLL:"YYYY. [gada] D. MMMM, dddd, HH:mm"},calendar:{sameDay:"[odien pulksten] LT",nextDay:"[Rt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pagju] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"pc %s",past:"pirms %s",s:function(e,t){return t?"daas sekundes":"dam sekundm"},ss:n,m:i,mm:n,h:i,hh:n,d:i,dd:n,M:i,MM:n,y:i,yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(s(0))},function(e,t,s){!function(e){"use strict";var t={words:{ss:["sekund","sekunda","sekundi"],m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mjesec","mjeseca","mjeseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function(e,s,n){var i=t.words[n];return 1===n.length?s?i[0]:i[1]:e+" "+t.correctGrammaticalCase(e,i)}};e.defineLocale("me",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sjutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jue u] LT",lastWeek:function(){return["[prole] [nedjelje] [u] LT","[prolog] [ponedjeljka] [u] LT","[prolog] [utorka] [u] LT","[prole] [srijede] [u] LT","[prolog] [etvrtka] [u] LT","[prolog] [petka] [u] LT","[prole] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"nekoliko sekundi",ss:t.translate,m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"dan",dd:t.translate,M:"mjesec",MM:t.translate,y:"godinu",yy:t.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(s(0))},function(e,t,s){!function(e){"use strict";e.defineLocale("mi",{months:"Kohi-tte_Hui-tanguru_Pout-te-rangi_Paenga-whwh_Haratua_Pipiri_Hngoingoi_Here-turi-kk_Mahuru_Whiringa--nuku_Whiringa--rangi_Hakihea".split("_"),monthsShort:"Kohi_Hui_Pou_Pae_Hara_Pipi_Hngoi_Here_Mahu_Whi-nu_Whi-ra_Haki".split("_"),monthsRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,2}/i,weekdays:"Rtapu_Mane_Trei_Wenerei_Tite_Paraire_Htarei".split("_"),weekdaysShort:"Ta_Ma_T_We_Ti_Pa_H".split("_"),weekdaysMin:"Ta_Ma_T_We_Ti_Pa_H".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [i] HH:mm",LLLL:"dddd, D MMMM YYYY [i] HH:mm"},calendar:{sameDay:"[i teie mahana, i] LT",nextDay:"[apopo i] LT",nextWeek:"dddd [i] LT",lastDay:"[inanahi i] LT",lastWeek:"dddd [whakamutunga i] LT",sameElse:"L"},relativeTime:{future:"i roto i %s",past:"%s i mua",s:"te hkona ruarua",ss:"%d hkona",m:"he meneti",mm:"%d meneti",h:"te haora",hh:"%d haora",d:"he ra",dd:"%d ra",M:"he marama",MM:"%d marama",y:"he tau",yy:"%d tau"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(s(0))},function(e,t,s){!function(e){"use strict";e.defineLocale("mk",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"e_o_____a".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"[] dddd [] LT",lastDay:"[ ] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[] dddd [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||||)/,ordinal:function(e){var t=e%10,s=e%100;return 0===e?e+"-":0===s?e+"-":s>10&&s<20?e+"-":1===t?e+"-":2===t?e+"-":7===t||8===t?e+"-":e+"-"},week:{dow:1,doy:7}})}(s(0))},function(e,t,s){!function(e){"use strict";e.defineLocale("ml",{months:"___________".split("_"),monthsShort:"._._._.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm -",LTS:"A h:mm:ss -",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm -",LLLL:"dddd, D MMMM YYYY, A h:mm -"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},meridiemParse:/|| ||/i,meridiemHour:function(e,t){return 12===e&&(e=0),""===t&&e>=4||" "===t||""===t?e+12:e},meridiem:function(e,t,s){return e<4?"":e<12?"":e<17?" ":e<20?"":""}})}(s(0))},function(e,t,s){!function(e){"use strict";function t(e,t,s,n){switch(s){case"s":return t?" ":" ";case"ss":return e+(t?" ":" ");case"m":case"mm":return e+(t?" ":" ");case"h":case"hh":return e+(t?" ":" ");case"d":case"dd":return e+(t?" ":" ");case"M":case"MM":return e+(t?" ":" ");case"y":case"yy":return e+(t?" ":" ");default:return e}}e.defineLocale("mn",{months:" _ _ _ _ _ _ _ _ _ _  _  ".split("_"),monthsShort:"1 _2 _3 _4 _5 _6 _7 _8 _9 _10 _11 _12 ".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY  MMMM D",LLL:"YYYY  MMMM D HH:mm",LLLL:"dddd, YYYY  MMMM D HH:mm"},meridiemParse:/|/i,isPM:function(e){return""===e},meridiem:function(e,t,s){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd LT",lastDay:"[] LT",lastWeek:"[] dddd LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2} /,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+" ";default:return e}}})}(s(0))},function(e,t,s){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},s={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};function n(e,t,s,n){var i="";if(t)switch(s){case"s":i=" ";break;case"ss":i="%d ";break;case"m":i=" ";break;case"mm":i="%d ";break;case"h":i=" ";break;case"hh":i="%d ";break;case"d":i=" ";break;case"dd":i="%d ";break;case"M":i=" ";break;case"MM":i="%d ";break;case"y":i=" ";break;case"yy":i="%d "}else switch(s){case"s":i=" ";break;case"ss":i="%d ";break;case"m":i=" ";break;case"mm":i="%d ";break;case"h":i=" ";break;case"hh":i="%d ";break;case"d":i=" ";break;case"dd":i="%d ";break;case"M":i=" ";break;case"MM":i="%d ";break;case"y":i=" ";break;case"yy":i="%d "}return i.replace(/%d/i,e)}e.defineLocale("mr",{months:"___________".split("_"),monthsShort:"._._._._._._._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s",s:n,ss:n,m:n,mm:n,h:n,hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},preparse:function(e){return e.replace(/[]/g,(function(e){return s[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,s){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})}(s(0))},function(e,t,s){!function(e){"use strict";e.defineLocale("ms",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"tengahari"===t?e>=11?e:e+12:"petang"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,s){return e<11?"pagi":e<15?"tengahari":e<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(s(0))},function(e,t,s){!function(e){"use strict";e.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"tengahari"===t?e>=11?e:e+12:"petang"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,s){return e<11?"pagi":e<15?"tengahari":e<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(s(0))},function(e,t,s){!function(e){"use strict";e.defineLocale("mt",{months:"Jannar_Frar_Marzu_April_Mejju_unju_Lulju_Awwissu_Settembru_Ottubru_Novembru_Diembru".split("_"),monthsShort:"Jan_Fra_Mar_Apr_Mej_un_Lul_Aww_Set_Ott_Nov_Di".split("_"),weekdays:"Il-add_It-Tnejn_It-Tlieta_L-Erbga_Il-amis_Il-imga_Is-Sibt".split("_"),weekdaysShort:"ad_Tne_Tli_Erb_am_im_Sib".split("_"),weekdaysMin:"a_Tn_Tl_Er_a_i_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Illum fil-]LT",nextDay:"[Gada fil-]LT",nextWeek:"dddd [fil-]LT",lastDay:"[Il-biera fil-]LT",lastWeek:"dddd [li gadda] [fil-]LT",sameElse:"L"},relativeTime:{future:"f %s",past:"%s ilu",s:"ftit sekondi",ss:"%d sekondi",m:"minuta",mm:"%d minuti",h:"siega",hh:"%d siegat",d:"urnata",dd:"%d ranet",M:"xahar",MM:"%d xhur",y:"sena",yy:"%d sni"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(s(0))},function(e,t,s){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},s={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("my",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[.] LT []",nextDay:"[] LT []",nextWeek:"dddd LT []",lastDay:"[.] LT []",lastWeek:"[] dddd LT []",sameElse:"L"},relativeTime:{future:" %s ",past:" %s ",s:".",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return s[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},week:{dow:1,doy:4}})}(s(0))},function(e,t,s){!function(e){"use strict";e.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_april_mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"s._ma._ti._on._to._fr._l.".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i gr kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",ss:"%d sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",M:"en mned",MM:"%d mneder",y:"ett r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(s(0))},function(e,t,s){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},s={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("ne",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"._._._._._._.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},preparse:function(e){return e.replace(/[]/g,(function(e){return s[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,s){return e<3?"":e<12?"":e<16?"":e<20?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd[,] LT",lastDay:"[] LT",lastWeek:"[] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},week:{dow:0,doy:6}})}(s(0))},function(e,t,s){!function(e){"use strict";var t="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),s="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),n=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],i=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;e.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,n){return e?/-MMM-/.test(n)?s[e.month()]:t[e.month()]:t},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:n,longMonthsParse:n,shortMonthsParse:n,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}(s(0))},function(e,t,s){!function(e){"use strict";var t="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),s="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),n=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],i=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;e.defineLocale("nl-be",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,n){return e?/-MMM-/.test(n)?s[e.month()]:t[e.month()]:t},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:n,longMonthsParse:n,shortMonthsParse:n,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}(s(0))},function(e,t,s){!function(e){"use strict";e.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sundag_mndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"sun_mn_tys_ons_tor_fre_lau".split("_"),weekdaysMin:"su_m_ty_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I gr klokka] LT",lastWeek:"[Fregande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s sidan",s:"nokre sekund",ss:"%d sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",M:"ein mnad",MM:"%d mnader",y:"eit r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(s(0))},function(e,t,s){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},s={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("pa-in",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return s[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,s){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})}(s(0))},function(e,t,s){!function(e){"use strict";var t="stycze_luty_marzec_kwiecie_maj_czerwiec_lipiec_sierpie_wrzesie_padziernik_listopad_grudzie".split("_"),s="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrzenia_padziernika_listopada_grudnia".split("_");function n(e){return e%10<5&&e%10>1&&~~(e/10)%10!=1}function i(e,t,s){var i=e+" ";switch(s){case"ss":return i+(n(e)?"sekundy":"sekund");case"m":return t?"minuta":"minut";case"mm":return i+(n(e)?"minuty":"minut");case"h":return t?"godzina":"godzin";case"hh":return i+(n(e)?"godziny":"godzin");case"MM":return i+(n(e)?"miesice":"miesicy");case"yy":return i+(n(e)?"lata":"lat")}}e.defineLocale("pl",{months:function(e,n){return e?""===n?"("+s[e.month()]+"|"+t[e.month()]+")":/D MMMM/.test(n)?s[e.month()]:t[e.month()]:t},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa_lis_gru".split("_"),weekdays:"niedziela_poniedziaek_wtorek_roda_czwartek_pitek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_r_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_r_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dzi o] LT",nextDay:"[Jutro o] LT",nextWeek:function(){switch(this.day()){case 0:return"[W niedziel o] LT";case 2:return"[We wtorek o] LT";case 3:return"[W rod o] LT";case 6:return"[W sobot o] LT";default:return"[W] dddd [o] LT"}},lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zesz niedziel o] LT";case 3:return"[W zesz rod o] LT";case 6:return"[W zesz sobot o] LT";default:return"[W zeszy] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",ss:i,m:i,mm:i,h:i,hh:i,d:"1 dzie",dd:"%d dni",M:"miesic",MM:i,y:"rok",yy:i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(s(0))},function(e,t,s){!function(e){"use strict";e.defineLocale("pt",{months:"Janeiro_Fevereiro_Maro_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingo_Segunda-feira_Tera-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sbado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sb".split("_"),weekdaysMin:"Do_2_3_4_5_6_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h %s",s:"segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(s(0))},function(e,t,s){!function(e){"use strict";e.defineLocale("pt-br",{months:"Janeiro_Fevereiro_Maro_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingo_Segunda-feira_Tera-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sbado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sb".split("_"),weekdaysMin:"Do_2_3_4_5_6_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [s] HH:mm"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h %s",s:"poucos segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d"})}(s(0))},function(e,t,s){!function(e){"use strict";function t(e,t,s){var n=" ";return(e%100>=20||e>=100&&e%100==0)&&(n=" de "),e+n+{ss:"secunde",mm:"minute",hh:"ore",dd:"zile",MM:"luni",yy:"ani"}[s]}e.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._febr._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"duminic_luni_mari_miercuri_joi_vineri_smbt".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_Sm".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_S".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[mine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s n urm",s:"cteva secunde",ss:t,m:"un minut",mm:t,h:"o or",hh:t,d:"o zi",dd:t,M:"o lun",MM:t,y:"un an",yy:t},week:{dow:1,doy:7}})}(s(0))},function(e,t,s){!function(e){"use strict";function t(e,t,s){var n,i;return"m"===s?t?"":"":e+" "+(n=+e,i={ss:t?"__":"__",mm:t?"__":"__",hh:"__",dd:"__",MM:"__",yy:"__"}[s].split("_"),n%10==1&&n%100!=11?i[0]:n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?i[1]:i[2])}var s=[/^/i,/^/i,/^/i,/^/i,/^[]/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i];e.defineLocale("ru",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:{format:"._._._.____._._._._.".split("_"),standalone:"._.__.____._._._._.".split("_")},weekdays:{standalone:"______".split("_"),format:"______".split("_"),isFormat:/\[ ?[] ?(?:||)? ?\] ?dddd/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),monthsParse:s,longMonthsParse:s,shortMonthsParse:s,monthsRegex:/^([]|\.?|[]|?\.?|?|\.?|[]|\.?|[]|[]|\.?|[]|\.?|?|\.?|[]|?\.?|[]|\.?|[]|?\.?|[]|\.?)/i,monthsShortRegex:/^([]|\.?|[]|?\.?|?|\.?|[]|\.?|[]|[]|\.?|[]|\.?|?|\.?|[]|?\.?|[]|\.?|[]|?\.?|[]|\.?)/i,monthsStrictRegex:/^([]|[]|?|[]|[]|[]|[]|?|[]|[]|[]|[])/i,monthsShortStrictRegex:/^(\.|?\.|[.]|\.|[]|[.]|[.]|\.|?\.|\.|?\.|\.)/i,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., H:mm",LLLL:"dddd, D MMMM YYYY ., H:mm"},calendar:{sameDay:"[, ] LT",nextDay:"[, ] LT",lastDay:"[, ] LT",nextWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[] dddd, [] LT":"[] dddd, [] LT";switch(this.day()){case 0:return"[ ] dddd, [] LT";case 1:case 2:case 4:return"[ ] dddd, [] LT";case 3:case 5:case 6:return"[ ] dddd, [] LT"}},lastWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[] dddd, [] LT":"[] dddd, [] LT";switch(this.day()){case 0:return"[ ] dddd, [] LT";case 1:case 2:case 4:return"[ ] dddd, [] LT";case 3:case 5:case 6:return"[ ] dddd, [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:t,m:t,mm:t,h:"",hh:t,d:"",dd:t,M:"",MM:t,y:"",yy:t},meridiemParse:/|||/i,isPM:function(e){return/^(|)$/.test(e)},meridiem:function(e,t,s){return e<4?"":e<12?"":e<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(||)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":return e+"-";case"D":return e+"-";case"w":case"W":return e+"-";default:return e}},week:{dow:1,doy:4}})}(s(0))},function(e,t,s){!function(e){"use strict";var t=["","","","","","","","","","","",""],s=["","","","","","",""];e.defineLocale("sd",{months:t,monthsShort:t,weekdays:s,weekdaysShort:s,weekdaysMin:s,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,s){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd [  ] LT",lastDay:"[] LT",lastWeek:"[ ] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(//g,",")},postformat:function(e){return e.replace(/,/g,"")},week:{dow:1,doy:4}})}(s(0))},function(e,t,s){!function(e){"use strict";e.defineLocale("se",{months:"oajagemnnu_guovvamnnu_njukamnnu_cuoomnnu_miessemnnu_geassemnnu_suoidnemnnu_borgemnnu_akamnnu_golggotmnnu_skbmamnnu_juovlamnnu".split("_"),monthsShort:"oj_guov_njuk_cuo_mies_geas_suoi_borg_ak_golg_skb_juov".split("_"),weekdays:"sotnabeaivi_vuossrga_maebrga_gaskavahkku_duorastat_bearjadat_lvvardat".split("_"),weekdaysShort:"sotn_vuos_ma_gask_duor_bear_lv".split("_"),weekdaysMin:"s_v_m_g_d_b_L".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"MMMM D. [b.] YYYY",LLL:"MMMM D. [b.] YYYY [ti.] HH:mm",LLLL:"dddd, MMMM D. [b.] YYYY [ti.] HH:mm"},calendar:{sameDay:"[otne ti] LT",nextDay:"[ihttin ti] LT",nextWeek:"dddd [ti] LT",lastDay:"[ikte ti] LT",lastWeek:"[ovddit] dddd [ti] LT",sameElse:"L"},relativeTime:{future:"%s geaes",past:"mait %s",s:"moadde sekunddat",ss:"%d sekunddat",m:"okta minuhta",mm:"%d minuhtat",h:"okta diimmu",hh:"%d diimmut",d:"okta beaivi",dd:"%d beaivvit",M:"okta mnnu",MM:"%d mnut",y:"okta jahki",yy:"%d jagit"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(s(0))},function(e,t,s){!function(e){"use strict";e.defineLocale("si",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"a h:mm",LTS:"a h:mm:ss",L:"YYYY/MM/DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D, a h:mm",LLLL:"YYYY MMMM D [] dddd, a h:mm:ss"},calendar:{sameDay:"[] LT[]",nextDay:"[] LT[]",nextWeek:"dddd LT[]",lastDay:"[] LT[]",lastWeek:"[] dddd LT[]",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:" ",ss:" %d",m:"",mm:" %d",h:"",hh:" %d",d:"",dd:" %d",M:"",MM:" %d",y:"",yy:" %d"},dayOfMonthOrdinalParse:/\d{1,2} /,ordinal:function(e){return e+" "},meridiemParse:/ | |.|../,isPM:function(e){return".."===e||" "===e},meridiem:function(e,t,s){return e>11?s?"..":" ":s?"..":" "}})}(s(0))},function(e,t,s){!function(e){"use strict";var t="janur_februr_marec_aprl_mj_jn_jl_august_september_oktber_november_december".split("_"),s="jan_feb_mar_apr_mj_jn_jl_aug_sep_okt_nov_dec".split("_");function n(e){return e>1&&e<5}function i(e,t,s,i){var r=e+" ";switch(s){case"s":return t||i?"pr seknd":"pr sekundami";case"ss":return t||i?r+(n(e)?"sekundy":"seknd"):r+"sekundami";case"m":return t?"minta":i?"mintu":"mintou";case"mm":return t||i?r+(n(e)?"minty":"mint"):r+"mintami";case"h":return t?"hodina":i?"hodinu":"hodinou";case"hh":return t||i?r+(n(e)?"hodiny":"hodn"):r+"hodinami";case"d":return t||i?"de":"dom";case"dd":return t||i?r+(n(e)?"dni":"dn"):r+"dami";case"M":return t||i?"mesiac":"mesiacom";case"MM":return t||i?r+(n(e)?"mesiace":"mesiacov"):r+"mesiacmi";case"y":return t||i?"rok":"rokom";case"yy":return t||i?r+(n(e)?"roky":"rokov"):r+"rokmi"}}e.defineLocale("sk",{months:t,monthsShort:s,weekdays:"nedea_pondelok_utorok_streda_tvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_t_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_t_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedeu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo tvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[vera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minul nedeu o] LT";case 1:case 2:return"[minul] dddd [o] LT";case 3:return"[minul stredu o] LT";case 4:case 5:return"[minul] dddd [o] LT";case 6:return"[minul sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:i,ss:i,m:i,mm:i,h:i,hh:i,d:i,dd:i,M:i,MM:i,y:i,yy:i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(s(0))},function(e,t,s){!function(e){"use strict";function t(e,t,s,n){var i=e+" ";switch(s){case"s":return t||n?"nekaj sekund":"nekaj sekundami";case"ss":return i+=1===e?t?"sekundo":"sekundi":2===e?t||n?"sekundi":"sekundah":e<5?t||n?"sekunde":"sekundah":"sekund";case"m":return t?"ena minuta":"eno minuto";case"mm":return i+=1===e?t?"minuta":"minuto":2===e?t||n?"minuti":"minutama":e<5?t||n?"minute":"minutami":t||n?"minut":"minutami";case"h":return t?"ena ura":"eno uro";case"hh":return i+=1===e?t?"ura":"uro":2===e?t||n?"uri":"urama":e<5?t||n?"ure":"urami":t||n?"ur":"urami";case"d":return t||n?"en dan":"enim dnem";case"dd":return i+=1===e?t||n?"dan":"dnem":2===e?t||n?"dni":"dnevoma":t||n?"dni":"dnevi";case"M":return t||n?"en mesec":"enim mesecem";case"MM":return i+=1===e?t||n?"mesec":"mesecem":2===e?t||n?"meseca":"mesecema":e<5?t||n?"mesece":"meseci":t||n?"mesecev":"meseci";case"y":return t||n?"eno leto":"enim letom";case"yy":return i+=1===e?t||n?"leto":"letom":2===e?t||n?"leti":"letoma":e<5?t||n?"leta":"leti":t||n?"let":"leti"}}e.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljek_torek_sreda_etrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._et._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_e_pe_so".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[veraj ob] LT",lastWeek:function(){switch(this.day()){case 0:return"[prejnjo] [nedeljo] [ob] LT";case 3:return"[prejnjo] [sredo] [ob] LT";case 6:return"[prejnjo] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[prejnji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"ez %s",past:"pred %s",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(s(0))},function(e,t,s){!function(e){"use strict";e.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_Nntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_Nn_Dhj".split("_"),weekdays:"E Diel_E Hn_E Mart_E Mrkur_E Enjte_E Premte_E Shtun".split("_"),weekdaysShort:"Die_Hn_Mar_Mr_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_M_E_P_Sh".split("_"),weekdaysParseExact:!0,meridiemParse:/PD|MD/,isPM:function(e){return"M"===e.charAt(0)},meridiem:function(e,t,s){return e<12?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Sot n] LT",nextDay:"[Nesr n] LT",nextWeek:"dddd [n] LT",lastDay:"[Dje n] LT",lastWeek:"dddd [e kaluar n] LT",sameElse:"L"},relativeTime:{future:"n %s",past:"%s m par",s:"disa sekonda",ss:"%d sekonda",m:"nj minut",mm:"%d minuta",h:"nj or",hh:"%d or",d:"nj dit",dd:"%d dit",M:"nj muaj",MM:"%d muaj",y:"nj vit",yy:"%d vite"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(s(0))},function(e,t,s){!function(e){"use strict";var t={words:{ss:["sekunda","sekunde","sekundi"],m:["jedan minut","jedne minute"],mm:["minut","minute","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mesec","meseca","meseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function(e,s,n){var i=t.words[n];return 1===n.length?s?i[0]:i[1]:e+" "+t.correctGrammaticalCase(e,i)}};e.defineLocale("sr",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljak_utorak_sreda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sre._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jue u] LT",lastWeek:function(){return["[prole] [nedelje] [u] LT","[prolog] [ponedeljka] [u] LT","[prolog] [utorka] [u] LT","[prole] [srede] [u] LT","[prolog] [etvrtka] [u] LT","[prolog] [petka] [u] LT","[prole] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",ss:t.translate,m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"dan",dd:t.translate,M:"mesec",MM:t.translate,y:"godinu",yy:t.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(s(0))},function(e,t,s){!function(e){"use strict";var t={words:{ss:["","",""],m:[" "," "],mm:["","",""],h:[" "," "],hh:["","",""],dd:["","",""],MM:["","",""],yy:["","",""]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function(e,s,n){var i=t.words[n];return 1===n.length?s?i[0]:i[1]:e+" "+t.correctGrammaticalCase(e,i)}};e.defineLocale("sr-cyrl",{months:"___________".split("_"),monthsShort:"._._._.____._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:function(){switch(this.day()){case 0:return"[] [] [] LT";case 3:return"[] [] [] LT";case 6:return"[] [] [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},lastDay:"[ ] LT",lastWeek:function(){return["[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT"][this.day()]},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:t.translate,m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"",dd:t.translate,M:"",MM:t.translate,y:"",yy:t.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(s(0))},function(e,t,s){!function(e){"use strict";e.defineLocale("ss",{months:"Bhimbidvwane_Indlovana_Indlov'lenkhulu_Mabasa_Inkhwekhweti_Inhlaba_Kholwane_Ingci_Inyoni_Imphala_Lweti_Ingongoni".split("_"),monthsShort:"Bhi_Ina_Inu_Mab_Ink_Inh_Kho_Igc_Iny_Imp_Lwe_Igo".split("_"),weekdays:"Lisontfo_Umsombuluko_Lesibili_Lesitsatfu_Lesine_Lesihlanu_Umgcibelo".split("_"),weekdaysShort:"Lis_Umb_Lsb_Les_Lsi_Lsh_Umg".split("_"),weekdaysMin:"Li_Us_Lb_Lt_Ls_Lh_Ug".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Namuhla nga] LT",nextDay:"[Kusasa nga] LT",nextWeek:"dddd [nga] LT",lastDay:"[Itolo nga] LT",lastWeek:"dddd [leliphelile] [nga] LT",sameElse:"L"},relativeTime:{future:"nga %s",past:"wenteka nga %s",s:"emizuzwana lomcane",ss:"%d mzuzwana",m:"umzuzu",mm:"%d emizuzu",h:"lihora",hh:"%d emahora",d:"lilanga",dd:"%d emalanga",M:"inyanga",MM:"%d tinyanga",y:"umnyaka",yy:"%d iminyaka"},meridiemParse:/ekuseni|emini|entsambama|ebusuku/,meridiem:function(e,t,s){return e<11?"ekuseni":e<15?"emini":e<19?"entsambama":"ebusuku"},meridiemHour:function(e,t){return 12===e&&(e=0),"ekuseni"===t?e:"emini"===t?e>=11?e:e+12:"entsambama"===t||"ebusuku"===t?0===e?0:e+12:void 0},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(s(0))},function(e,t,s){!function(e){"use strict";e.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mndag_tisdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_mn_tis_ons_tor_fre_lr".split("_"),weekdaysMin:"s_m_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Igr] LT",nextWeek:"[P] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"fr %s sedan",s:"ngra sekunder",ss:"%d sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en mnad",MM:"%d mnader",y:"ett r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}(e|a)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"e":1===t?"a":2===t?"a":"e")},week:{dow:1,doy:4}})}(s(0))},function(e,t,s){!function(e){"use strict";e.defineLocale("sw",{months:"Januari_Februari_Machi_Aprili_Mei_Juni_Julai_Agosti_Septemba_Oktoba_Novemba_Desemba".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ago_Sep_Okt_Nov_Des".split("_"),weekdays:"Jumapili_Jumatatu_Jumanne_Jumatano_Alhamisi_Ijumaa_Jumamosi".split("_"),weekdaysShort:"Jpl_Jtat_Jnne_Jtan_Alh_Ijm_Jmos".split("_"),weekdaysMin:"J2_J3_J4_J5_Al_Ij_J1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[leo saa] LT",nextDay:"[kesho saa] LT",nextWeek:"[wiki ijayo] dddd [saat] LT",lastDay:"[jana] LT",lastWeek:"[wiki iliyopita] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s baadaye",past:"tokea %s",s:"hivi punde",ss:"sekunde %d",m:"dakika moja",mm:"dakika %d",h:"saa limoja",hh:"masaa %d",d:"siku moja",dd:"masiku %d",M:"mwezi mmoja",MM:"miezi %d",y:"mwaka mmoja",yy:"miaka %d"},week:{dow:1,doy:7}})}(s(0))},function(e,t,s){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},s={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("ta",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, HH:mm",LLLL:"dddd, D MMMM YYYY, HH:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[ ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",ss:"%d ",m:" ",mm:"%d ",h:"  ",hh:"%d  ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e+""},preparse:function(e){return e.replace(/[]/g,(function(e){return s[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/|||||/,meridiem:function(e,t,s){return e<2?" ":e<6?" ":e<10?" ":e<14?" ":e<18?" ":e<22?" ":" "},meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<2?e:e+12:""===t||""===t?e:""===t&&e>=10?e:e+12},week:{dow:0,doy:6}})}(s(0))},function(e,t,s){!function(e){"use strict";e.defineLocale("te",{months:"___________".split("_"),monthsShort:"._.__.____._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,s){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})}(s(0))},function(e,t,s){!function(e){"use strict";e.defineLocale("tet",{months:"Janeiru_Fevereiru_Marsu_Abril_Maiu_Juu_Jullu_Agustu_Setembru_Outubru_Novembru_Dezembru".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingu_Segunda_Tersa_Kuarta_Kinta_Sesta_Sabadu".split("_"),weekdaysShort:"Dom_Seg_Ters_Kua_Kint_Sest_Sab".split("_"),weekdaysMin:"Do_Seg_Te_Ku_Ki_Ses_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Ohin iha] LT",nextDay:"[Aban iha] LT",nextWeek:"dddd [iha] LT",lastDay:"[Horiseik iha] LT",lastWeek:"dddd [semana kotuk] [iha] LT",sameElse:"L"},relativeTime:{future:"iha %s",past:"%s liuba",s:"minutu balun",ss:"minutu %d",m:"minutu ida",mm:"minutu %d",h:"oras ida",hh:"oras %d",d:"loron ida",dd:"loron %d",M:"fulan ida",MM:"fulan %d",y:"tinan ida",yy:"tinan %d"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(s(0))},function(e,t,s){!function(e){"use strict";var t={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",12:"-",13:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"};e.defineLocale("tg",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:"dddd[] [  ] LT",lastWeek:"dddd[] [  ] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=11?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,s){return e<4?"":e<11?"":e<16?"":e<19?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(e){return e+(t[e]||t[e%10]||t[e>=100?100:null])},week:{dow:1,doy:7}})}(s(0))},function(e,t,s){!function(e){"use strict";e.defineLocale("th",{months:"___________".split("_"),monthsShort:".._.._.._.._.._.._.._.._.._.._.._..".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"._._._._._._.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY  H:mm",LLLL:"dddd D MMMM YYYY  H:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,s){return e<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd[ ] LT",lastDay:"[ ] LT",lastWeek:"[]dddd[ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}})}(s(0))},function(e,t,s){!function(e){"use strict";e.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}})}(s(0))},function(e,t,s){!function(e){"use strict";var t="pagh_wa_cha_wej_loS_vagh_jav_Soch_chorgh_Hut".split("_");function s(e,s,n,i){var r=function(e){var s=Math.floor(e%1e3/100),n=Math.floor(e%100/10),i=e%10,r="";return s>0&&(r+=t[s]+"vatlh"),n>0&&(r+=(""!==r?" ":"")+t[n]+"maH"),i>0&&(r+=(""!==r?" ":"")+t[i]),""===r?"pagh":r}(e);switch(n){case"ss":return r+" lup";case"mm":return r+" tup";case"hh":return r+" rep";case"dd":return r+" jaj";case"MM":return r+" jar";case"yy":return r+" DIS"}}e.defineLocale("tlh",{months:"tera jar wa_tera jar cha_tera jar wej_tera jar loS_tera jar vagh_tera jar jav_tera jar Soch_tera jar chorgh_tera jar Hut_tera jar wamaH_tera jar wamaH wa_tera jar wamaH cha".split("_"),monthsShort:"jar wa_jar cha_jar wej_jar loS_jar vagh_jar jav_jar Soch_jar chorgh_jar Hut_jar wamaH_jar wamaH wa_jar wamaH cha".split("_"),monthsParseExact:!0,weekdays:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysShort:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysMin:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[DaHjaj] LT",nextDay:"[waleS] LT",nextWeek:"LLL",lastDay:"[waHu] LT",lastWeek:"LLL",sameElse:"L"},relativeTime:{future:function(e){var t=e;return t=-1!==e.indexOf("jaj")?t.slice(0,-3)+"leS":-1!==e.indexOf("jar")?t.slice(0,-3)+"waQ":-1!==e.indexOf("DIS")?t.slice(0,-3)+"nem":t+" pIq"},past:function(e){var t=e;return t=-1!==e.indexOf("jaj")?t.slice(0,-3)+"Hu":-1!==e.indexOf("jar")?t.slice(0,-3)+"wen":-1!==e.indexOf("DIS")?t.slice(0,-3)+"ben":t+" ret"},s:"puS lup",ss:s,m:"wa tup",mm:s,h:"wa rep",hh:s,d:"wa jaj",dd:s,M:"wa jar",MM:s,y:"wa DIS",yy:s},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(s(0))},function(e,t,s){!function(e){"use strict";var t={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'nc",4:"'nc",100:"'nc",6:"'nc",9:"'uncu",10:"'uncu",30:"'uncu",60:"'nc",90:"'nc"};e.defineLocale("tr",{months:"Ocak_ubat_Mart_Nisan_Mays_Haziran_Temmuz_Austos_Eyll_Ekim_Kasm_Aralk".split("_"),monthsShort:"Oca_ub_Mar_Nis_May_Haz_Tem_Au_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Sal_aramba_Perembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_ar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_a_Pe_Cu_Ct".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[yarn saat] LT",nextWeek:"[gelecek] dddd [saat] LT",lastDay:"[dn] LT",lastWeek:"[geen] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s nce",s:"birka saniye",ss:"%d saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",M:"bir ay",MM:"%d ay",y:"bir yl",yy:"%d yl"},ordinal:function(e,s){switch(s){case"d":case"D":case"Do":case"DD":return e;default:if(0===e)return e+"'nc";var n=e%10;return e+(t[n]||t[e%100-n]||t[e>=100?100:null])}},week:{dow:1,doy:7}})}(s(0))},function(e,t,s){!function(e){"use strict";function t(e,t,s,n){var i={s:["viensas secunds","'iensas secunds"],ss:[e+" secunds",e+" secunds"],m:["'n mut","'iens mut"],mm:[e+" muts",e+" muts"],h:["'n ora","'iensa ora"],hh:[e+" oras",e+" oras"],d:["'n ziua","'iensa ziua"],dd:[e+" ziuas",e+" ziuas"],M:["'n mes","'iens mes"],MM:[e+" mesen",e+" mesen"],y:["'n ar","'iens ar"],yy:[e+" ars",e+" ars"]};return n?i[s][0]:t?i[s][0]:i[s][1]}e.defineLocale("tzl",{months:"Januar_Fevraglh_Mar_Avru_Mai_Gn_Julia_Guscht_Setemvar_Listopts_Noemvar_Zecemvar".split("_"),monthsShort:"Jan_Fev_Mar_Avr_Mai_Gn_Jul_Gus_Set_Lis_Noe_Zec".split("_"),weekdays:"Sladi_Lnei_Maitzi_Mrcuri_Xhadi_Vineri_Sturi".split("_"),weekdaysShort:"Sl_Ln_Mai_Mr_Xh_Vi_St".split("_"),weekdaysMin:"S_L_Ma_M_Xh_Vi_S".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM [dallas] YYYY",LLL:"D. MMMM [dallas] YYYY HH.mm",LLLL:"dddd, [li] D. MMMM [dallas] YYYY HH.mm"},meridiemParse:/d\'o|d\'a/i,isPM:function(e){return"d'o"===e.toLowerCase()},meridiem:function(e,t,s){return e>11?s?"d'o":"D'O":s?"d'a":"D'A"},calendar:{sameDay:"[oxhi ] LT",nextDay:"[dem ] LT",nextWeek:"dddd [] LT",lastDay:"[ieiri ] LT",lastWeek:"[sr el] dddd [lasteu ] LT",sameElse:"L"},relativeTime:{future:"osprei %s",past:"ja%s",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(s(0))},function(e,t,s){!function(e){"use strict";e.defineLocale("tzm",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] LT",sameElse:"L"},relativeTime:{future:"   %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d o",M:"o",MM:"%d ",y:"",yy:"%d "},week:{dow:6,doy:12}})}(s(0))},function(e,t,s){!function(e){"use strict";e.defineLocale("tzm-latn",{months:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",ss:"%d imik",m:"minu",mm:"%d minu",h:"saa",hh:"%d tassain",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}})}(s(0))},function(e,t,s){!function(e){"use strict";e.defineLocale("ug-cn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY-M-D-",LLL:"YYYY-M-D- HH:mm",LLLL:"dddd YYYY-M-D- HH:mm"},meridiemParse:/ || || |/,meridiemHour:function(e,t){return 12===e&&(e=0)," "===t||""===t||" "===t?e:" "===t||""===t?e+12:e>=11?e:e+12},meridiem:function(e,t,s){var n=100*e+t;return n<600?" ":n<900?"":n<1130?" ":n<1230?"":n<1800?" ":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"[] dddd [] LT",lastDay:"[] LT",lastWeek:"[] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}(-|-|-)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"-";case"w":case"W":return e+"-";default:return e}},preparse:function(e){return e.replace(//g,",")},postformat:function(e){return e.replace(/,/g,"")},week:{dow:1,doy:7}})}(s(0))},function(e,t,s){!function(e){"use strict";function t(e,t,s){var n,i;return"m"===s?t?"":"":"h"===s?t?"":"":e+" "+(n=+e,i={ss:t?"__":"__",mm:t?"__":"__",hh:t?"__":"__",dd:"__",MM:"__",yy:"__"}[s].split("_"),n%10==1&&n%100!=11?i[0]:n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?i[1]:i[2])}function s(e){return function(){return e+""+(11===this.hours()?"":"")+"] LT"}}e.defineLocale("uk",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:function(e,t){var s={nominative:"______".split("_"),accusative:"______".split("_"),genitive:"______".split("_")};return!0===e?s.nominative.slice(1,7).concat(s.nominative.slice(0,1)):e?s[/(\[[]\]) ?dddd/.test(t)?"accusative":/\[?(?:|)? ?\] ?dddd/.test(t)?"genitive":"nominative"][e.day()]:s.nominative},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:s("[ "),nextDay:s("[ "),lastDay:s("[ "),nextWeek:s("[] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return s("[] dddd [").call(this);case 1:case 2:case 4:return s("[] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:t,m:t,mm:t,h:"",hh:t,d:"",dd:t,M:"",MM:t,y:"",yy:t},meridiemParse:/|||/,isPM:function(e){return/^(|)$/.test(e)},meridiem:function(e,t,s){return e<4?"":e<12?"":e<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e+"-";case"D":return e+"-";default:return e}},week:{dow:1,doy:7}})}(s(0))},function(e,t,s){!function(e){"use strict";var t=["","","","","","","","","","","",""],s=["","","","","","",""];e.defineLocale("ur",{months:t,monthsShort:t,weekdays:s,weekdaysShort:s,weekdaysMin:s,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,s){return e<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[  ] LT",lastWeek:"[] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(//g,",")},postformat:function(e){return e.replace(/,/g,"")},week:{dow:1,doy:4}})}(s(0))},function(e,t,s){!function(e){"use strict";e.defineLocale("uz",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[ ] LT []",nextDay:"[] LT []",nextWeek:"dddd [ ] LT []",lastDay:"[ ] LT []",lastWeek:"[] dddd [ ] LT []",sameElse:"L"},relativeTime:{future:" %s ",past:"  %s ",s:"",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},week:{dow:1,doy:7}})}(s(0))},function(e,t,s){!function(e){"use strict";e.defineLocale("uz-latn",{months:"Yanvar_Fevral_Mart_Aprel_May_Iyun_Iyul_Avgust_Sentabr_Oktabr_Noyabr_Dekabr".split("_"),monthsShort:"Yan_Fev_Mar_Apr_May_Iyun_Iyul_Avg_Sen_Okt_Noy_Dek".split("_"),weekdays:"Yakshanba_Dushanba_Seshanba_Chorshanba_Payshanba_Juma_Shanba".split("_"),weekdaysShort:"Yak_Dush_Sesh_Chor_Pay_Jum_Shan".split("_"),weekdaysMin:"Ya_Du_Se_Cho_Pa_Ju_Sha".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Bugun soat] LT [da]",nextDay:"[Ertaga] LT [da]",nextWeek:"dddd [kuni soat] LT [da]",lastDay:"[Kecha soat] LT [da]",lastWeek:"[O'tgan] dddd [kuni soat] LT [da]",sameElse:"L"},relativeTime:{future:"Yaqin %s ichida",past:"Bir necha %s oldin",s:"soniya",ss:"%d soniya",m:"bir daqiqa",mm:"%d daqiqa",h:"bir soat",hh:"%d soat",d:"bir kun",dd:"%d kun",M:"bir oy",MM:"%d oy",y:"bir yil",yy:"%d yil"},week:{dow:1,doy:7}})}(s(0))},function(e,t,s){!function(e){"use strict";e.defineLocale("vi",{months:"thng 1_thng 2_thng 3_thng 4_thng 5_thng 6_thng 7_thng 8_thng 9_thng 10_thng 11_thng 12".split("_"),monthsShort:"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),monthsParseExact:!0,weekdays:"ch nht_th hai_th ba_th t_th nm_th su_th by".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysParseExact:!0,meridiemParse:/sa|ch/i,isPM:function(e){return/^ch$/i.test(e)},meridiem:function(e,t,s){return e<12?s?"sa":"SA":s?"ch":"CH"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [nm] YYYY",LLL:"D MMMM [nm] YYYY HH:mm",LLLL:"dddd, D MMMM [nm] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[Hm nay lc] LT",nextDay:"[Ngy mai lc] LT",nextWeek:"dddd [tun ti lc] LT",lastDay:"[Hm qua lc] LT",lastWeek:"dddd [tun ri lc] LT",sameElse:"L"},relativeTime:{future:"%s ti",past:"%s trc",s:"vi giy",ss:"%d giy",m:"mt pht",mm:"%d pht",h:"mt gi",hh:"%d gi",d:"mt ngy",dd:"%d ngy",M:"mt thng",MM:"%d thng",y:"mt nm",yy:"%d nm"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}})}(s(0))},function(e,t,s){!function(e){"use strict";e.defineLocale("x-pseudo",{months:"J~~r_F~br~r_~Mrc~h_p~rl_~M_~J~_Jl~_~gst~_Sp~tmb~r_~ctb~r_~vm~br_~Dc~mbr".split("_"),monthsShort:"J~_~Fb_~Mr_~pr_~M_~J_~Jl_~g_~Sp_~ct_~v_~Dc".split("_"),monthsParseExact:!0,weekdays:"S~d~_M~d~_T~sd~_Wd~sd~_T~hrs~d_~Frd~_S~tr~d".split("_"),weekdaysShort:"S~_~M_~T_~Wd_~Th_~Fr_~St".split("_"),weekdaysMin:"S~_M~_T_~W_T~h_Fr~_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[T~d~ t] LT",nextDay:"[T~m~rr~w t] LT",nextWeek:"dddd [t] LT",lastDay:"[~st~rd~ t] LT",lastWeek:"[L~st] dddd [t] LT",sameElse:"L"},relativeTime:{future:"~ %s",past:"%s ~g",s:" ~fw ~sc~ds",ss:"%d s~c~ds",m:" ~m~t",mm:"%d m~~ts",h:"~ h~r",hh:"%d h~rs",d:" ~d",dd:"%d d~s",M:" ~m~th",MM:"%d m~t~hs",y:" ~r",yy:"%d ~rs"},dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(s(0))},function(e,t,s){!function(e){"use strict";e.defineLocale("yo",{months:"Sr_Erele_rna_Igbe_Ebibi_Okudu_Agmo_Ogun_Owewe_wara_Belu_p".split("_"),monthsShort:"Sr_Erl_rn_Igb_Ebi_Oku_Ag_Ogu_Owe_wa_Bel_p".split("_"),weekdays:"Aiku_Aje_Isgun_jru_jb_ti_Abamta".split("_"),weekdaysShort:"Aik_Aje_Is_jr_jb_ti_Aba".split("_"),weekdaysMin:"Ai_Aj_Is_r_b_t_Ab".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Oni ni] LT",nextDay:"[la ni] LT",nextWeek:"dddd [s ton'b] [ni] LT",lastDay:"[Ana ni] LT",lastWeek:"dddd [s tol] [ni] LT",sameElse:"L"},relativeTime:{future:"ni %s",past:"%s kja",s:"isju aaya die",ss:"aaya %d",m:"isju kan",mm:"isju %d",h:"wakati kan",hh:"wakati %d",d:"j kan",dd:"j %d",M:"osu kan",MM:"osu %d",y:"dun kan",yy:"dun %d"},dayOfMonthOrdinalParse:/j\s\d{1,2}/,ordinal:"j %d",week:{dow:1,doy:4}})}(s(0))},function(e,t,s){!function(e){"use strict";e.defineLocale("zh-cn",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMDAhmm",LLLL:"YYYYMDddddAhmm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t||""===t||""===t?e:""===t||""===t?e+12:e>=11?e:e+12},meridiem:function(e,t,s){var n=100*e+t;return n<600?"":n<900?"":n<1130?"":n<1230?"":n<1800?"":""},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:"[]ddddLT",lastDay:"[]LT",lastWeek:"[]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},week:{dow:1,doy:4}})}(s(0))},function(e,t,s){!function(e){"use strict";e.defineLocale("zh-hk",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMDdddd HH:mm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t||""===t||""===t?e:""===t?e>=11?e:e+12:""===t||""===t?e+12:void 0},meridiem:function(e,t,s){var n=100*e+t;return n<600?"":n<900?"":n<1130?"":n<1230?"":n<1800?"":""},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:"[]ddddLT",lastDay:"[]LT",lastWeek:"[]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}})}(s(0))},function(e,t,s){!function(e){"use strict";e.defineLocale("zh-tw",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMDdddd HH:mm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t||""===t||""===t?e:""===t?e>=11?e:e+12:""===t||""===t?e+12:void 0},meridiem:function(e,t,s){var n=100*e+t;return n<600?"":n<900?"":n<1130?"":n<1230?"":n<1800?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd LT",lastDay:"[] LT",lastWeek:"[]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}})}(s(0))},function(e,t,s){"use strict";s.r(t);var n=s(6),i=s(12),r=s(4);const a=133;function o(e,t){const{element:{content:s},parts:n}=e,i=document.createTreeWalker(s,a,null,!1);let r=d(n),o=n[r],l=-1,c=0;const u=[];let h=null;for(;i.nextNode();){l++;const e=i.currentNode;for(e.previousSibling===h&&(h=null),t.has(e)&&(u.push(e),null===h&&(h=e)),null!==h&&c++;void 0!==o&&o.index===l;)o.index=null!==h?-1:o.index-c,o=n[r=d(n,r)]}u.forEach(e=>e.parentNode.removeChild(e))}const l=e=>{let t=11===e.nodeType?0:1;const s=document.createTreeWalker(e,a,null,!1);for(;s.nextNode();)t++;return t},d=(e,t=-1)=>{for(let s=t+1;s<e.length;s++){const t=e[s];if(Object(r.d)(t))return s}return-1};var c=s(26),u=s(24),h=s(40);const p=(e,t)=>`${e}--${t}`;let m=!0;void 0===window.ShadyCSS?m=!1:void 0===window.ShadyCSS.prepareTemplateDom&&(console.warn("Incompatible ShadyCSS version detected. Please update to at least @webcomponents/webcomponentsjs@2.0.2 and @webcomponents/shadycss@1.3.1."),m=!1);const f=e=>t=>{const s=p(t.type,e);let n=u.a.get(s);void 0===n&&(n={stringsArray:new WeakMap,keyString:new Map},u.a.set(s,n));let i=n.stringsArray.get(t.strings);if(void 0!==i)return i;const a=t.strings.join(r.f);if(void 0===(i=n.keyString.get(a))){const s=t.getTemplateElement();m&&window.ShadyCSS.prepareTemplateDom(s,e),i=new r.a(t,s),n.keyString.set(a,i)}return n.stringsArray.set(t.strings,i),i},v=["html","svg"],_=new Set,y=(e,t,s)=>{_.add(e);const n=s?s.element:document.createElement("template"),i=t.querySelectorAll("style"),{length:r}=i;if(0===r)return void window.ShadyCSS.prepareTemplateStyles(n,e);const c=document.createElement("style");for(let e=0;e<r;e++){const t=i[e];t.parentNode.removeChild(t),c.textContent+=t.textContent}(e=>{v.forEach(t=>{const s=u.a.get(p(t,e));void 0!==s&&s.keyString.forEach(e=>{const{element:{content:t}}=e,s=new Set;Array.from(t.querySelectorAll("style")).forEach(e=>{s.add(e)}),o(e,s)})})})(e);const h=n.content;s?function(e,t,s=null){const{element:{content:n},parts:i}=e;if(null==s)return void n.appendChild(t);const r=document.createTreeWalker(n,a,null,!1);let o=d(i),c=0,u=-1;for(;r.nextNode();){for(u++,r.currentNode===s&&(c=l(t),s.parentNode.insertBefore(t,s));-1!==o&&i[o].index===u;){if(c>0){for(;-1!==o;)i[o].index+=c,o=d(i,o);return}o=d(i,o)}}}(s,c,h.firstChild):h.insertBefore(c,h.firstChild),window.ShadyCSS.prepareTemplateStyles(n,e);const m=h.querySelector("style");if(window.ShadyCSS.nativeShadow&&null!==m)t.insertBefore(m.cloneNode(!0),t.firstChild);else if(s){h.insertBefore(c,h.firstChild);const e=new Set;e.add(c),o(s,e)}};window.JSCompiler_renameProperty=(e,t)=>e;const g={toAttribute(e,t){switch(t){case Boolean:return e?"":null;case Object:case Array:return null==e?e:JSON.stringify(e)}return e},fromAttribute(e,t){switch(t){case Boolean:return null!==e;case Number:return null===e?null:Number(e);case Object:case Array:return JSON.parse(e)}return e}},b=(e,t)=>t!==e&&(t==t||e==e),M={attribute:!0,type:String,converter:g,reflect:!1,hasChanged:b},w=Promise.resolve(!0),L=1,x=4,T=8,E=16,k=32,D="finalized";class S extends HTMLElement{constructor(){super(),this._updateState=0,this._instanceProperties=void 0,this._updatePromise=w,this._hasConnectedResolver=void 0,this._changedProperties=new Map,this._reflectingProperties=void 0,this.initialize()}static get observedAttributes(){this.finalize();const e=[];return this._classProperties.forEach((t,s)=>{const n=this._attributeNameForProperty(s,t);void 0!==n&&(this._attributeToPropertyMap.set(n,s),e.push(n))}),e}static _ensureClassProperties(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_classProperties",this))){this._classProperties=new Map;const e=Object.getPrototypeOf(this)._classProperties;void 0!==e&&e.forEach((e,t)=>this._classProperties.set(t,e))}}static createProperty(e,t=M){if(this._ensureClassProperties(),this._classProperties.set(e,t),t.noAccessor||this.prototype.hasOwnProperty(e))return;const s="symbol"==typeof e?Symbol():`__${e}`;Object.defineProperty(this.prototype,e,{get(){return this[s]},set(t){const n=this[e];this[s]=t,this._requestUpdate(e,n)},configurable:!0,enumerable:!0})}static finalize(){const e=Object.getPrototypeOf(this);if(e.hasOwnProperty(D)||e.finalize(),this[D]=!0,this._ensureClassProperties(),this._attributeToPropertyMap=new Map,this.hasOwnProperty(JSCompiler_renameProperty("properties",this))){const e=this.properties,t=[...Object.getOwnPropertyNames(e),..."function"==typeof Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e):[]];for(const s of t)this.createProperty(s,e[s])}}static _attributeNameForProperty(e,t){const s=t.attribute;return!1===s?void 0:"string"==typeof s?s:"string"==typeof e?e.toLowerCase():void 0}static _valueHasChanged(e,t,s=b){return s(e,t)}static _propertyValueFromAttribute(e,t){const s=t.type,n=t.converter||g,i="function"==typeof n?n:n.fromAttribute;return i?i(e,s):e}static _propertyValueToAttribute(e,t){if(void 0===t.reflect)return;const s=t.type,n=t.converter;return(n&&n.toAttribute||g.toAttribute)(e,s)}initialize(){this._saveInstanceProperties(),this._requestUpdate()}_saveInstanceProperties(){this.constructor._classProperties.forEach((e,t)=>{if(this.hasOwnProperty(t)){const e=this[t];delete this[t],this._instanceProperties||(this._instanceProperties=new Map),this._instanceProperties.set(t,e)}})}_applyInstanceProperties(){this._instanceProperties.forEach((e,t)=>this[t]=e),this._instanceProperties=void 0}connectedCallback(){this._updateState=this._updateState|k,this._hasConnectedResolver&&(this._hasConnectedResolver(),this._hasConnectedResolver=void 0)}disconnectedCallback(){}attributeChangedCallback(e,t,s){t!==s&&this._attributeToProperty(e,s)}_propertyToAttribute(e,t,s=M){const n=this.constructor,i=n._attributeNameForProperty(e,s);if(void 0!==i){const e=n._propertyValueToAttribute(t,s);if(void 0===e)return;this._updateState=this._updateState|T,null==e?this.removeAttribute(i):this.setAttribute(i,e),this._updateState=this._updateState&~T}}_attributeToProperty(e,t){if(this._updateState&T)return;const s=this.constructor,n=s._attributeToPropertyMap.get(e);if(void 0!==n){const e=s._classProperties.get(n)||M;this._updateState=this._updateState|E,this[n]=s._propertyValueFromAttribute(t,e),this._updateState=this._updateState&~E}}_requestUpdate(e,t){let s=!0;if(void 0!==e){const n=this.constructor,i=n._classProperties.get(e)||M;n._valueHasChanged(this[e],t,i.hasChanged)?(this._changedProperties.has(e)||this._changedProperties.set(e,t),!0!==i.reflect||this._updateState&E||(void 0===this._reflectingProperties&&(this._reflectingProperties=new Map),this._reflectingProperties.set(e,i))):s=!1}!this._hasRequestedUpdate&&s&&this._enqueueUpdate()}requestUpdate(e,t){return this._requestUpdate(e,t),this.updateComplete}async _enqueueUpdate(){let e,t;this._updateState=this._updateState|x;const s=this._updatePromise;this._updatePromise=new Promise((s,n)=>{e=s,t=n});try{await s}catch(e){}this._hasConnected||await new Promise(e=>this._hasConnectedResolver=e);try{const e=this.performUpdate();null!=e&&await e}catch(e){t(e)}e(!this._hasRequestedUpdate)}get _hasConnected(){return this._updateState&k}get _hasRequestedUpdate(){return this._updateState&x}get hasUpdated(){return this._updateState&L}performUpdate(){this._instanceProperties&&this._applyInstanceProperties();let e=!1;const t=this._changedProperties;try{(e=this.shouldUpdate(t))&&this.update(t)}catch(t){throw e=!1,t}finally{this._markUpdated()}e&&(this._updateState&L||(this._updateState=this._updateState|L,this.firstUpdated(t)),this.updated(t))}_markUpdated(){this._changedProperties=new Map,this._updateState=this._updateState&~x}get updateComplete(){return this._getUpdateComplete()}_getUpdateComplete(){return this._updatePromise}shouldUpdate(e){return!0}update(e){void 0!==this._reflectingProperties&&this._reflectingProperties.size>0&&(this._reflectingProperties.forEach((e,t)=>this._propertyToAttribute(t,this[t],e)),this._reflectingProperties=void 0)}updated(e){}firstUpdated(e){}}S[D]=!0;const P=e=>t=>"function"==typeof t?((e,t)=>(window.customElements.define(e,t),t))(e,t):((e,t)=>{const{kind:s,elements:n}=t;return{kind:s,elements:n,finisher(t){window.customElements.define(e,t)}}})(e,t),C=(e,t)=>"method"!==t.kind||!t.descriptor||"value"in t.descriptor?{kind:"field",key:Symbol(),placement:"own",descriptor:{},initializer(){"function"==typeof t.initializer&&(this[t.key]=t.initializer.call(this))},finisher(s){s.createProperty(t.key,e)}}:Object.assign({},t,{finisher(s){s.createProperty(t.key,e)}}),Y=(e,t,s)=>{t.constructor.createProperty(s,e)};function A(e){return(t,s)=>void 0!==s?Y(e,t,s):C(e,t)}function j(e){return(t,s)=>{const n={get(){return this.renderRoot.querySelector(e)},enumerable:!0,configurable:!0};return void 0!==s?R(n,t,s):N(n,t)}}function O(e){return(t,s)=>{const n={get(){return this.renderRoot.querySelectorAll(e)},enumerable:!0,configurable:!0};return void 0!==s?R(n,t,s):N(n,t)}}const R=(e,t,s)=>{Object.defineProperty(t,s,e)},N=(e,t)=>({kind:"method",placement:"prototype",key:t.key,descriptor:e}),H=e=>(t,s)=>void 0!==s?((e,t,s)=>{Object.assign(t[s],e)})(e,t,s):((e,t)=>Object.assign({},t,{finisher(s){Object.assign(s.prototype[t.key],e)}}))(e,t),I="adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,F=Symbol();class V{constructor(e,t){if(t!==F)throw new Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e}get styleSheet(){return void 0===this._styleSheet&&(I?(this._styleSheet=new CSSStyleSheet,this._styleSheet.replaceSync(this.cssText)):this._styleSheet=null),this._styleSheet}toString(){return this.cssText}}const z=e=>new V(String(e),F),U=(e,...t)=>{const s=t.reduce((t,s,n)=>t+(e=>{if(e instanceof V)return e.cssText;if("number"==typeof e)return e;throw new Error(`Value passed to 'css' function must be a 'css' function result: ${e}. Use 'unsafeCSS' to pass non-literal values, but\n            take care to ensure page security.`)})(s)+e[n+1],e[0]);return new V(s,F)};s.d(t,"LitElement",(function(){return $})),s.d(t,"defaultConverter",(function(){return g})),s.d(t,"notEqual",(function(){return b})),s.d(t,"UpdatingElement",(function(){return S})),s.d(t,"customElement",(function(){return P})),s.d(t,"property",(function(){return A})),s.d(t,"query",(function(){return j})),s.d(t,"queryAll",(function(){return O})),s.d(t,"eventOptions",(function(){return H})),s.d(t,"html",(function(){return n.html})),s.d(t,"svg",(function(){return n.svg})),s.d(t,"TemplateResult",(function(){return n.TemplateResult})),s.d(t,"SVGTemplateResult",(function(){return n.SVGTemplateResult})),s.d(t,"supportsAdoptingStyleSheets",(function(){return I})),s.d(t,"CSSResult",(function(){return V})),s.d(t,"unsafeCSS",(function(){return z})),s.d(t,"css",(function(){return U})),(window.litElementVersions||(window.litElementVersions=[])).push("2.2.1");const B=e=>e.flat?e.flat(1/0):function e(t,s=[]){for(let n=0,i=t.length;n<i;n++){const i=t[n];Array.isArray(i)?e(i,s):s.push(i)}return s}(e);class $ extends S{static finalize(){super.finalize.call(this),this._styles=this.hasOwnProperty(JSCompiler_renameProperty("styles",this))?this._getUniqueStyles():this._styles||[]}static _getUniqueStyles(){const e=this.styles,t=[];if(Array.isArray(e)){B(e).reduceRight((e,t)=>(e.add(t),e),new Set).forEach(e=>t.unshift(e))}else e&&t.push(e);return t}initialize(){super.initialize(),this.renderRoot=this.createRenderRoot(),window.ShadowRoot&&this.renderRoot instanceof window.ShadowRoot&&this.adoptStyles()}createRenderRoot(){return this.attachShadow({mode:"open"})}adoptStyles(){const e=this.constructor._styles;0!==e.length&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow?I?this.renderRoot.adoptedStyleSheets=e.map(e=>e.styleSheet):this._needsShimAdoptedStyleSheets=!0:window.ShadyCSS.ScopingShim.prepareAdoptedCssText(e.map(e=>e.cssText),this.localName))}connectedCallback(){super.connectedCallback(),this.hasUpdated&&void 0!==window.ShadyCSS&&window.ShadyCSS.styleElement(this)}update(e){super.update(e);const t=this.render();t instanceof n.TemplateResult&&this.constructor.render(t,this.renderRoot,{scopeName:this.localName,eventContext:this}),this._needsShimAdoptedStyleSheets&&(this._needsShimAdoptedStyleSheets=!1,this.constructor._styles.forEach(e=>{const t=document.createElement("style");t.textContent=e.cssText,this.renderRoot.appendChild(t)}))}render(){}}$.finalized=!0,$.render=(e,t,s)=>{if(!s||"object"!=typeof s||!s.scopeName)throw new Error("The `scopeName` option is required.");const n=s.scopeName,r=c.a.has(t),a=m&&11===t.nodeType&&!!t.host,o=a&&!_.has(n),l=o?document.createDocumentFragment():t;if(Object(c.b)(e,l,Object.assign({templateFactory:f(n)},s)),o){const e=c.a.get(l);c.a.delete(l);const s=e.value instanceof h.a?e.value.template:void 0;y(n,l,s),Object(i.b)(t,t.firstChild),t.appendChild(l),c.a.set(t,e)}!r&&a&&window.ShadyCSS.styleElement(t.host)}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(16);class i{constructor(){this.store=window?window.localStorage:null}isReady(){return!!this.store}get(e,t){const s=this.getKey(e,t),n=this.store.getItem(s);return n?JSON.parse(n):null}set(e,t,s){t=t||s.id||n.default();const i=this.getKey(e,t);return this.store.setItem(i,JSON.stringify(s)),t}remove(e,t){const s=this.getKey(e,t);return!!this.store.getItem(s)&&(this.store.removeItem(s),!0)}getKey(e,t){return e+"/"+t}}t.LocalStorage=i;const r=new i;t.default=r},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(79),i=s(61),r=s(121),a=s(122),o=s(450),l=s(74),d=s(36),c=s(13),u=s(44),h=s(19),p=s(190),m=s(189),f=s(117),v=s(23),_=s(105);class y{constructor(e,t){this.explorer=new a.default(null,t,!0),this.props=t||{},this.system=this.explorer.system,this.commander=this.explorer.commander,this.system.registry.add(o.default),this.system.graph.createCustomNode(m.default,"Story"),this.system.graph.createCustomNode(p.default,"Tasks"),this.system.getMainComponent(i.default).ins.viewportBrackets.setValue(!0),e&&new f.default(this).appendTo(e),this.documentProvider.createDocument(r),this.evaluateProps()}get assetReader(){return this.system.getMainComponent(d.default)}get assetManager(){return this.system.getMainComponent(c.default)}get mediaManager(){return this.system.getMainComponent(u.default)}get documentProvider(){return this.system.getMainComponent(h.default)}setBaseUrl(e){this.assetManager.baseUrl=e,this.mediaManager.rootUrl=e}loadDocument(e,t){return this.assetReader.getJSON(e).then(s=>this.documentProvider.amendDocument(s,e,t)).catch(e=>{throw console.warn(`error while loading document: ${e.message}`),e})}loadModel(e,t){return this.documentProvider.appendModel(e,t)}loadGeometry(e,t,s,n,i){return this.documentProvider.appendGeometry(e,t,s,n,i)}evaluateProps(){const e=this.props;this.explorer.evaluateProps(),this.mediaManager.rootUrl=this.assetManager.baseUrl,e.referrer=e.referrer||n.default("referrer"),e.mode=e.mode||n.default("mode")||"prep",e.expert=void 0!==e.expert?e.expert:"false"!==n.default("expert"),this.system.getMainComponent(l.default).referrer=e.referrer;const t=e.mode[0].toLowerCase(),s="a"===t?_.ETaskMode.Authoring:"e"===t?_.ETaskMode.Expert:_.ETaskMode.QC;this.system.getMainComponent(v.default).ins.mode.setValue(s)}}t.default=y,window.VoyagerStory=y},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(!e||!t)return!1;let s=e.prototype;for(;s;){if(s===t.prototype)return!0;s=s.prototype}return!1}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(118);t.default=class{constructor(e,t,s,i){if(1===e.elementCount&&s>=0)throw new Error("non-array source property; can't link to element");if(1===t.elementCount&&i>=0)throw new Error("non-array destination property; can't link to element");this.source=e,this.destination=t,this.sourceIndex=s,this.destinationIndex=i;const r=void 0===s?-1:s,a=void 0===i?-1:i,o=e.elementCount>1&&r<0&&a<0;this.fnConvert=n.getConversionFunction(e.type,t.type,o);const l=n.getElementCopyFunction(r,a,this.fnConvert);this.fnCopy=n.getMultiCopyFunction(e.isMulti(),t.isMulti(),l)}push(){this.destination.setValue(this.fnCopy(this.source.value,this.destination.value,this.fnConvert))}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enumToArray=function(e){return Object.keys(e).filter(e=>isNaN(Number(e)))}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(11),i=s(80),r=s(16);class a extends n.default{constructor(e){super(),this.addEvent("property"),this.linkable=e,this.properties=[]}get customProperties(){return this.properties.filter(e=>e.custom)}dispose(){this.unlinkAllProperties()}isInputGroup(){return this===this.linkable.ins}isOutputGroup(){return this===this.linkable.outs}createProperties(e,t){return Object.keys(e).forEach((s,n)=>{const i=void 0===t?void 0:t+n,r=e[s];this.createProperty(r.path,r.schema,s,i)}),this}createProperty(e,t,s,n){const r=new i.default(e,t);return this.addProperty(r,s,n),r}createCustomProperty(e,t,s){const n=new i.default(e,t,!0);return this.addCustomProperty(n,s),n}addCustomProperty(e,t){const s=r.default(5);this.addProperty(e,s,t)}addProperty(e,t,s){if(e.group)throw new Error("can't add, property already part of a group");if(this[t])throw new Error(`key '${t}' already exists in group`);e._group=this,e._key=t,void 0===s?this.properties.push(e):this.properties.splice(s,0,e),this[t]=e,this.emit({type:"property",add:!0,remove:!1,property:e})}removeProperty(e){if(e.group!==this)throw new Error("can't remove, property not in this group");if(e.hasLinks())throw new Error("can't remove, property has links");if(this[e.key]!==e)throw new Error(`property key '${e.key}' not found in group`);this.properties.slice(this.properties.indexOf(e),1),delete this[e.key],e._group=null,e._key="",this.emit({type:"property",add:!1,remove:!0,property:e})}getProperty(e){const t=this[e];if(!t)throw new Error(`no property found with key '${e}'`);return t}getKeys(e=!1){const t=[];return this.properties.forEach(s=>{(e||"object"!==s.type)&&t.push(s.key)}),t}getValues(e=!1){const t=[];return this.properties.map(s=>{(e||"object"!==s.type)&&t.push(s.value)}),t}cloneValues(e=!1){const t=[];return this.properties.map(s=>{(e||"object"!==s.type)&&t.push(s.cloneValue())}),t}setValues(e){Object.keys(e).forEach(t=>this.getProperty(t).value=e[t])}copyValues(e){Object.keys(e).forEach(t=>this.getProperty(t).copyValue(e[t]))}unlinkAllProperties(){this.properties.forEach(e=>e.unlink())}toJSON(){let e=null;return this.properties.forEach(t=>{const s=t.toJSON();s&&((e=e||{})[t.key]=s)}),e}fromJSON(e){Object.keys(e).forEach(t=>{const s=e[t];if(s.schema){const e=new i.default(s.path,s.schema,!0);this.addProperty(e,t)}})}linksFromJSON(e,t){Object.keys(e).forEach(s=>{this[s].fromJSON(e[s],t)})}}t.default=a},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(1);t.default=class{constructor(e,t){this._typeName=t?n.default.getTypeName(t):null,this._id=t instanceof n.default?t.id:void 0,this._system=e}get component(){return this._id&&this._system.components.getById(this._id)||null}set component(e){if(e&&this._typeName&&!(e instanceof this._system.registry.getType(this._typeName)))throw new Error(`can't assign component of class '${e.constructor.name||"unknown"}' to link of class '${this._typeName}'`);this._id=e?e.id:void 0}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(){this.visited={},this.visiting={},this.sorted=[]}sort(e){for(let t=0,s=e.length;t<s;++t)this.visit(e[t]);const t=this.sorted;return this.visited={},this.visiting={},this.sorted=[],t}visit(e){const t=this.visited,s=this.visiting;if(t[e.id]||s[e.id])return;s[e.id]=!0;const n=e.outs.properties.concat(e.ins.properties);for(let e=0,t=n.length;e<t;++e){const t=n[e].outLinks;for(let e=0,s=t.length;e<s;++e){const s=t[e].destination.group,n=s.properties;for(let e=0,t=n.length;e<t;++e){const t=n[e].outLinks;for(let e=0,s=t.length;e<s;++e){const s=t[e].destination.group;this.visit(s.linkable)}}this.visit(s.linkable)}}s[e.id]=void 0,t[e.id]=!0,this.sorted.unshift(e)}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(120);t.Commander=n.default;const i=s(1);t.types=i.types;class r extends i.default{createActions(e){return{}}}t.default=r,r.typeName="CController",r.isSystemSingleton=!0},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(331);t.default=class{constructor(e,t){this._args=e,this._props=t,this._args=e,this._state=null}get name(){return this._props.name||n.normalize(this._props.do.name)}do(){if(this._state)throw new Error("undo should be called before execute can be applied again");this._state=this._props.do.apply(this._props.target,this._args)}undo(){if(!this._props.undo)throw new Error("can't undo this command");if(!this._state)throw new Error("execute should be called before undo can be applied");this._props.undo.call(this._props.target,this._state),this._state=null}canDo(){return!this._props.canDo||this._props.canDo()}canUndo(){return!!this._props.undo}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.camelize=function(e){return e.replace(/(?:^\w|[A-Z]|\b\w)/g,(e,t)=>0==t?e.toLowerCase():e.toUpperCase()).replace(/\s+/g,"")},t.normalize=function(e){return e.replace(/([A-Z])/g," $1").replace(/^./,e=>e.toUpperCase())}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(3),i=s(63),r=new n.Vector3,a=new n.Matrix4;class o extends n.LineSegments{constructor(e,t){t=Object.assign({},o.defaultProps,t);const s=new n.Box3;s.makeEmpty(),i.computeLocalBoundingBox(e,s);const r=t.length,a=[s.min.x,s.min.y,s.min.z],l=[s.max.x,s.max.y,s.max.z],d=[(l[0]-a[0])*r,(l[1]-a[1])*r,(l[2]-a[2])*r];let c;c=isFinite(d[0])&&isFinite(d[1])&&isFinite(d[2])?[a[0],a[1],a[2],a[0]+d[0],a[1],a[2],a[0],a[1],a[2],a[0],a[1]+d[1],a[2],a[0],a[1],a[2],a[0],a[1],a[2]+d[2],l[0],a[1],a[2],l[0]-d[0],a[1],a[2],l[0],a[1],a[2],l[0],a[1]+d[1],a[2],l[0],a[1],a[2],l[0],a[1],a[2]+d[2],a[0],l[1],a[2],a[0]+d[0],l[1],a[2],a[0],l[1],a[2],a[0],l[1]-d[1],a[2],a[0],l[1],a[2],a[0],l[1],a[2]+d[2],a[0],a[1],l[2],a[0]+d[0],a[1],l[2],a[0],a[1],l[2],a[0],a[1]+d[1],l[2],a[0],a[1],l[2],a[0],a[1],l[2]-d[2],a[0],l[1],l[2],a[0]+d[0],l[1],l[2],a[0],l[1],l[2],a[0],l[1]-d[1],l[2],a[0],l[1],l[2],a[0],l[1],l[2]-d[2],l[0],a[1],l[2],l[0]-d[0],a[1],l[2],l[0],a[1],l[2],l[0],a[1]+d[1],l[2],l[0],a[1],l[2],l[0],a[1],l[2]-d[2],l[0],l[1],a[2],l[0]-d[0],l[1],a[2],l[0],l[1],a[2],l[0],l[1]-d[1],a[2],l[0],l[1],a[2],l[0],l[1],a[2]+d[2],l[0],l[1],l[2],l[0]-d[0],l[1],l[2],l[0],l[1],l[2],l[0],l[1]-d[1],l[2],l[0],l[1],l[2],l[0],l[1],l[2]-d[2]]:[-1,0,0,1,0,0,0,-1,0,0,1,0,0,0,-1,0,0,1];const u=new n.BufferGeometry;u.addAttribute("position",new n.Float32BufferAttribute(c,3)),super(u,new n.LineBasicMaterial({color:t.color,depthTest:!1})),this.renderOrder=1,this.onBeforeRender=()=>{e.updateMatrixWorld(!1),this.matrixWorld.copy(e.matrixWorld)}}dispose(){this.parent&&this.parent.remove(this),this.geometry.dispose()}static expandBoundingBox(e,t,s){const n=e.geometry;if(void 0!==n){let i=e;for(a.identity();i&&i!==t;)a.premultiply(i.matrix),i=i.parent;if(n.isGeometry){const e=n.vertices;for(let t=0,n=e.length;t<n;++t)r.copy(e[t]).applyMatrix4(a),s.expandByPoint(r)}else if(n.isBufferGeometry){const e=n.attributes.position;if(void 0!==e)for(let t=0,n=e.count;t<n;++t)r.fromBufferAttribute(e,t).applyMatrix4(a),s.expandByPoint(r)}}const i=e.children;for(let e=0,n=i.length;e<n;++e)o.expandBoundingBox(i[e],t,s)}}t.default=o,o.defaultProps={color:new n.Color("#ffd633"),length:.25}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(3);class i extends n.ShaderMaterial{constructor(){super(...arguments),this.isIndexShader=!0,this.uniformsNeedUpdate=!1,this.lights=!1,this.uniforms={index:{value:[0,0,0]}},this.vertexShader=["void main() {","  #include <begin_vertex>","  #include <project_vertex>","}"].join("\n"),this.fragmentShader=["uniform vec3 index;","void main() {","  gl_FragColor = vec4(index, 1.0);","}"].join("\n")}static indexFromPixel(e){return e[0]+e[1]<<8+e[2]<<16}static zoneFromPixel(e){return e[3]}setIndex(e){const t=e>>16,s=(e>>8)-(t<<8),n=e-(t<<16)-(s<<8),i=this.uniforms.index.value;i[0]=n/255,i[1]=s/255,i[2]=t/255,this.uniformsNeedUpdate=!0}}t.default=i},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(3);class i extends n.ShaderMaterial{constructor(){super(...arguments),this.isPositionShader=!0,this.uniforms={index:{value:0},range:{value:[-1,1]}},this.vertexShader=["varying vec3 vLocalPosition;","void main() {","  #include <begin_vertex>","  #include <project_vertex>","  vLocalPosition = vec3(position);","}"].join("\n"),this.fragmentShader=["uniform float index;","uniform vec2 range;","varying vec3 vLocalPosition;","vec4 toVec4(float v) {","  float vn = (v - range.x) / (range.y - range.x);","  float b0 = floor(vn * 255.0) / 255.0; vn = (vn - b0) * 256.0;","  float b1 = floor(vn * 255.0) / 255.0; vn = (vn - b1) * 256.0;","  float b2 = floor(vn * 255.0) / 255.0; vn = (vn - b2) * 256.0;","  float b3 = floor(vn * 255.0) / 255.0;","  return vec4(clamp(b0, 0.0, 1.0), clamp(b1, 0.0, 1.0), clamp(b2, 0.0, 1.0), clamp(b3, 0.0, 1.0));","}","void main() {","  gl_FragColor = (index == 0.0 ? toVec4(vLocalPosition.x)","    : (index == 1.0 ? toVec4(vLocalPosition.y) : toVec4(vLocalPosition.z)));","}"].join("\n")}}t.default=i},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(3);class i extends n.ShaderMaterial{constructor(){super(...arguments),this.isNormalShader=!0,this.uniforms={index:{value:0}},this.vertexShader=["varying vec3 vLocalNormal;","void main() {","  #include <beginnormal_vertex>","  #include <begin_vertex>","  #include <project_vertex>","  vLocalNormal = vec3(normal);","}"].join("\n"),this.fragmentShader=["uniform vec3 index;","varying vec3 vLocalNormal;","void main() {","  vec3 normal = normalize(vLocalNormal);","  gl_FragColor = vec4(normal * 0.5 + 0.5, 1.0);","}"].join("\n")}}t.default=i},function(e,t,s){"use strict";s.r(t),s.d(t,"repeat",(function(){return u}));var n=s(6);const i=(e,t)=>{const s=e.startNode.parentNode,i=void 0===t?e.endNode:t.startNode,r=s.insertBefore(Object(n.createMarker)(),i);s.insertBefore(Object(n.createMarker)(),i);const a=new n.NodePart(e.options);return a.insertAfterNode(r),a},r=(e,t)=>(e.setValue(t),e.commit(),e),a=(e,t,s)=>{const i=e.startNode.parentNode,r=s?s.startNode:e.endNode,a=t.endNode.nextSibling;a!==r&&Object(n.reparentNodes)(i,t.startNode,a,r)},o=e=>{Object(n.removeNodes)(e.startNode.parentNode,e.startNode,e.endNode.nextSibling)},l=(e,t,s)=>{const n=new Map;for(let i=t;i<=s;i++)n.set(e[i],i);return n},d=new WeakMap,c=new WeakMap,u=Object(n.directive)((e,t,s)=>{let u;return void 0===s?s=t:void 0!==t&&(u=t),t=>{if(!(t instanceof n.NodePart))throw new Error("repeat can only be used in text bindings");const h=d.get(t)||[],p=c.get(t)||[],m=[],f=[],v=[];let _,y,g=0;for(const t of e)v[g]=u?u(t,g):g,f[g]=s(t,g),g++;let b=0,M=h.length-1,w=0,L=f.length-1;for(;b<=M&&w<=L;)if(null===h[b])b++;else if(null===h[M])M--;else if(p[b]===v[w])m[w]=r(h[b],f[w]),b++,w++;else if(p[M]===v[L])m[L]=r(h[M],f[L]),M--,L--;else if(p[b]===v[L])m[L]=r(h[b],f[L]),a(t,h[b],m[L+1]),b++,L--;else if(p[M]===v[w])m[w]=r(h[M],f[w]),a(t,h[M],h[b]),M--,w++;else if(void 0===_&&(_=l(v,w,L),y=l(p,b,M)),_.has(p[b]))if(_.has(p[M])){const e=y.get(v[w]),s=void 0!==e?h[e]:null;if(null===s){const e=i(t,h[b]);r(e,f[w]),m[w]=e}else m[w]=r(s,f[w]),a(t,s,h[b]),h[e]=null;w++}else o(h[M]),M--;else o(h[b]),b++;for(;w<=L;){const e=i(t,m[L+1]);r(e,f[w]),m[w++]=e}for(;b<=M;){const e=h[b++];null!==e&&o(e)}d.set(t,m),c.set(t,v)}})},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(46),i=s(84),r=s(64),a=s(125),o=s(86),l=s(27),d=s(65),c=s(61),u=s(47),h=s(8),p=s(20),m=s(13),f=s(36),v=s(127),_=s(19),y=s(32),g=s(69),b=s(94),M=s(30),w=s(18),L=s(425),x=s(50),T=s(136),E=s(137),k=s(138),D=s(139),S=s(147),P=s(148),C=s(96),Y=s(100),A=s(150),j=s(152),O=s(153),R=s(101),N=s(154),H=s(155),I=s(70),F=s(156),V=s(157),z=s(99),U=s(43),B=[n.default,i.default,r.default,a.default,o.default,l.default,d.default,c.default,u.default,h.default,p.default,m.default,f.default,v.default,_.default,y.default,g.default,b.default,M.default,w.default,L.default,x.default,T.default,E.default,k.default,D.default,S.default,P.default,C.default,Y.default,A.default,j.default,O.default,R.default,N.default,H.default,I.default,F.default,V.default,z.default,U.default];t.default=B},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=Math.PI,i=.5*n;var r;!function(e){e[e.Linear=0]="Linear",e[e.EaseQuad=1]="EaseQuad",e[e.EaseInQuad=2]="EaseInQuad",e[e.EaseOutQuad=3]="EaseOutQuad",e[e.EaseCubic=4]="EaseCubic",e[e.EaseInCubic=5]="EaseInCubic",e[e.EaseOutCubic=6]="EaseOutCubic",e[e.EaseQuart=7]="EaseQuart",e[e.EaseInQuart=8]="EaseInQuart",e[e.EaseOutQuart=9]="EaseOutQuart",e[e.EaseQuint=10]="EaseQuint",e[e.EaseInQuint=11]="EaseInQuint",e[e.EaseOutQuint=12]="EaseOutQuint",e[e.EaseSine=13]="EaseSine",e[e.EaseInSine=14]="EaseInSine",e[e.EaseOutSine=15]="EaseOutSine"}(r=t.EEasingCurve||(t.EEasingCurve={})),t.getEasingFunction=function(e){return t.easingFunctions[r[e]]},t.easingFunctions={Linear:function(e){return e},EaseQuad:function(e){return e<.5?2*e*e:(4-2*e)*e-1},EaseInQuad:function(e){return e*e},EaseOutQuad:function(e){return e*(2-e)},EaseCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},EaseInCubic:function(e){return e*e*e},EaseOutCubic:function(e){return--e*e*e+1},EaseQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},EaseInQuart:function(e){return e*e*e*e},EaseOutQuart:function(e){return 1- --e*e*e*e},EaseQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e},EaseInQuint:function(e){return e*e*e*e*e},EaseOutQuint:function(e){return 1+--e*e*e*e*e},EaseSine:function(e){return-.5*(Math.cos(e*n)-1)},EaseInSine:function(e){return 1-Math.cos(e*i)},EaseOutSine:function(e){return Math.sin(e*i)}}},function(e,t,s){"use strict";var n=this&&this.__awaiter||function(e,t,s,n){return new(s||(s=Promise))((function(i,r){function a(e){try{l(n.next(e))}catch(e){r(e)}}function o(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(a,o)}l((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(e){this._loadingManager=e}get(e){return n(this,void 0,void 0,(function*(){return this._loadingManager.itemStart(e),fetch(e,{headers:{Accept:"application/json"}}).then(t=>{if(!t.ok)throw this._loadingManager.itemError(e),new Error(`failed to fetch from '${e}', status: ${t.status} ${t.statusText}`);return this._loadingManager.itemEnd(e),t.json()})}))}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(88),i=s(3);s(341),s(342);const r=i.GLTFLoader,a=i.DRACOLoader,o=s(89);class l{constructor(e){this.loadingManager=e;const t=n.default("js/draco/",window.location.origin+window.location.pathname);const s=new a;s.setDecoderPath(t),this.gltfLoader=new r(e),this.gltfLoader.setDRACOLoader(s)}isValid(e){const t=e.split(".").pop().toLowerCase();return l.extensions.indexOf(t)>=0}isValidMimeType(e){return l.mimeTypes.indexOf(e)>=0}get(e){return new Promise((t,s)=>{this.gltfLoader.load(e,e=>{t(this.createModelGroup(e))},null,t=>{console.error(`failed to load '${e}': ${t}`),s(new Error(t))})})}createModelGroup(e){const t=e.scene;if("Scene"!==t.type)throw new Error("not a valid gltf scene");const s=new i.Group;return t.children.forEach(e=>s.add(e)),s.traverse(e=>{if("Mesh"===e.type){const t=e;t.castShadow=!0;const s=t.material;s.map&&(s.map.encoding=i.sRGBEncoding),t.geometry.computeBoundingBox();const n=new o.default;"MeshStandardMaterial"===s.type&&n.copyStandardMaterial(s),s.userData.objectSpaceNormals&&n.enableObjectSpaceNormalMap(!0),t.material=n}}),s}}t.default=l,l.extensions=["gltf","glb"],l.mimeTypes=["model/gltf+json","model/gltf-binary"]},function(e,t){THREE.GLTFLoader=function(){function e(e){this.manager=void 0!==e?e:THREE.DefaultLoadingManager,this.dracoLoader=null,this.ddsLoader=null}function t(){var e={};return{get:function(t){return e[t]},add:function(t,s){e[t]=s},remove:function(t){delete e[t]},removeAll:function(){e={}}}}e.prototype={constructor:e,crossOrigin:"anonymous",load:function(e,t,s,n){var i,r=this;i=void 0!==this.resourcePath?this.resourcePath:void 0!==this.path?this.path:THREE.LoaderUtils.extractUrlBase(e),r.manager.itemStart(e);var a=function(t){n?n(t):console.error(t),r.manager.itemError(e),r.manager.itemEnd(e)},o=new THREE.FileLoader(r.manager);o.setPath(this.path),o.setResponseType("arraybuffer"),"use-credentials"===r.crossOrigin&&o.setWithCredentials(!0),o.load(e,(function(s){try{r.parse(s,i,(function(s){t(s),r.manager.itemEnd(e)}),a)}catch(e){a(e)}}),s,a)},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this},setResourcePath:function(e){return this.resourcePath=e,this},setDRACOLoader:function(e){return this.dracoLoader=e,this},setDDSLoader:function(e){return this.ddsLoader=e,this},parse:function(e,t,o,l){var p,m={};if("string"==typeof e)p=e;else if(THREE.LoaderUtils.decodeText(new Uint8Array(e,0,4))===a){try{m[s.KHR_BINARY_GLTF]=new d(e)}catch(e){return void(l&&l(e))}p=m[s.KHR_BINARY_GLTF].content}else p=THREE.LoaderUtils.decodeText(new Uint8Array(e));var f=JSON.parse(p);if(void 0===f.asset||f.asset.version[0]<2)l&&l(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported. Use LegacyGLTFLoader instead."));else{if(f.extensionsUsed)for(var v=0;v<f.extensionsUsed.length;++v){var _=f.extensionsUsed[v],y=f.extensionsRequired||[];switch(_){case s.KHR_LIGHTS_PUNCTUAL:m[_]=new i(f);break;case s.KHR_MATERIALS_UNLIT:m[_]=new r;break;case s.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:m[_]=new h;break;case s.KHR_DRACO_MESH_COMPRESSION:m[_]=new c(f,this.dracoLoader);break;case s.MSFT_TEXTURE_DDS:m[s.MSFT_TEXTURE_DDS]=new n(this.ddsLoader);break;case s.KHR_TEXTURE_TRANSFORM:m[s.KHR_TEXTURE_TRANSFORM]=new u;break;default:y.indexOf(_)>=0&&console.warn('THREE.GLTFLoader: Unknown extension "'+_+'".')}}new I(f,m,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,manager:this.manager}).parse(o,l)}}};var s={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",MSFT_TEXTURE_DDS:"MSFT_texture_dds"};function n(e){if(!e)throw new Error("THREE.GLTFLoader: Attempting to load .dds texture without importing THREE.DDSLoader");this.name=s.MSFT_TEXTURE_DDS,this.ddsLoader=e}function i(e){this.name=s.KHR_LIGHTS_PUNCTUAL;var t=e.extensions&&e.extensions[s.KHR_LIGHTS_PUNCTUAL]||{};this.lightDefs=t.lights||[]}function r(){this.name=s.KHR_MATERIALS_UNLIT}i.prototype.loadLight=function(e){var t,s=this.lightDefs[e],n=new THREE.Color(16777215);void 0!==s.color&&n.fromArray(s.color);var i=void 0!==s.range?s.range:0;switch(s.type){case"directional":(t=new THREE.DirectionalLight(n)).target.position.set(0,0,-1),t.add(t.target);break;case"point":(t=new THREE.PointLight(n)).distance=i;break;case"spot":(t=new THREE.SpotLight(n)).distance=i,s.spot=s.spot||{},s.spot.innerConeAngle=void 0!==s.spot.innerConeAngle?s.spot.innerConeAngle:0,s.spot.outerConeAngle=void 0!==s.spot.outerConeAngle?s.spot.outerConeAngle:Math.PI/4,t.angle=s.spot.outerConeAngle,t.penumbra=1-s.spot.innerConeAngle/s.spot.outerConeAngle,t.target.position.set(0,0,-1),t.add(t.target);break;default:throw new Error('THREE.GLTFLoader: Unexpected light type, "'+s.type+'".')}return t.position.set(0,0,0),t.decay=2,void 0!==s.intensity&&(t.intensity=s.intensity),t.name=s.name||"light_"+e,Promise.resolve(t)},r.prototype.getMaterialType=function(){return THREE.MeshBasicMaterial},r.prototype.extendParams=function(e,t,s){var n=[];e.color=new THREE.Color(1,1,1),e.opacity=1;var i=t.pbrMetallicRoughness;if(i){if(Array.isArray(i.baseColorFactor)){var r=i.baseColorFactor;e.color.fromArray(r),e.opacity=r[3]}void 0!==i.baseColorTexture&&n.push(s.assignTexture(e,"map",i.baseColorTexture))}return Promise.all(n)};var a="glTF",o=12,l={JSON:1313821514,BIN:5130562};function d(e){this.name=s.KHR_BINARY_GLTF,this.content=null,this.body=null;var t=new DataView(e,0,o);if(this.header={magic:THREE.LoaderUtils.decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==a)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected. Use LegacyGLTFLoader instead.");for(var n=new DataView(e,o),i=0;i<n.byteLength;){var r=n.getUint32(i,!0);i+=4;var d=n.getUint32(i,!0);if(i+=4,d===l.JSON){var c=new Uint8Array(e,o+i,r);this.content=THREE.LoaderUtils.decodeText(c)}else if(d===l.BIN){var u=o+i;this.body=e.slice(u,u+r)}i+=r}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")}function c(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=s.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t}function u(){this.name=s.KHR_TEXTURE_TRANSFORM}function h(){return{name:s.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,specularGlossinessParams:["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"],getMaterialType:function(){return THREE.ShaderMaterial},extendParams:function(e,t,s){var n=t.extensions[this.name],i=THREE.ShaderLib.standard,r=THREE.UniformsUtils.clone(i.uniforms),a=["#ifdef USE_SPECULARMAP","\tuniform sampler2D specularMap;","#endif"].join("\n"),o=["#ifdef USE_GLOSSINESSMAP","\tuniform sampler2D glossinessMap;","#endif"].join("\n"),l=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","\tvec4 texelSpecular = texture2D( specularMap, vUv );","\ttexelSpecular = sRGBToLinear( texelSpecular );","\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","\tspecularFactor *= texelSpecular.rgb;","#endif"].join("\n"),d=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );","\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","\tglossinessFactor *= texelGlossiness.a;","#endif"].join("\n"),c=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb;","material.specularRoughness = clamp( 1.0 - glossinessFactor, 0.04, 1.0 );","material.specularColor = specularFactor.rgb;"].join("\n"),u=i.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",a).replace("#include <metalnessmap_pars_fragment>",o).replace("#include <roughnessmap_fragment>",l).replace("#include <metalnessmap_fragment>",d).replace("#include <lights_physical_fragment>",c);delete r.roughness,delete r.metalness,delete r.roughnessMap,delete r.metalnessMap,r.specular={value:(new THREE.Color).setHex(1118481)},r.glossiness={value:.5},r.specularMap={value:null},r.glossinessMap={value:null},e.vertexShader=i.vertexShader,e.fragmentShader=u,e.uniforms=r,e.defines={STANDARD:""},e.color=new THREE.Color(1,1,1),e.opacity=1;var h=[];if(Array.isArray(n.diffuseFactor)){var p=n.diffuseFactor;e.color.fromArray(p),e.opacity=p[3]}if(void 0!==n.diffuseTexture&&h.push(s.assignTexture(e,"map",n.diffuseTexture)),e.emissive=new THREE.Color(0,0,0),e.glossiness=void 0!==n.glossinessFactor?n.glossinessFactor:1,e.specular=new THREE.Color(1,1,1),Array.isArray(n.specularFactor)&&e.specular.fromArray(n.specularFactor),void 0!==n.specularGlossinessTexture){var m=n.specularGlossinessTexture;h.push(s.assignTexture(e,"glossinessMap",m)),h.push(s.assignTexture(e,"specularMap",m))}return Promise.all(h)},createMaterial:function(e){var t=new THREE.ShaderMaterial({defines:e.defines,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader,uniforms:e.uniforms,fog:!0,lights:!0,opacity:e.opacity,transparent:e.transparent});return t.isGLTFSpecularGlossinessMaterial=!0,t.color=e.color,t.map=void 0===e.map?null:e.map,t.lightMap=null,t.lightMapIntensity=1,t.aoMap=void 0===e.aoMap?null:e.aoMap,t.aoMapIntensity=1,t.emissive=e.emissive,t.emissiveIntensity=1,t.emissiveMap=void 0===e.emissiveMap?null:e.emissiveMap,t.bumpMap=void 0===e.bumpMap?null:e.bumpMap,t.bumpScale=1,t.normalMap=void 0===e.normalMap?null:e.normalMap,e.normalScale&&(t.normalScale=e.normalScale),t.displacementMap=null,t.displacementScale=1,t.displacementBias=0,t.specularMap=void 0===e.specularMap?null:e.specularMap,t.specular=e.specular,t.glossinessMap=void 0===e.glossinessMap?null:e.glossinessMap,t.glossiness=e.glossiness,t.alphaMap=null,t.envMap=void 0===e.envMap?null:e.envMap,t.envMapIntensity=1,t.refractionRatio=.98,t.extensions.derivatives=!0,t},cloneMaterial:function(e){var t=e.clone();t.isGLTFSpecularGlossinessMaterial=!0;for(var s=this.specularGlossinessParams,n=0,i=s.length;n<i;n++){var r=e[s[n]];t[s[n]]=r&&r.isColor?r.clone():r}return t},refreshUniforms:function(e,t,s,n,i){if(!0===i.isGLTFSpecularGlossinessMaterial){var r,a=i.uniforms,o=i.defines;a.opacity.value=i.opacity,a.diffuse.value.copy(i.color),a.emissive.value.copy(i.emissive).multiplyScalar(i.emissiveIntensity),a.map.value=i.map,a.specularMap.value=i.specularMap,a.alphaMap.value=i.alphaMap,a.lightMap.value=i.lightMap,a.lightMapIntensity.value=i.lightMapIntensity,a.aoMap.value=i.aoMap,a.aoMapIntensity.value=i.aoMapIntensity,i.map?r=i.map:i.specularMap?r=i.specularMap:i.displacementMap?r=i.displacementMap:i.normalMap?r=i.normalMap:i.bumpMap?r=i.bumpMap:i.glossinessMap?r=i.glossinessMap:i.alphaMap?r=i.alphaMap:i.emissiveMap&&(r=i.emissiveMap),void 0!==r&&(r.isWebGLRenderTarget&&(r=r.texture),!0===r.matrixAutoUpdate&&r.updateMatrix(),a.uvTransform.value.copy(r.matrix)),i.envMap&&(a.envMap.value=i.envMap,a.envMapIntensity.value=i.envMapIntensity,a.flipEnvMap.value=i.envMap.isCubeTexture?-1:1,a.reflectivity.value=i.reflectivity,a.refractionRatio.value=i.refractionRatio,a.maxMipLevel.value=e.properties.get(i.envMap).__maxMipLevel),a.specular.value.copy(i.specular),a.glossiness.value=i.glossiness,a.glossinessMap.value=i.glossinessMap,a.emissiveMap.value=i.emissiveMap,a.bumpMap.value=i.bumpMap,a.normalMap.value=i.normalMap,a.displacementMap.value=i.displacementMap,a.displacementScale.value=i.displacementScale,a.displacementBias.value=i.displacementBias,null!==a.glossinessMap.value&&void 0===o.USE_GLOSSINESSMAP&&(o.USE_GLOSSINESSMAP="",o.USE_ROUGHNESSMAP=""),null===a.glossinessMap.value&&void 0!==o.USE_GLOSSINESSMAP&&(delete o.USE_GLOSSINESSMAP,delete o.USE_ROUGHNESSMAP)}}}}function p(e,t,s,n){THREE.Interpolant.call(this,e,t,s,n)}c.prototype.decodePrimitive=function(e,t){var s=this.json,n=this.dracoLoader,i=e.extensions[this.name].bufferView,r=e.extensions[this.name].attributes,a={},o={},l={};for(var d in r){var c=E[d]||d.toLowerCase();a[c]=r[d]}for(d in e.attributes){c=E[d]||d.toLowerCase();if(void 0!==r[d]){var u=s.accessors[e.attributes[d]],h=w[u.componentType];l[c]=h,o[c]=!0===u.normalized}}return t.getDependency("bufferView",i).then((function(e){return new Promise((function(t){n.decodeDracoFile(e,(function(e){for(var s in e.attributes){var n=e.attributes[s],i=o[s];void 0!==i&&(n.normalized=i)}t(e)}),a,l)}))}))},u.prototype.extendTexture=function(e,t){return e=e.clone(),void 0!==t.offset&&e.offset.fromArray(t.offset),void 0!==t.rotation&&(e.rotation=t.rotation),void 0!==t.scale&&e.repeat.fromArray(t.scale),void 0!==t.texCoord&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),e.needsUpdate=!0,e},p.prototype=Object.create(THREE.Interpolant.prototype),p.prototype.constructor=p,p.prototype.copySampleValue_=function(e){for(var t=this.resultBuffer,s=this.sampleValues,n=this.valueSize,i=e*n*3+n,r=0;r!==n;r++)t[r]=s[i+r];return t},p.prototype.beforeStart_=p.prototype.copySampleValue_,p.prototype.afterEnd_=p.prototype.copySampleValue_,p.prototype.interpolate_=function(e,t,s,n){for(var i=this.resultBuffer,r=this.sampleValues,a=this.valueSize,o=2*a,l=3*a,d=n-t,c=(s-t)/d,u=c*c,h=u*c,p=e*l,m=p-l,f=-2*h+3*u,v=h-u,_=1-f,y=v-u+c,g=0;g!==a;g++){var b=r[m+g+a],M=r[m+g+o]*d,w=r[p+g+a],L=r[p+g]*d;i[g]=_*b+y*M+f*w+v*L}return i};var m,f=0,v=1,_=2,y=3,g=4,b=5,M=6,w={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},L={9728:THREE.NearestFilter,9729:THREE.LinearFilter,9984:THREE.NearestMipmapNearestFilter,9985:THREE.LinearMipmapNearestFilter,9986:THREE.NearestMipmapLinearFilter,9987:THREE.LinearMipmapLinearFilter},x={33071:THREE.ClampToEdgeWrapping,33648:THREE.MirroredRepeatWrapping,10497:THREE.RepeatWrapping},T={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},E={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},k={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},D={CUBICSPLINE:void 0,LINEAR:THREE.InterpolateLinear,STEP:THREE.InterpolateDiscrete},S="OPAQUE",P="MASK",C="BLEND",Y={"image/png":THREE.RGBAFormat,"image/jpeg":THREE.RGBFormat};function A(e,t){return"string"!=typeof e||""===e?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)?e:/^data:.*,.*$/i.test(e)?e:/^blob:.*$/i.test(e)?e:t+e)}function j(e,t,s){for(var n in s.extensions)void 0===e[n]&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[n]=s.extensions[n])}function O(e,t){void 0!==t.extras&&("object"==typeof t.extras?Object.assign(e.userData,t.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function R(e,t){if(e.updateMorphTargets(),void 0!==t.weights)for(var s=0,n=t.weights.length;s<n;s++)e.morphTargetInfluences[s]=t.weights[s];if(t.extras&&Array.isArray(t.extras.targetNames)){var i=t.extras.targetNames;if(e.morphTargetInfluences.length===i.length){e.morphTargetDictionary={};for(s=0,n=i.length;s<n;s++)e.morphTargetDictionary[i[s]]=s}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function N(e){for(var t="",s=Object.keys(e).sort(),n=0,i=s.length;n<i;n++)t+=s[n]+":"+e[s[n]]+";";return t}function H(e){if(e.isInterleavedBufferAttribute){for(var t=e.count,s=e.itemSize,n=e.array.slice(0,t*s),i=0,r=0;i<t;++i)n[r++]=e.getX(i),s>=2&&(n[r++]=e.getY(i)),s>=3&&(n[r++]=e.getZ(i)),s>=4&&(n[r++]=e.getW(i));return new THREE.BufferAttribute(n,s,e.normalized)}return e.clone()}function I(e,s,n){this.json=e||{},this.extensions=s||{},this.options=n||{},this.cache=new t,this.primitiveCache={},this.textureLoader=new THREE.TextureLoader(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.fileLoader=new THREE.FileLoader(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}function F(e,t,s){var n=t.attributes,i=[];function r(t,n){return s.getDependency("accessor",t).then((function(t){e.addAttribute(n,t)}))}for(var a in n){var o=E[a]||a.toLowerCase();o in e.attributes||i.push(r(n[a],o))}if(void 0!==t.indices&&!e.index){var l=s.getDependency("accessor",t.indices).then((function(t){e.setIndex(t)}));i.push(l)}return O(e,t),Promise.all(i).then((function(){return void 0!==t.targets?function(e,t,s){for(var n=!1,i=!1,r=0,a=t.length;r<a;r++){if(void 0!==(d=t[r]).POSITION&&(n=!0),void 0!==d.NORMAL&&(i=!0),n&&i)break}if(!n&&!i)return Promise.resolve(e);var o=[],l=[];for(r=0,a=t.length;r<a;r++){var d=t[r];if(n){var c=void 0!==d.POSITION?s.getDependency("accessor",d.POSITION):e.attributes.position;o.push(c)}if(i){c=void 0!==d.NORMAL?s.getDependency("accessor",d.NORMAL):e.attributes.normal;l.push(c)}}return Promise.all([Promise.all(o),Promise.all(l)]).then((function(s){for(var r=s[0],a=s[1],o=0,l=r.length;o<l;o++)e.attributes.position!==r[o]&&(r[o]=H(r[o]));for(o=0,l=a.length;o<l;o++)e.attributes.normal!==a[o]&&(a[o]=H(a[o]));for(o=0,l=t.length;o<l;o++){var d=t[o],c="morphTarget"+o;if(n&&void 0!==d.POSITION){var u=r[o];u.name=c;for(var h=e.attributes.position,p=0,m=u.count;p<m;p++)u.setXYZ(p,u.getX(p)+h.getX(p),u.getY(p)+h.getY(p),u.getZ(p)+h.getZ(p))}if(i&&void 0!==d.NORMAL){var f=a[o];f.name=c;var v=e.attributes.normal;for(p=0,m=f.count;p<m;p++)f.setXYZ(p,f.getX(p)+v.getX(p),f.getY(p)+v.getY(p),f.getZ(p)+v.getZ(p))}}return n&&(e.morphAttributes.position=r),i&&(e.morphAttributes.normal=a),e}))}(e,t.targets,s):e}))}return I.prototype.parse=function(e,t){var s=this,n=this.json,i=this.extensions;this.cache.removeAll(),this.markDefs(),Promise.all([this.getDependencies("scene"),this.getDependencies("animation"),this.getDependencies("camera")]).then((function(t){var r={scene:t[0][n.scene||0],scenes:t[0],animations:t[1],cameras:t[2],asset:n.asset,parser:s,userData:{}};j(i,r,n),O(r,n),e(r)})).catch(t)},I.prototype.markDefs=function(){for(var e=this.json.nodes||[],t=this.json.skins||[],s=this.json.meshes||[],n={},i={},r=0,a=t.length;r<a;r++)for(var o=t[r].joints,l=0,d=o.length;l<d;l++)e[o[l]].isBone=!0;for(var c=0,u=e.length;c<u;c++){var h=e[c];void 0!==h.mesh&&(void 0===n[h.mesh]&&(n[h.mesh]=i[h.mesh]=0),n[h.mesh]++,void 0!==h.skin&&(s[h.mesh].isSkinnedMesh=!0))}this.json.meshReferences=n,this.json.meshUses=i},I.prototype.getDependency=function(e,t){var n=e+":"+t,i=this.cache.get(n);if(!i){switch(e){case"scene":i=this.loadScene(t);break;case"node":i=this.loadNode(t);break;case"mesh":i=this.loadMesh(t);break;case"accessor":i=this.loadAccessor(t);break;case"bufferView":i=this.loadBufferView(t);break;case"buffer":i=this.loadBuffer(t);break;case"material":i=this.loadMaterial(t);break;case"texture":i=this.loadTexture(t);break;case"skin":i=this.loadSkin(t);break;case"animation":i=this.loadAnimation(t);break;case"camera":i=this.loadCamera(t);break;case"light":i=this.extensions[s.KHR_LIGHTS_PUNCTUAL].loadLight(t);break;default:throw new Error("Unknown type: "+e)}this.cache.add(n,i)}return i},I.prototype.getDependencies=function(e){var t=this.cache.get(e);if(!t){var s=this,n=this.json[e+("mesh"===e?"es":"s")]||[];t=Promise.all(n.map((function(t,n){return s.getDependency(e,n)}))),this.cache.add(e,t)}return t},I.prototype.loadBuffer=function(e){var t=this.json.buffers[e],n=this.fileLoader;if(t.type&&"arraybuffer"!==t.type)throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(void 0===t.uri&&0===e)return Promise.resolve(this.extensions[s.KHR_BINARY_GLTF].body);var i=this.options;return new Promise((function(e,s){n.load(A(t.uri,i.path),e,void 0,(function(){s(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))}))}))},I.prototype.loadBufferView=function(e){var t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then((function(e){var s=t.byteLength||0,n=t.byteOffset||0;return e.slice(n,n+s)}))},I.prototype.loadAccessor=function(e){var t=this,s=this.json,n=this.json.accessors[e];if(void 0===n.bufferView&&void 0===n.sparse)return Promise.resolve(null);var i=[];return void 0!==n.bufferView?i.push(this.getDependency("bufferView",n.bufferView)):i.push(null),void 0!==n.sparse&&(i.push(this.getDependency("bufferView",n.sparse.indices.bufferView)),i.push(this.getDependency("bufferView",n.sparse.values.bufferView))),Promise.all(i).then((function(e){var i,r,a=e[0],o=T[n.type],l=w[n.componentType],d=l.BYTES_PER_ELEMENT,c=d*o,u=n.byteOffset||0,h=void 0!==n.bufferView?s.bufferViews[n.bufferView].byteStride:void 0,p=!0===n.normalized;if(h&&h!==c){var m=Math.floor(u/h),f="InterleavedBuffer:"+n.bufferView+":"+n.componentType+":"+m+":"+n.count,v=t.cache.get(f);v||(i=new l(a,m*h,n.count*h/d),v=new THREE.InterleavedBuffer(i,h/d),t.cache.add(f,v)),r=new THREE.InterleavedBufferAttribute(v,o,u%h/d,p)}else i=null===a?new l(n.count*o):new l(a,u,n.count*o),r=new THREE.BufferAttribute(i,o,p);if(void 0!==n.sparse){var _=T.SCALAR,y=w[n.sparse.indices.componentType],g=n.sparse.indices.byteOffset||0,b=n.sparse.values.byteOffset||0,M=new y(e[1],g,n.sparse.count*_),L=new l(e[2],b,n.sparse.count*o);null!==a&&r.setArray(r.array.slice());for(var x=0,E=M.length;x<E;x++){var k=M[x];if(r.setX(k,L[x*o]),o>=2&&r.setY(k,L[x*o+1]),o>=3&&r.setZ(k,L[x*o+2]),o>=4&&r.setW(k,L[x*o+3]),o>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return r}))},I.prototype.loadTexture=function(e){var t,n=this,i=this.json,r=this.options,a=this.textureLoader,o=window.URL||window.webkitURL,l=i.textures[e],d=l.extensions||{},c=(t=d[s.MSFT_TEXTURE_DDS]?i.images[d[s.MSFT_TEXTURE_DDS].source]:i.images[l.source]).uri,u=!1;return void 0!==t.bufferView&&(c=n.getDependency("bufferView",t.bufferView).then((function(e){u=!0;var s=new Blob([e],{type:t.mimeType});return c=o.createObjectURL(s)}))),Promise.resolve(c).then((function(e){var t=THREE.Loader.Handlers.get(e);return t||(t=d[s.MSFT_TEXTURE_DDS]?n.extensions[s.MSFT_TEXTURE_DDS].ddsLoader:a),new Promise((function(s,n){t.load(A(e,r.path),s,void 0,n)}))})).then((function(e){!0===u&&o.revokeObjectURL(c),e.flipY=!1,void 0!==l.name&&(e.name=l.name),t.mimeType in Y&&(e.format=Y[t.mimeType]);var s=(i.samplers||{})[l.sampler]||{};return e.magFilter=L[s.magFilter]||THREE.LinearFilter,e.minFilter=L[s.minFilter]||THREE.LinearMipmapLinearFilter,e.wrapS=x[s.wrapS]||THREE.RepeatWrapping,e.wrapT=x[s.wrapT]||THREE.RepeatWrapping,e}))},I.prototype.assignTexture=function(e,t,n){var i=this;return this.getDependency("texture",n.index).then((function(r){if(!r.isCompressedTexture)switch(t){case"aoMap":case"emissiveMap":case"metalnessMap":case"normalMap":case"roughnessMap":r.format=THREE.RGBFormat}if(i.extensions[s.KHR_TEXTURE_TRANSFORM]){var a=void 0!==n.extensions?n.extensions[s.KHR_TEXTURE_TRANSFORM]:void 0;a&&(r=i.extensions[s.KHR_TEXTURE_TRANSFORM].extendTexture(r,a))}e[t]=r}))},I.prototype.assignFinalMaterial=function(e){var t=e.geometry,n=e.material,i=this.extensions,r=void 0!==t.attributes.tangent,a=void 0!==t.attributes.color,o=void 0===t.attributes.normal,l=!0===e.isSkinnedMesh,d=Object.keys(t.morphAttributes).length>0,c=d&&void 0!==t.morphAttributes.normal;if(e.isPoints){var u="PointsMaterial:"+n.uuid,h=this.cache.get(u);h||(h=new THREE.PointsMaterial,THREE.Material.prototype.copy.call(h,n),h.color.copy(n.color),h.map=n.map,h.lights=!1,h.sizeAttenuation=!1,this.cache.add(u,h)),n=h}else if(e.isLine){u="LineBasicMaterial:"+n.uuid;var p=this.cache.get(u);p||(p=new THREE.LineBasicMaterial,THREE.Material.prototype.copy.call(p,n),p.color.copy(n.color),p.lights=!1,this.cache.add(u,p)),n=p}if(r||a||o||l||d){u="ClonedMaterial:"+n.uuid+":";n.isGLTFSpecularGlossinessMaterial&&(u+="specular-glossiness:"),l&&(u+="skinning:"),r&&(u+="vertex-tangents:"),a&&(u+="vertex-colors:"),o&&(u+="flat-shading:"),d&&(u+="morph-targets:"),c&&(u+="morph-normals:");var m=this.cache.get(u);m||(m=n.isGLTFSpecularGlossinessMaterial?i[s.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].cloneMaterial(n):n.clone(),l&&(m.skinning=!0),r&&(m.vertexTangents=!0),a&&(m.vertexColors=THREE.VertexColors),o&&(m.flatShading=!0),d&&(m.morphTargets=!0),c&&(m.morphNormals=!0),this.cache.add(u,m)),n=m}n.aoMap&&void 0===t.attributes.uv2&&void 0!==t.attributes.uv&&(console.log("THREE.GLTFLoader: Duplicating UVs to support aoMap."),t.addAttribute("uv2",new THREE.BufferAttribute(t.attributes.uv.array,2))),n.isGLTFSpecularGlossinessMaterial&&(e.onBeforeRender=i[s.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].refreshUniforms),e.material=n},I.prototype.loadMaterial=function(e){var t,n=this.json,i=this.extensions,r=n.materials[e],a={},o=r.extensions||{},l=[];if(o[s.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){var d=i[s.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];t=d.getMaterialType(),l.push(d.extendParams(a,r,this))}else if(o[s.KHR_MATERIALS_UNLIT]){var c=i[s.KHR_MATERIALS_UNLIT];t=c.getMaterialType(),l.push(c.extendParams(a,r,this))}else{t=THREE.MeshStandardMaterial;var u=r.pbrMetallicRoughness||{};if(a.color=new THREE.Color(1,1,1),a.opacity=1,Array.isArray(u.baseColorFactor)){var h=u.baseColorFactor;a.color.fromArray(h),a.opacity=h[3]}void 0!==u.baseColorTexture&&l.push(this.assignTexture(a,"map",u.baseColorTexture)),a.metalness=void 0!==u.metallicFactor?u.metallicFactor:1,a.roughness=void 0!==u.roughnessFactor?u.roughnessFactor:1,void 0!==u.metallicRoughnessTexture&&(l.push(this.assignTexture(a,"metalnessMap",u.metallicRoughnessTexture)),l.push(this.assignTexture(a,"roughnessMap",u.metallicRoughnessTexture)))}!0===r.doubleSided&&(a.side=THREE.DoubleSide);var p=r.alphaMode||S;return p===C?a.transparent=!0:(a.transparent=!1,p===P&&(a.alphaTest=void 0!==r.alphaCutoff?r.alphaCutoff:.5)),void 0!==r.normalTexture&&t!==THREE.MeshBasicMaterial&&(l.push(this.assignTexture(a,"normalMap",r.normalTexture)),a.normalScale=new THREE.Vector2(1,1),void 0!==r.normalTexture.scale&&a.normalScale.set(r.normalTexture.scale,r.normalTexture.scale)),void 0!==r.occlusionTexture&&t!==THREE.MeshBasicMaterial&&(l.push(this.assignTexture(a,"aoMap",r.occlusionTexture)),void 0!==r.occlusionTexture.strength&&(a.aoMapIntensity=r.occlusionTexture.strength)),void 0!==r.emissiveFactor&&t!==THREE.MeshBasicMaterial&&(a.emissive=(new THREE.Color).fromArray(r.emissiveFactor)),void 0!==r.emissiveTexture&&t!==THREE.MeshBasicMaterial&&l.push(this.assignTexture(a,"emissiveMap",r.emissiveTexture)),Promise.all(l).then((function(){var e;return e=t===THREE.ShaderMaterial?i[s.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(a):new t(a),void 0!==r.name&&(e.name=r.name),e.map&&(e.map.encoding=THREE.sRGBEncoding),e.emissiveMap&&(e.emissiveMap.encoding=THREE.sRGBEncoding),e.specularMap&&(e.specularMap.encoding=THREE.sRGBEncoding),O(e,r),r.extensions&&j(i,e,r),e}))},I.prototype.loadGeometries=function(e){var t=this,n=this.extensions,i=this.primitiveCache;function r(e){return n[s.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(e,t).then((function(s){return F(s,e,t)}))}for(var a,o,l=[],d=0,c=e.length;d<c;d++){var u,h=e[d],p=(o=void 0,(o=(a=h).extensions&&a.extensions[s.KHR_DRACO_MESH_COMPRESSION])?"draco:"+o.bufferView+":"+o.indices+":"+N(o.attributes):a.indices+":"+N(a.attributes)+":"+a.mode),m=i[p];if(m)l.push(m.promise);else u=h.extensions&&h.extensions[s.KHR_DRACO_MESH_COMPRESSION]?r(h):F(new THREE.BufferGeometry,h,t),i[p]={primitive:h,promise:u},l.push(u)}return Promise.all(l)},I.prototype.loadMesh=function(e){for(var t=this,s=this.json.meshes[e],n=s.primitives,i=[],r=0,a=n.length;r<a;r++){var o=void 0===n[r].material?m=m||new THREE.MeshStandardMaterial({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:THREE.FrontSide}):this.getDependency("material",n[r].material);i.push(o)}return Promise.all(i).then((function(i){return t.loadGeometries(n).then((function(r){for(var a=[],o=0,l=r.length;o<l;o++){var d,c=r[o],u=n[o],h=i[o];if(u.mode===g||u.mode===b||u.mode===M||void 0===u.mode)!0!==(d=!0===s.isSkinnedMesh?new THREE.SkinnedMesh(c,h):new THREE.Mesh(c,h)).isSkinnedMesh||d.geometry.attributes.skinWeight.normalized||d.normalizeSkinWeights(),u.mode===b?d.drawMode=THREE.TriangleStripDrawMode:u.mode===M&&(d.drawMode=THREE.TriangleFanDrawMode);else if(u.mode===v)d=new THREE.LineSegments(c,h);else if(u.mode===y)d=new THREE.Line(c,h);else if(u.mode===_)d=new THREE.LineLoop(c,h);else{if(u.mode!==f)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+u.mode);d=new THREE.Points(c,h)}Object.keys(d.geometry.morphAttributes).length>0&&R(d,s),d.name=s.name||"mesh_"+e,r.length>1&&(d.name+="_"+o),O(d,s),t.assignFinalMaterial(d),a.push(d)}if(1===a.length)return a[0];var p=new THREE.Group;for(o=0,l=a.length;o<l;o++)p.add(a[o]);return p}))}))},I.prototype.loadCamera=function(e){var t,s=this.json.cameras[e],n=s[s.type];if(n)return"perspective"===s.type?t=new THREE.PerspectiveCamera(THREE.Math.radToDeg(n.yfov),n.aspectRatio||1,n.znear||1,n.zfar||2e6):"orthographic"===s.type&&(t=new THREE.OrthographicCamera(n.xmag/-2,n.xmag/2,n.ymag/2,n.ymag/-2,n.znear,n.zfar)),void 0!==s.name&&(t.name=s.name),O(t,s),Promise.resolve(t);console.warn("THREE.GLTFLoader: Missing camera parameters.")},I.prototype.loadSkin=function(e){var t=this.json.skins[e],s={joints:t.joints};return void 0===t.inverseBindMatrices?Promise.resolve(s):this.getDependency("accessor",t.inverseBindMatrices).then((function(e){return s.inverseBindMatrices=e,s}))},I.prototype.loadAnimation=function(e){for(var t=this.json.animations[e],s=[],n=[],i=[],r=[],a=[],o=0,l=t.channels.length;o<l;o++){var d=t.channels[o],c=t.samplers[d.sampler],u=d.target,h=void 0!==u.node?u.node:u.id,m=void 0!==t.parameters?t.parameters[c.input]:c.input,f=void 0!==t.parameters?t.parameters[c.output]:c.output;s.push(this.getDependency("node",h)),n.push(this.getDependency("accessor",m)),i.push(this.getDependency("accessor",f)),r.push(c),a.push(u)}return Promise.all([Promise.all(s),Promise.all(n),Promise.all(i),Promise.all(r),Promise.all(a)]).then((function(s){for(var n=s[0],i=s[1],r=s[2],a=s[3],o=s[4],l=[],d=0,c=n.length;d<c;d++){var u=n[d],h=i[d],m=r[d],f=a[d],v=o[d];if(void 0!==u){var _;switch(u.updateMatrix(),u.matrixAutoUpdate=!0,k[v.path]){case k.weights:_=THREE.NumberKeyframeTrack;break;case k.rotation:_=THREE.QuaternionKeyframeTrack;break;case k.position:case k.scale:default:_=THREE.VectorKeyframeTrack}var y=u.name?u.name:u.uuid,g=void 0!==f.interpolation?D[f.interpolation]:THREE.InterpolateLinear,b=[];k[v.path]===k.weights?u.traverse((function(e){!0===e.isMesh&&e.morphTargetInfluences&&b.push(e.name?e.name:e.uuid)})):b.push(y);var M=m.array;if(m.normalized){var w;if(M.constructor===Int8Array)w=1/127;else if(M.constructor===Uint8Array)w=1/255;else if(M.constructor==Int16Array)w=1/32767;else{if(M.constructor!==Uint16Array)throw new Error("THREE.GLTFLoader: Unsupported output accessor component type.");w=1/65535}for(var L=new Float32Array(M.length),x=0,T=M.length;x<T;x++)L[x]=M[x]*w;M=L}for(x=0,T=b.length;x<T;x++){var E=new _(b[x]+"."+k[v.path],h.array,M,g);"CUBICSPLINE"===f.interpolation&&(E.createInterpolant=function(e){return new p(this.times,this.values,this.getValueSize()/3,e)},E.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),l.push(E)}}}var S=void 0!==t.name?t.name:"animation_"+e;return new THREE.AnimationClip(S,void 0,l)}))},I.prototype.loadNode=function(e){var t,n=this.json,i=this.extensions,r=this,a=n.meshReferences,o=n.meshUses,l=n.nodes[e];return(t=[],void 0!==l.mesh&&t.push(r.getDependency("mesh",l.mesh).then((function(e){var t;if(a[l.mesh]>1){var s=o[l.mesh]++;(t=e.clone()).name+="_instance_"+s,t.onBeforeRender=e.onBeforeRender;for(var n=0,i=t.children.length;n<i;n++)t.children[n].name+="_instance_"+s,t.children[n].onBeforeRender=e.children[n].onBeforeRender}else t=e;return void 0!==l.weights&&t.traverse((function(e){if(e.isMesh)for(var t=0,s=l.weights.length;t<s;t++)e.morphTargetInfluences[t]=l.weights[t]})),t}))),void 0!==l.camera&&t.push(r.getDependency("camera",l.camera)),l.extensions&&l.extensions[s.KHR_LIGHTS_PUNCTUAL]&&void 0!==l.extensions[s.KHR_LIGHTS_PUNCTUAL].light&&t.push(r.getDependency("light",l.extensions[s.KHR_LIGHTS_PUNCTUAL].light)),Promise.all(t)).then((function(e){var t;if((t=!0===l.isBone?new THREE.Bone:e.length>1?new THREE.Group:1===e.length?e[0]:new THREE.Object3D)!==e[0])for(var s=0,n=e.length;s<n;s++)t.add(e[s]);if(void 0!==l.name&&(t.userData.name=l.name,t.name=THREE.PropertyBinding.sanitizeNodeName(l.name)),O(t,l),l.extensions&&j(i,t,l),void 0!==l.matrix){var r=new THREE.Matrix4;r.fromArray(l.matrix),t.applyMatrix(r)}else void 0!==l.translation&&t.position.fromArray(l.translation),void 0!==l.rotation&&t.quaternion.fromArray(l.rotation),void 0!==l.scale&&t.scale.fromArray(l.scale);return t}))},I.prototype.loadScene=function(){function e(t,s,n,i){var r=n.nodes[t];return i.getDependency("node",t).then((function(e){return void 0===r.skin?e:i.getDependency("skin",r.skin).then((function(e){for(var s=[],n=0,r=(t=e).joints.length;n<r;n++)s.push(i.getDependency("node",t.joints[n]));return Promise.all(s)})).then((function(s){return e.traverse((function(e){if(e.isMesh){for(var n=[],i=[],r=0,a=s.length;r<a;r++){var o=s[r];if(o){n.push(o);var l=new THREE.Matrix4;void 0!==t.inverseBindMatrices&&l.fromArray(t.inverseBindMatrices.array,16*r),i.push(l)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[r])}e.bind(new THREE.Skeleton(n,i),e.matrixWorld)}})),e}));var t})).then((function(t){s.add(t);var a=[];if(r.children)for(var o=r.children,l=0,d=o.length;l<d;l++){var c=o[l];a.push(e(c,t,n,i))}return Promise.all(a)}))}return function(t){var s=this.json,n=this.extensions,i=this.json.scenes[t],r=new THREE.Scene;void 0!==i.name&&(r.name=i.name),O(r,i),i.extensions&&j(n,r,i);for(var a=i.nodes||[],o=[],l=0,d=a.length;l<d;l++)o.push(e(a[l],r,s,this));return Promise.all(o).then((function(){return r}))}}(),e}()},function(e,t){THREE.DRACOLoader=function(e){this.manager=e||THREE.DefaultLoadingManager,this.path="",this.crossOrigin="anonymous",this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}},THREE.DRACOLoader.prototype={constructor:THREE.DRACOLoader,setPath:function(e){return this.path=e,this},setCrossOrigin:function(e){return this.crossOrigin=e,this},setDecoderPath:function(e){return this.decoderPath=e,this},setDecoderConfig:function(e){return this.decoderConfig=e,this},setWorkerLimit:function(e){return this.workerLimit=e,this},setVerbosity:function(){console.warn("THREE.DRACOLoader: The .setVerbosity() method has been removed.")},setDrawMode:function(){console.warn("THREE.DRACOLoader: The .setDrawMode() method has been removed.")},setSkipDequantization:function(){console.warn("THREE.DRACOLoader: The .setSkipDequantization() method has been removed.")},load:function(e,t,s,n){var i=new THREE.FileLoader(this.manager);i.setPath(this.path),i.setResponseType("arraybuffer"),"use-credentials"===this.crossOrigin&&i.setWithCredentials(!0),i.load(e,e=>{var s={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes};this.decodeGeometry(e,s).then(t).catch(n)},s,n)},decodeDracoFile:function(e,t,s,n){var i={attributeIDs:s||this.defaultAttributeIDs,attributeTypes:n||this.defaultAttributeTypes};this.decodeGeometry(e,i).then(t)},decodeGeometry:function(e,t){var s,n=this.workerNextTaskID++,i=e.byteLength;for(var r in t.attributeTypes){var a=t.attributeTypes[r];void 0!==a.BYTES_PER_ELEMENT&&(t.attributeTypes[r]=a.name)}var o=this._getWorker(n,i).then(i=>(s=i,new Promise((i,r)=>{s._callbacks[n]={resolve:i,reject:r},s.postMessage({type:"decode",id:n,taskConfig:t,buffer:e},[e])}))).then(e=>this._createGeometry(e.geometry));return o.finally(()=>{s&&n&&this._releaseTask(s,n)}),o},_createGeometry:function(e){var t=new THREE.BufferGeometry;e.index&&t.setIndex(new THREE.BufferAttribute(e.index.array,1));for(var s=0;s<e.attributes.length;s++){var n=e.attributes[s],i=n.name,r=n.array,a=n.itemSize;t.addAttribute(i,new THREE.BufferAttribute(r,a))}return t},_loadLibrary:function(e,t){var s=new THREE.FileLoader(this.manager);return s.setPath(this.decoderPath),s.setResponseType(t),new Promise((t,n)=>{s.load(e,t,void 0,n)})},_initDecoder:function(){if(this.decoderPending)return this.decoderPending;var e="object"!=typeof WebAssembly||"js"===this.decoderConfig.type,t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(t=>{var s=t[0];e||(this.decoderConfig.wasmBinary=t[1]);var n=THREE.DRACOLoader.DRACOWorker.toString(),i=["/* draco decoder */",s,"","/* worker */",n.substring(n.indexOf("{")+1,n.lastIndexOf("}"))].join("\n");this.workerSourceURL=URL.createObjectURL(new Blob([i]))}),this.decoderPending},_getWorker:function(e,t){return this._initDecoder().then(()=>{var s;this.workerPool.length<this.workerLimit?((s=new Worker(this.workerSourceURL))._callbacks={},s._taskCosts={},s._taskLoad=0,s.postMessage({type:"init",decoderConfig:this.decoderConfig}),s.onmessage=function(e){var t=e.data;switch(t.type){case"decode":s._callbacks[t.id].resolve(t);break;case"error":s._callbacks[t.id].reject(t);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+t.type+'"')}},this.workerPool.push(s)):this.workerPool.sort((function(e,t){return e._taskLoad>t._taskLoad?-1:1}));return(s=this.workerPool[this.workerPool.length-1])._taskCosts[e]=t,s._taskLoad+=t,s})},_releaseTask:function(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]},debug:function(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))},dispose:function(){for(var e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}},THREE.DRACOLoader.DRACOWorker=function(){var e,t;function s(e,t,s,n,i,r){var a,o,l=r.num_components(),d=s.num_points()*l;switch(i){case Float32Array:a=new e.DracoFloat32Array,t.GetAttributeFloatForAllPoints(s,r,a),o=new Float32Array(d);break;case Int8Array:a=new e.DracoInt8Array,t.GetAttributeInt8ForAllPoints(s,r,a),o=new Int8Array(d);break;case Int16Array:a=new e.DracoInt16Array,t.GetAttributeInt16ForAllPoints(s,r,a),o=new Int16Array(d);break;case Int32Array:a=new e.DracoInt32Array,t.GetAttributeInt32ForAllPoints(s,r,a),o=new Int32Array(d);break;case Uint8Array:a=new e.DracoUInt8Array,t.GetAttributeUInt8ForAllPoints(s,r,a),o=new Uint8Array(d);break;case Uint16Array:a=new e.DracoUInt16Array,t.GetAttributeUInt16ForAllPoints(s,r,a),o=new Uint16Array(d);break;case Uint32Array:a=new e.DracoUInt32Array,t.GetAttributeUInt32ForAllPoints(s,r,a),o=new Uint32Array(d);break;default:throw new Error("THREE.DRACOLoader: Unexpected attribute type.")}for(var c=0;c<d;c++)o[c]=a.GetValue(c);return e.destroy(a),{name:n,array:o,itemSize:l}}onmessage=function(n){var i=n.data;switch(i.type){case"init":e=i.decoderConfig,t=new Promise((function(t,s){e.onModuleLoaded=function(e){t({draco:e})},DracoDecoderModule(e)}));break;case"decode":var r=i.buffer,a=i.taskConfig;t.then(e=>{var t=e.draco,n=new t.Decoder,o=new t.DecoderBuffer;o.Init(new Int8Array(r),r.byteLength);try{var l=function(e,t,n,i){var r,a,o=i.attributeIDs,l=i.attributeTypes,d=t.GetEncodedGeometryType(n);if(d===e.TRIANGULAR_MESH)r=new e.Mesh,a=t.DecodeBufferToMesh(n,r);else{if(d!==e.POINT_CLOUD)throw new Error("THREE.DRACOLoader: Unexpected geometry type.");r=new e.PointCloud,a=t.DecodeBufferToPointCloud(n,r)}if(!a.ok()||0===r.ptr)throw new Error("THREE.DRACOLoader: Decoding failed: "+a.error_msg());var c={index:null,attributes:[]};r.num_points(),r.num_attributes();for(var u in o){var h=self[l[u]],p=o[u],m=t.GetAttributeByUniqueId(r,p);c.attributes.push(s(e,t,r,u,h,m))}if(d===e.TRIANGULAR_MESH){for(var f=r.num_faces(),v=new Uint32Array(3*f),_=new e.DracoInt32Array,y=0;y<f;++y){t.GetFaceFromMesh(r,y,_);for(var g=0;g<3;++g)v[3*y+g]=_.GetValue(g)}c.index={array:v,itemSize:1},e.destroy(_)}return e.destroy(r),c}(t,n,o,a),d=l.attributes.map(e=>e.array.buffer);l.index&&d.push(l.index.array.buffer),self.postMessage({type:"decode",id:i.id,geometry:l},d)}catch(e){console.error(e),self.postMessage({type:"error",id:i.id,error:e.message})}finally{t.destroy(o),t.destroy(n)}})}}},THREE.DRACOLoader.setDecoderPath=function(){console.warn("THREE.DRACOLoader: The .setDecoderPath() method has been removed. Use instance methods.")},THREE.DRACOLoader.setDecoderConfig=function(){console.warn("THREE.DRACOLoader: The .setDecoderConfig() method has been removed. Use instance methods.")},THREE.DRACOLoader.releaseDecoderModule=function(){console.warn("THREE.DRACOLoader: The .releaseDecoderModule() method has been removed. Use instance methods.")},THREE.DRACOLoader.getDecoderModule=function(){console.warn("THREE.DRACOLoader: The .getDecoderModule() method has been removed. Use instance methods.")}},function(e,t,s){"use strict";s.r(t),t.default="//#define PHYSICAL\n//#define STANDARD\n\n#ifdef PHYSICAL\n    #define REFLECTIVITY\n    #define CLEARCOAT\n    #define TRANSPARENCY\n#endif\n\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n\n#ifdef TRANSPARENCY\n    uniform float transparency;\n#endif\n\n#ifdef REFLECTIVITY\n    uniform float reflectivity;\n#endif\n\n#ifdef CLEARCOAT\n    uniform float clearcoat;\n    uniform float clearcoatRoughness;\n#endif\n\n#ifdef USE_SHEEN\n    uniform vec3 sheen;\n#endif\n\n//#ifndef STANDARD\n//\tuniform float clearCoat;\n//\tuniform float clearCoatRoughness;\n//#endif\n\nvarying vec3 vViewPosition;\n\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\n    #ifdef USE_TANGENT\n        varying vec3 vTangent;\n        varying vec3 vBitangent;\n    #endif\n#endif\n\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n\n//#include <uv_pars_fragment>\n//#include <uv2_pars_fragment>\n// REPLACED WITH\n#if defined(USE_MAP) || defined(USE_BUMPMAP) || defined(USE_NORMALMAP) || defined(USE_SPECULARMAP) || defined(USE_ALPHAMAP) || defined(USE_EMISSIVEMAP) || defined(USE_ROUGHNESSMAP) || defined(USE_METALNESSMAP) || defined(USE_LIGHTMAP) || defined(USE_AOMAP)\n\tvarying vec2 vUv;\n#endif\n\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\n\n#ifdef USE_AOMAP\n    uniform vec3 aoMapMix;\n#endif\n\n#ifdef MODE_XRAY\n    varying float vIntensity;\n#endif\n\n#ifdef CUT_PLANE\n    varying vec3 vWorldPosition;\n    uniform vec4 cutPlaneDirection;\n    uniform vec3 cutPlaneColor;\n#endif\n\nvoid main() {\n    #ifdef CUT_PLANE\n        if (dot(vWorldPosition, cutPlaneDirection.xyz) < -cutPlaneDirection.w) {\n            discard;\n        }\n    #endif\n\n\t#include <clipping_planes_fragment>\n\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n    #include <normal_fragment_maps>\n\n\t#ifdef CUT_PLANE\n\t    // on the cut surface (back facing fragments revealed), replace normal with cut plane direction\n        if (!gl_FrontFacing) {\n            normal = -cutPlaneDirection.xyz;\n            diffuseColor.rgb = cutPlaneColor.rgb;\n        }\n\t#endif\n\n    #include <clearcoat_normal_fragment_begin>\n    #include <clearcoat_normal_fragment_maps>\n    #include <emissivemap_fragment>\n\n\t// accumulation\n    #if defined(USE_LIGHTMAP) || defined(USE_AOMAP)\n        vec2 vUv2 = vUv;\n    #endif\n\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\n\t// modulation\n\t//#include <aomap_fragment>\n\t// REPLACED WITH\n\t#ifdef USE_AOMAP\n\t    // if cut plane is enabled, disable ambient occlusion on back facing fragments\n\t    #ifdef CUT_PLANE\n            if (gl_FrontFacing) {\n\t    #endif\n\n    \t// reads channel R, compatible with a combined OcclusionRoughnessMetallic (RGB) texture\n    \tvec3 aoSample = texture2D(aoMap, vUv).rgb;\n    \tvec3 aoFactors = mix(vec3(1.0), aoSample, clamp(aoMapMix * aoMapIntensity, 0.0, 1.0));\n    \tfloat ambientOcclusion = aoFactors.x * aoFactors.y * aoFactors.z;\n    \tfloat ambientOcclusion2 = ambientOcclusion * ambientOcclusion;\n    \treflectedLight.directDiffuse *= ambientOcclusion2;\n    \treflectedLight.directSpecular *= ambientOcclusion;\n    \t//reflectedLight.indirectDiffuse *= ambientOcclusion;\n\n    \t#if defined(USE_ENVMAP) && defined(PHYSICAL)\n    \t\tfloat dotNV = saturate(dot(geometry.normal, geometry.viewDir));\n    \t\treflectedLight.indirectSpecular *= computeSpecularOcclusion(dotNV, ambientOcclusion, material.specularRoughness);\n    \t#endif\n\n    \t#ifdef CUT_PLANE\n    \t    }\n    \t#endif\n    #endif\n\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\n    // this is a stub for the transparency model\n    #ifdef TRANSPARENCY\n        diffuseColor.a *= saturate( 1. - transparency + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) );\n    #endif\n\n\tgl_FragColor = vec4(outgoingLight, diffuseColor.a);\n\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n\n    #ifdef MODE_NORMALS\n        gl_FragColor = vec4(vec3(normal * 0.5 + 0.5), 1.0);\n    #endif\n\n    #ifdef MODE_XRAY\n        gl_FragColor = vec4(vec3(0.4, 0.7, 1.0) * vIntensity, 1.0);\n    #endif\n}\n"},function(e,t,s){"use strict";s.r(t),t.default="//#define PHYSICAL\n//#define STANDARD\n\nvarying vec3 vViewPosition;\n\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n\n#include <common>\n\n//#include <uv_pars_vertex>\n//#include <uv2_pars_vertex>\n// REPLACED WITH\n#if defined(USE_MAP) || defined(USE_BUMPMAP) || defined(USE_NORMALMAP) || defined(USE_SPECULARMAP) || defined(USE_ALPHAMAP) || defined(USE_EMISSIVEMAP) || defined(USE_ROUGHNESSMAP) || defined(USE_METALNESSMAP) || defined(USE_LIGHTMAP) || defined(USE_AOMAP)\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\n\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\n#ifdef MODE_XRAY\n    varying float vIntensity;\n#endif\n\n#ifdef CUT_PLANE\n    varying vec3 vWorldPosition;\n#endif\n\nvoid main() {\n\n//\t#include <uv_vertex>\n//\t#include <uv2_vertex>\n//  REPLACED WITH\n#if defined(USE_MAP) || defined(USE_BUMPMAP) || defined(USE_NORMALMAP) || defined(USE_SPECULARMAP) || defined(USE_ALPHAMAP) || defined(USE_EMISSIVEMAP) || defined(USE_ROUGHNESSMAP) || defined(USE_METALNESSMAP) || defined(USE_LIGHTMAP) || defined(USE_AOMAP)\n\tvUv = (uvTransform * vec3(uv, 1)).xy;\n#endif\n\n\t#include <color_vertex>\n\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\n#ifndef FLAT_SHADED // Normal computed with derivatives when FLAT_SHADED\n\tvNormal = normalize(transformedNormal);\n\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\n#ifdef MODE_XRAY\n    vIntensity = pow(abs(1.0 - abs(dot(vNormal, vec3(0.0, 0.0, 1.0)))), 3.0);\n#endif\n\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\n\tvViewPosition = -mvPosition.xyz;\n\n\t// #include <worldpos_vertex>\n\t// REPLACED WITH\n\t#if defined(USE_ENVMAP) || defined(DISTANCE) || defined(USE_SHADOWMAP) || defined(CUT_PLANE)\n    \tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n    #endif\n\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n\n#ifdef CUT_PLANE\n    vWorldPosition = worldPosition.xyz / worldPosition.w;\n#endif\n\n#ifdef MODE_NORMALS\n    vNormal = normal;\n#endif\n}\n"},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(3);s(346);const i=n.OBJLoader;s(347);const r=n.PLYLoader;class a{constructor(e){this.objLoader=new i(e),this.plyLoader=new r(e)}isValid(e){const t=e.split(".").pop().toLowerCase();return a.extensions.indexOf(t)>=0}get(e){const t=e.split(".").pop().toLowerCase();return new Promise((s,n)=>{if("obj"===t)this.objLoader.load(e,t=>{const i=t.children[0].geometry;return i&&"Geometry"===i.type||"BufferGeometry"===i.type?s(i):n(new Error(`Can't parse geometry from '${e}'`))});else{if("ply"!==t)throw new Error(`Can't load geometry, unknown extension: '${t}' in '${e}'`);this.plyLoader.load(e,t=>t&&"Geometry"===t.type||"BufferGeometry"===t.type?s(t):n(new Error(`Can't parse geometry from '${e}'`)))}})}}t.default=a,a.extensions=["obj","ply"]},function(e,t){THREE.OBJLoader=function(){var e=/^[og]\s*(.+)?/,t=/^mtllib /,s=/^usemtl /;function n(){var e={objects:[],object:{},vertices:[],normals:[],colors:[],uvs:[],materialLibraries:[],startObject:function(e,t){if(this.object&&!1===this.object.fromDeclaration)return this.object.name=e,void(this.object.fromDeclaration=!1!==t);var s=this.object&&"function"==typeof this.object.currentMaterial?this.object.currentMaterial():void 0;if(this.object&&"function"==typeof this.object._finalize&&this.object._finalize(!0),this.object={name:e||"",fromDeclaration:!1!==t,geometry:{vertices:[],normals:[],colors:[],uvs:[]},materials:[],smooth:!0,startMaterial:function(e,t){var s=this._finalize(!1);s&&(s.inherited||s.groupCount<=0)&&this.materials.splice(s.index,1);var n={index:this.materials.length,name:e||"",mtllib:Array.isArray(t)&&t.length>0?t[t.length-1]:"",smooth:void 0!==s?s.smooth:this.smooth,groupStart:void 0!==s?s.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(e){var t={index:"number"==typeof e?e:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return t.clone=this.clone.bind(t),t}};return this.materials.push(n),n},currentMaterial:function(){if(this.materials.length>0)return this.materials[this.materials.length-1]},_finalize:function(e){var t=this.currentMaterial();if(t&&-1===t.groupEnd&&(t.groupEnd=this.geometry.vertices.length/3,t.groupCount=t.groupEnd-t.groupStart,t.inherited=!1),e&&this.materials.length>1)for(var s=this.materials.length-1;s>=0;s--)this.materials[s].groupCount<=0&&this.materials.splice(s,1);return e&&0===this.materials.length&&this.materials.push({name:"",smooth:this.smooth}),t}},s&&s.name&&"function"==typeof s.clone){var n=s.clone(0);n.inherited=!0,this.object.materials.push(n)}this.objects.push(this.object)},finalize:function(){this.object&&"function"==typeof this.object._finalize&&this.object._finalize(!0)},parseVertexIndex:function(e,t){var s=parseInt(e,10);return 3*(s>=0?s-1:s+t/3)},parseNormalIndex:function(e,t){var s=parseInt(e,10);return 3*(s>=0?s-1:s+t/3)},parseUVIndex:function(e,t){var s=parseInt(e,10);return 2*(s>=0?s-1:s+t/2)},addVertex:function(e,t,s){var n=this.vertices,i=this.object.geometry.vertices;i.push(n[e+0],n[e+1],n[e+2]),i.push(n[t+0],n[t+1],n[t+2]),i.push(n[s+0],n[s+1],n[s+2])},addVertexPoint:function(e){var t=this.vertices;this.object.geometry.vertices.push(t[e+0],t[e+1],t[e+2])},addVertexLine:function(e){var t=this.vertices;this.object.geometry.vertices.push(t[e+0],t[e+1],t[e+2])},addNormal:function(e,t,s){var n=this.normals,i=this.object.geometry.normals;i.push(n[e+0],n[e+1],n[e+2]),i.push(n[t+0],n[t+1],n[t+2]),i.push(n[s+0],n[s+1],n[s+2])},addColor:function(e,t,s){var n=this.colors,i=this.object.geometry.colors;i.push(n[e+0],n[e+1],n[e+2]),i.push(n[t+0],n[t+1],n[t+2]),i.push(n[s+0],n[s+1],n[s+2])},addUV:function(e,t,s){var n=this.uvs,i=this.object.geometry.uvs;i.push(n[e+0],n[e+1]),i.push(n[t+0],n[t+1]),i.push(n[s+0],n[s+1])},addUVLine:function(e){var t=this.uvs;this.object.geometry.uvs.push(t[e+0],t[e+1])},addFace:function(e,t,s,n,i,r,a,o,l){var d=this.vertices.length,c=this.parseVertexIndex(e,d),u=this.parseVertexIndex(t,d),h=this.parseVertexIndex(s,d);if(this.addVertex(c,u,h),void 0!==n&&""!==n){var p=this.uvs.length;c=this.parseUVIndex(n,p),u=this.parseUVIndex(i,p),h=this.parseUVIndex(r,p),this.addUV(c,u,h)}if(void 0!==a&&""!==a){var m=this.normals.length;c=this.parseNormalIndex(a,m),u=a===o?c:this.parseNormalIndex(o,m),h=a===l?c:this.parseNormalIndex(l,m),this.addNormal(c,u,h)}this.colors.length>0&&this.addColor(c,u,h)},addPointGeometry:function(e){this.object.geometry.type="Points";for(var t=this.vertices.length,s=0,n=e.length;s<n;s++)this.addVertexPoint(this.parseVertexIndex(e[s],t))},addLineGeometry:function(e,t){this.object.geometry.type="Line";for(var s=this.vertices.length,n=this.uvs.length,i=0,r=e.length;i<r;i++)this.addVertexLine(this.parseVertexIndex(e[i],s));var a=0;for(r=t.length;a<r;a++)this.addUVLine(this.parseUVIndex(t[a],n))}};return e.startObject("",!1),e}function i(e){this.manager=void 0!==e?e:THREE.DefaultLoadingManager,this.materials=null}return i.prototype={constructor:i,load:function(e,t,s,n){var i=this,r=new THREE.FileLoader(i.manager);r.setPath(this.path),r.load(e,(function(e){t(i.parse(e))}),s,n)},setPath:function(e){return this.path=e,this},setMaterials:function(e){return this.materials=e,this},parse:function(i){console.time("OBJLoader");var r=new n;-1!==i.indexOf("\r\n")&&(i=i.replace(/\r\n/g,"\n")),-1!==i.indexOf("\\\n")&&(i=i.replace(/\\\n/g,""));for(var a=i.split("\n"),o="",l="",d=[],c="function"==typeof"".trimLeft,u=0,h=a.length;u<h;u++)if(o=a[u],0!==(o=c?o.trimLeft():o.trim()).length&&"#"!==(l=o.charAt(0)))if("v"===l){var p=o.split(/\s+/);switch(p[0]){case"v":r.vertices.push(parseFloat(p[1]),parseFloat(p[2]),parseFloat(p[3])),p.length>=7&&r.colors.push(parseFloat(p[4]),parseFloat(p[5]),parseFloat(p[6]));break;case"vn":r.normals.push(parseFloat(p[1]),parseFloat(p[2]),parseFloat(p[3]));break;case"vt":r.uvs.push(parseFloat(p[1]),parseFloat(p[2]))}}else if("f"===l){for(var m=o.substr(1).trim().split(/\s+/),f=[],v=0,_=m.length;v<_;v++){var y=m[v];if(y.length>0){var g=y.split("/");f.push(g)}}var b=f[0];for(v=1,_=f.length-1;v<_;v++){var M=f[v],w=f[v+1];r.addFace(b[0],M[0],w[0],b[1],M[1],w[1],b[2],M[2],w[2])}}else if("l"===l){var L=o.substring(1).trim().split(" "),x=[],T=[];if(-1===o.indexOf("/"))x=L;else for(var E=0,k=L.length;E<k;E++){var D=L[E].split("/");""!==D[0]&&x.push(D[0]),""!==D[1]&&T.push(D[1])}r.addLineGeometry(x,T)}else if("p"===l){var S=o.substr(1).trim().split(" ");r.addPointGeometry(S)}else if(null!==(d=e.exec(o))){var P=(" "+d[0].substr(1).trim()).substr(1);r.startObject(P)}else if(s.test(o))r.object.startMaterial(o.substring(7).trim(),r.materialLibraries);else if(t.test(o))r.materialLibraries.push(o.substring(7).trim());else{if("s"!==l){if("\0"===o)continue;throw new Error('THREE.OBJLoader: Unexpected line: "'+o+'"')}if((d=o.split(" ")).length>1){var C=d[1].trim().toLowerCase();r.object.smooth="0"!==C&&"off"!==C}else r.object.smooth=!0;($=r.object.currentMaterial())&&($.smooth=r.object.smooth)}r.finalize();var Y=new THREE.Group;Y.materialLibraries=[].concat(r.materialLibraries);for(u=0,h=r.objects.length;u<h;u++){var A=r.objects[u],j=A.geometry,O=A.materials,R="Line"===j.type,N="Points"===j.type,H=!1;if(0!==j.vertices.length){var I=new THREE.BufferGeometry;I.addAttribute("position",new THREE.Float32BufferAttribute(j.vertices,3)),j.normals.length>0?I.addAttribute("normal",new THREE.Float32BufferAttribute(j.normals,3)):I.computeVertexNormals(),j.colors.length>0&&(H=!0,I.addAttribute("color",new THREE.Float32BufferAttribute(j.colors,3))),j.uvs.length>0&&I.addAttribute("uv",new THREE.Float32BufferAttribute(j.uvs,2));for(var F,V=[],z=0,U=O.length;z<U;z++){var B=O[z],$=void 0;if(null!==this.materials)if($=this.materials.create(B.name),!R||!$||$ instanceof THREE.LineBasicMaterial){if(N&&$&&!($ instanceof THREE.PointsMaterial)){var G=new THREE.PointsMaterial({size:10,sizeAttenuation:!1});THREE.Material.prototype.copy.call(G,$),G.color.copy($.color),G.map=$.map,G.lights=!1,$=G}}else{var W=new THREE.LineBasicMaterial;THREE.Material.prototype.copy.call(W,$),W.color.copy($.color),W.lights=!1,$=W}$||(($=R?new THREE.LineBasicMaterial:N?new THREE.PointsMaterial({size:1,sizeAttenuation:!1}):new THREE.MeshPhongMaterial).name=B.name),$.flatShading=!B.smooth,$.vertexColors=H?THREE.VertexColors:THREE.NoColors,V.push($)}if(V.length>1){for(z=0,U=O.length;z<U;z++){B=O[z];I.addGroup(B.groupStart,B.groupCount,z)}F=R?new THREE.LineSegments(I,V):N?new THREE.Points(I,V):new THREE.Mesh(I,V)}else F=R?new THREE.LineSegments(I,V[0]):N?new THREE.Points(I,V[0]):new THREE.Mesh(I,V[0]);F.name=A.name,Y.add(F)}}return console.timeEnd("OBJLoader"),Y}},i}()},function(e,t){THREE.PLYLoader=function(e){this.manager=void 0!==e?e:THREE.DefaultLoadingManager,this.propertyNameMapping={}},THREE.PLYLoader.prototype={constructor:THREE.PLYLoader,load:function(e,t,s,n){var i=this,r=new THREE.FileLoader(this.manager);r.setPath(this.path),r.setResponseType("arraybuffer"),r.load(e,(function(e){t(i.parse(e))}),s,n)},setPath:function(e){return this.path=e,this},setPropertyNameMapping:function(e){this.propertyNameMapping=e},parse:function(e){function t(e){var t="",s=0,n=/ply([\s\S]*)end_header\r?\n/.exec(e);null!==n&&(t=n[1],s=n[0].length);var i,r,a,o,l,d,u={comments:[],elements:[],headerLength:s},h=t.split("\n");for(var p=0;p<h.length;p++){var m=h[p];if(""!==(m=m.trim()))switch(r=(a=m.split(/\s+/)).shift(),m=a.join(" "),r){case"format":u.format=a[0],u.version=a[1];break;case"comment":u.comments.push(m);break;case"element":void 0!==i&&u.elements.push(i),(i={}).name=a[0],i.count=parseInt(a[1]),i.properties=[];break;case"property":i.properties.push((o=a,l=c.propertyNameMapping,d=void 0,"list"===(d={type:o[0]}).type?(d.name=o[3],d.countType=o[1],d.itemType=o[2]):d.name=o[1],d.name in l&&(d.name=l[d.name]),d));break;default:console.log("unhandled",r,a)}}return void 0!==i&&u.elements.push(i),u}function s(e,t){switch(t){case"char":case"uchar":case"short":case"ushort":case"int":case"uint":case"int8":case"uint8":case"int16":case"uint16":case"int32":case"uint32":return parseInt(e);case"float":case"double":case"float32":case"float64":return parseFloat(e)}}function n(e,t){for(var n=t.split(/\s+/),i={},r=0;r<e.length;r++)if("list"===e[r].type){for(var a=[],o=s(n.shift(),e[r].countType),l=0;l<o;l++)a.push(s(n.shift(),e[r].itemType));i[e[r].name]=a}else i[e[r].name]=s(n.shift(),e[r].type);return i}function i(e,t){var s,i={indices:[],vertices:[],normals:[],uvs:[],faceVertexUvs:[],colors:[]},o="";null!==(s=/end_header\s([\s\S]*)$/.exec(e))&&(o=s[1]);for(var l=o.split("\n"),d=0,c=0,u=0;u<l.length;u++){var h=l[u];if(""!==(h=h.trim())){c>=t.elements[d].count&&(d++,c=0);var p=n(t.elements[d].properties,h);a(i,t.elements[d].name,p),c++}}return r(i)}function r(e){var t=new THREE.BufferGeometry;return e.indices.length>0&&t.setIndex(e.indices),t.addAttribute("position",new THREE.Float32BufferAttribute(e.vertices,3)),e.normals.length>0&&t.addAttribute("normal",new THREE.Float32BufferAttribute(e.normals,3)),e.uvs.length>0&&t.addAttribute("uv",new THREE.Float32BufferAttribute(e.uvs,2)),e.colors.length>0&&t.addAttribute("color",new THREE.Float32BufferAttribute(e.colors,3)),e.faceVertexUvs.length>0&&(t=t.toNonIndexed()).addAttribute("uv",new THREE.Float32BufferAttribute(e.faceVertexUvs,2)),t.computeBoundingSphere(),t}function a(e,t,s){if("vertex"===t)e.vertices.push(s.x,s.y,s.z),"nx"in s&&"ny"in s&&"nz"in s&&e.normals.push(s.nx,s.ny,s.nz),"s"in s&&"t"in s&&e.uvs.push(s.s,s.t),"red"in s&&"green"in s&&"blue"in s&&e.colors.push(s.red/255,s.green/255,s.blue/255);else if("face"===t){var n=s.vertex_indices||s.vertex_index,i=s.texcoord;3===n.length?(e.indices.push(n[0],n[1],n[2]),i&&6===i.length&&(e.faceVertexUvs.push(i[0],i[1]),e.faceVertexUvs.push(i[2],i[3]),e.faceVertexUvs.push(i[4],i[5]))):4===n.length&&(e.indices.push(n[0],n[1],n[3]),e.indices.push(n[1],n[2],n[3]))}}function o(e,t,s,n){switch(s){case"int8":case"char":return[e.getInt8(t),1];case"uint8":case"uchar":return[e.getUint8(t),1];case"int16":case"short":return[e.getInt16(t,n),2];case"uint16":case"ushort":return[e.getUint16(t,n),2];case"int32":case"int":return[e.getInt32(t,n),4];case"uint32":case"uint":return[e.getUint32(t,n),4];case"float32":case"float":return[e.getFloat32(t,n),4];case"float64":case"double":return[e.getFloat64(t,n),8]}}function l(e,t,s,n){for(var i,r={},a=0,l=0;l<s.length;l++)if("list"===s[l].type){var d=[],c=(i=o(e,t+a,s[l].countType,n))[0];a+=i[1];for(var u=0;u<c;u++)i=o(e,t+a,s[l].itemType,n),d.push(i[0]),a+=i[1];r[s[l].name]=d}else i=o(e,t+a,s[l].type,n),r[s[l].name]=i[0],a+=i[1];return[r,a]}var d,c=this;if(e instanceof ArrayBuffer){var u=THREE.LoaderUtils.decodeText(new Uint8Array(e)),h=t(u);d="ascii"===h.format?i(u,h):function(e,t){for(var s,n={indices:[],vertices:[],normals:[],uvs:[],faceVertexUvs:[],colors:[]},i="binary_little_endian"===t.format,o=new DataView(e,t.headerLength),d=0,c=0;c<t.elements.length;c++)for(var u=0;u<t.elements[c].count;u++){d+=(s=l(o,d,t.elements[c].properties,i))[1];var h=s[0];a(n,t.elements[c].name,h)}return r(n)}(e,h)}else d=i(e,t(e));return d}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(3);class i{constructor(e){this.textureLoader=new n.TextureLoader(e)}isValid(e){const t=e.split(".").pop().toLowerCase();return i.extensions.indexOf(t)>=0}isValidMimeType(e){return i.mimeTypes.indexOf(e)>=0}get(e){return new Promise((t,s)=>{this.textureLoader.load(e,e=>{t(e)},null,e=>{console.error(e),s(new Error(e.message))})})}getImmediate(e){return this.textureLoader.load(e,null,null,e=>{console.error(e)})}}t.default=i,i.extensions=["jpg","png"],i.mimeTypes=["image/jpeg","image/png"]},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(3),i=s(46);t.Node=i.Node,t.types=i.types;const r=s(35),a=s(47);class o extends i.default{constructor(e,t){super(e,t),this.ins=this.addInputs(o.rgIns),this._object3D=null,this._isAttached=!1,this._object3D=new n.Object3D,this._object3D.matrixAutoUpdate=!1}get transform(){return this.node.components.get(r.default,!0)}get scene(){const e=this.transform;return e?e.getParentComponent(a.default,!0):void 0}get object3D(){return this._object3D}create(){super.create(),this.innerRoots.filter(e=>e.is(r.default)).forEach(e=>this._object3D.add(e.object3D)),this.trackComponent(r.default,e=>this.ins.visible.value&&this.attachObject3D(e),e=>this.detachObject3D(e))}dispose(){this.detachObject3D(this.transform),this.innerRoots.filter(e=>e.is(r.default)).forEach(e=>this._object3D.remove(e.object3D)),super.dispose()}update(e){super.update(e);const t=this.ins;if(t.visible.changed){const e=this.transform;t.visible.value?this.attachObject3D(e):this.detachObject3D(e)}return!0}onAddInnerRoot(e){e.is(r.default)&&this._object3D.add(e.object3D)}onRemoveInnerRoot(e){e.is(r.default)&&this._object3D.remove(e.object3D)}attachObject3D(e){this._isAttached||e&&(e.object3D.add(this._object3D),this._isAttached=!0)}detachObject3D(e){this._isAttached&&e&&(e.object3D.remove(this._object3D),this._isAttached=!1)}}t.default=o,o.typeName="CRenderGraph",o.rgIns={visible:i.types.Boolean("Graph.Visible",!0)}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(351),i=s(385),r=s(386),a=s(387),o=s(388),l=s(389);t.default=class{constructor(){this._schemaValidator=new n({schemas:[i,r,a,o,l],allErrors:!0}),this._validateDocument=this._schemaValidator.getSchema("https://schemas.3d.si.edu/voyager/document.schema.json")}validate(e){return!!this._validateDocument(e)||(console.warn(this._schemaValidator.errorsText(this._validateDocument.errors,{separator:", ",dataVar:"document"})),!1)}}},function(e,t,s){"use strict";var n=s(352),i=s(91),r=s(356),a=s(128),o=s(129),l=s(357),d=s(358),c=s(379),u=s(42);e.exports=_,_.prototype.validate=function(e,t){var s;if("string"==typeof e){if(!(s=this.getSchema(e)))throw new Error('no schema with key or ref "'+e+'"')}else{var n=this._addSchema(e);s=n.validate||this._compile(n)}var i=s(t);!0!==s.$async&&(this.errors=s.errors);return i},_.prototype.compile=function(e,t){var s=this._addSchema(e,void 0,t);return s.validate||this._compile(s)},_.prototype.addSchema=function(e,t,s,n){if(Array.isArray(e)){for(var r=0;r<e.length;r++)this.addSchema(e[r],void 0,s,n);return this}var a=this._getId(e);if(void 0!==a&&"string"!=typeof a)throw new Error("schema id must be string");return L(this,t=i.normalizeId(t||a)),this._schemas[t]=this._addSchema(e,s,n,!0),this},_.prototype.addMetaSchema=function(e,t,s){return this.addSchema(e,t,s,!0),this},_.prototype.validateSchema=function(e,t){var s=e.$schema;if(void 0!==s&&"string"!=typeof s)throw new Error("$schema must be a string");if(!(s=s||this._opts.defaultMeta||function(e){var t=e._opts.meta;return e._opts.defaultMeta="object"==typeof t?e._getId(t)||t:e.getSchema(m)?m:void 0,e._opts.defaultMeta}(this)))return this.logger.warn("meta-schema not available"),this.errors=null,!0;var n=this.validate(s,e);if(!n&&t){var i="schema is invalid: "+this.errorsText();if("log"!=this._opts.validateSchema)throw new Error(i);this.logger.error(i)}return n},_.prototype.getSchema=function(e){var t=y(this,e);switch(typeof t){case"object":return t.validate||this._compile(t);case"string":return this.getSchema(t);case"undefined":return function(e,t){var s=i.schema.call(e,{schema:{}},t);if(s){var r=s.schema,o=s.root,l=s.baseId,d=n.call(e,r,o,void 0,l);return e._fragments[t]=new a({ref:t,fragment:!0,schema:r,root:o,baseId:l,validate:d}),d}}(this,e)}},_.prototype.removeSchema=function(e){if(e instanceof RegExp)return g(this,this._schemas,e),g(this,this._refs,e),this;switch(typeof e){case"undefined":return g(this,this._schemas),g(this,this._refs),this._cache.clear(),this;case"string":var t=y(this,e);return t&&this._cache.del(t.cacheKey),delete this._schemas[e],delete this._refs[e],this;case"object":var s=this._opts.serialize,n=s?s(e):e;this._cache.del(n);var r=this._getId(e);r&&(r=i.normalizeId(r),delete this._schemas[r],delete this._refs[r])}return this},_.prototype.addFormat=function(e,t){"string"==typeof t&&(t=new RegExp(t));return this._formats[e]=t,this},_.prototype.errorsText=function(e,t){if(!(e=e||this.errors))return"No errors";for(var s=void 0===(t=t||{}).separator?", ":t.separator,n=void 0===t.dataVar?"data":t.dataVar,i="",r=0;r<e.length;r++){var a=e[r];a&&(i+=n+a.dataPath+" "+a.message+s)}return i.slice(0,-s.length)},_.prototype._addSchema=function(e,t,s,n){if("object"!=typeof e&&"boolean"!=typeof e)throw new Error("schema should be object or boolean");var r=this._opts.serialize,o=r?r(e):e,l=this._cache.get(o);if(l)return l;n=n||!1!==this._opts.addUsedSchema;var d=i.normalizeId(this._getId(e));d&&n&&L(this,d);var c,u=!1!==this._opts.validateSchema&&!t;u&&!(c=d&&d==i.normalizeId(e.$schema))&&this.validateSchema(e,!0);var h=i.ids.call(this,e),p=new a({id:d,schema:e,localRefs:h,cacheKey:o,meta:s});"#"!=d[0]&&n&&(this._refs[d]=p);this._cache.put(o,p),u&&c&&this.validateSchema(e,!0);return p},_.prototype._compile=function(e,t){if(e.compiling)return e.validate=r,r.schema=e.schema,r.errors=null,r.root=t||r,!0===e.schema.$async&&(r.$async=!0),r;var s,i;e.compiling=!0,e.meta&&(s=this._opts,this._opts=this._metaOpts);try{i=n.call(this,e.schema,t,e.localRefs)}catch(t){throw delete e.validate,t}finally{e.compiling=!1,e.meta&&(this._opts=s)}return e.validate=i,e.refs=i.refs,e.refVal=i.refVal,e.root=i.root,i;function r(){var t=e.validate,s=t.apply(this,arguments);return r.errors=t.errors,s}},_.prototype.compileAsync=s(380);var h=s(381);_.prototype.addKeyword=h.add,_.prototype.getKeyword=h.get,_.prototype.removeKeyword=h.remove,_.prototype.validateKeyword=h.validate;var p=s(93);_.ValidationError=p.Validation,_.MissingRefError=p.MissingRef,_.$dataMetaSchema=c;var m="http://json-schema.org/draft-07/schema",f=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],v=["/properties"];function _(e){if(!(this instanceof _))return new _(e);e=this._opts=u.copy(e)||{},function(e){var t=e._opts.logger;if(!1===t)e.logger={log:x,warn:x,error:x};else{if(void 0===t&&(t=console),!("object"==typeof t&&t.log&&t.warn&&t.error))throw new Error("logger must implement log, warn and error methods");e.logger=t}}(this),this._schemas={},this._refs={},this._fragments={},this._formats=l(e.format),this._cache=e.cache||new r,this._loadingSchemas={},this._compilations=[],this.RULES=d(),this._getId=function(e){switch(e.schemaId){case"auto":return w;case"id":return b;default:return M}}(e),e.loopRequired=e.loopRequired||1/0,"property"==e.errorDataPath&&(e._errorDataPathProperty=!0),void 0===e.serialize&&(e.serialize=o),this._metaOpts=function(e){for(var t=u.copy(e._opts),s=0;s<f.length;s++)delete t[f[s]];return t}(this),e.formats&&function(e){for(var t in e._opts.formats){var s=e._opts.formats[t];e.addFormat(t,s)}}(this),function(e){var t;e._opts.$data&&(t=s(384),e.addMetaSchema(t,t.$id,!0));if(!1===e._opts.meta)return;var n=s(135);e._opts.$data&&(n=c(n,v));e.addMetaSchema(n,m,!0),e._refs["http://json-schema.org/schema"]=m}(this),"object"==typeof e.meta&&this.addMetaSchema(e.meta),e.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),function(e){var t=e._opts.schemas;if(!t)return;if(Array.isArray(t))e.addSchema(t);else for(var s in t)e.addSchema(t[s],s)}(this)}function y(e,t){return t=i.normalizeId(t),e._schemas[t]||e._refs[t]||e._fragments[t]}function g(e,t,s){for(var n in t){var i=t[n];i.meta||s&&!s.test(n)||(e._cache.del(i.cacheKey),delete t[n])}}function b(e){return e.$id&&this.logger.warn("schema $id ignored",e.$id),e.id}function M(e){return e.id&&this.logger.warn("schema id ignored",e.id),e.$id}function w(e){if(e.$id&&e.id&&e.$id!=e.id)throw new Error("schema $id is different from id");return e.$id||e.id}function L(e,t){if(e._schemas[t]||e._refs[t])throw new Error('schema with key or id "'+t+'" already exists')}function x(){}},function(e,t,s){"use strict";var n=s(91),i=s(42),r=s(93),a=s(129),o=s(130),l=i.ucs2length,d=s(92),c=r.Validation;function u(e,t,s){var n=p.call(this,e,t,s);return n>=0?{index:n,compiling:!0}:(n=this._compilations.length,this._compilations[n]={schema:e,root:t,baseId:s},{index:n,compiling:!1})}function h(e,t,s){var n=p.call(this,e,t,s);n>=0&&this._compilations.splice(n,1)}function p(e,t,s){for(var n=0;n<this._compilations.length;n++){var i=this._compilations[n];if(i.schema==e&&i.root==t&&i.baseId==s)return n}return-1}function m(e,t){return"var pattern"+e+" = new RegExp("+i.toQuotedString(t[e])+");"}function f(e){return"var default"+e+" = defaults["+e+"];"}function v(e,t){return void 0===t[e]?"":"var refVal"+e+" = refVal["+e+"];"}function _(e){return"var customRule"+e+" = customRules["+e+"];"}function y(e,t){if(!e.length)return"";for(var s="",n=0;n<e.length;n++)s+=t(n,e);return s}e.exports=function e(t,s,p,g){var b=this,M=this._opts,w=[void 0],L={},x=[],T={},E=[],k={},D=[];s=s||{schema:t,refVal:w,refs:L};var S=u.call(this,t,s,g);var P=this._compilations[S.index];if(S.compiling)return P.callValidate=function e(){var t=P.validate;var s=t.apply(this,arguments);e.errors=t.errors;return s};var C=this._formats;var Y=this.RULES;try{var A=O(t,s,p,g);P.validate=A;var j=P.callValidate;return j&&(j.schema=A.schema,j.errors=null,j.refs=A.refs,j.refVal=A.refVal,j.root=A.root,j.$async=A.$async,M.sourceCode&&(j.source=A.source)),A}finally{h.call(this,t,s,g)}function O(t,a,u,h){var p=!a||a&&a.schema==t;if(a.schema!=s.schema)return e.call(b,t,a,u,h);var g,T=!0===t.$async,k=o({isTop:!0,schema:t,isRoot:p,baseId:h,root:a,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:r.MissingRef,RULES:Y,validate:o,util:i,resolve:n,resolveRef:R,usePattern:I,useDefault:F,useCustomRule:V,opts:M,formats:C,logger:b.logger,self:b});k=y(w,v)+y(x,m)+y(E,f)+y(D,_)+k,M.processCode&&(k=M.processCode(k));try{g=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",k)(b,Y,C,s,w,E,D,d,l,c),w[0]=g}catch(e){throw b.logger.error("Error compiling schema, function code:",k),e}return g.schema=t,g.errors=null,g.refs=L,g.refVal=w,g.root=p?g:a,T&&(g.$async=!0),!0===M.sourceCode&&(g.source={code:k,patterns:x,defaults:E}),g}function R(t,i,r){i=n.url(t,i);var a,o,l=L[i];if(void 0!==l)return H(a=w[l],o="refVal["+l+"]");if(!r&&s.refs){var d=s.refs[i];if(void 0!==d)return H(a=s.refVal[d],o=N(i,a))}o=N(i);var c=n.call(b,O,s,i);if(void 0===c){var u=p&&p[i];u&&(c=n.inlineRef(u,M.inlineRefs)?u:e.call(b,u,s,p,t))}if(void 0!==c)return function(e,t){var s=L[e];w[s]=t}(i,c),H(c,o);!function(e){delete L[e]}(i)}function N(e,t){var s=w.length;return w[s]=t,L[e]=s,"refVal"+s}function H(e,t){return"object"==typeof e||"boolean"==typeof e?{code:t,schema:e,inline:!0}:{code:t,$async:e&&!!e.$async}}function I(e){var t=T[e];return void 0===t&&(t=T[e]=x.length,x[t]=e),"pattern"+t}function F(e){switch(typeof e){case"boolean":case"number":return""+e;case"string":return i.toQuotedString(e);case"object":if(null===e)return"null";var t=a(e),s=k[t];return void 0===s&&(s=k[t]=E.length,E[s]=e),"default"+s}}function V(e,t,s,n){if(!1!==b._opts.validateSchema){var i=e.definition.dependencies;if(i&&!i.every((function(e){return Object.prototype.hasOwnProperty.call(s,e)})))throw new Error("parent schema must have all required keywords: "+i.join(","));var r=e.definition.validateSchema;if(r)if(!r(t)){var a="keyword schema is invalid: "+b.errorsText(r.errors);if("log"!=b._opts.validateSchema)throw new Error(a);b.logger.error(a)}}var o,l=e.definition.compile,d=e.definition.inline,c=e.definition.macro;if(l)o=l.call(b,t,s,n);else if(c)o=c.call(b,t,s,n),!1!==M.validateSchema&&b.validateSchema(o,!0);else if(d)o=d.call(b,n,e.keyword,t,s);else if(!(o=e.definition.validate))return;if(void 0===o)throw new Error('custom keyword "'+e.keyword+'"failed to compile');var u=D.length;return D[u]=o,{code:"customRule"+u,validate:o}}}},function(e,t,s){!function(e){"use strict";function t(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];if(t.length>1){t[0]=t[0].slice(0,-1);for(var n=t.length-1,i=1;i<n;++i)t[i]=t[i].slice(1,-1);return t[n]=t[n].slice(1),t.join("")}return t[0]}function s(e){return"(?:"+e+")"}function n(e){return void 0===e?"undefined":null===e?"null":Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()}function i(e){return e.toUpperCase()}function r(e){var n=t("[0-9]","[A-Fa-f]"),i=s(s("%[EFef]"+n+"%"+n+n+"%"+n+n)+"|"+s("%[89A-Fa-f]"+n+"%"+n+n)+"|"+s("%"+n+n)),r="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",a=t("[\\:\\/\\?\\#\\[\\]\\@]",r),o=e?"[\\uE000-\\uF8FF]":"[]",l=t("[A-Za-z]","[0-9]","[\\-\\.\\_\\~]",e?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]"),d=s("[A-Za-z]"+t("[A-Za-z]","[0-9]","[\\+\\-\\.]")+"*"),c=s(s(i+"|"+t(l,r,"[\\:]"))+"*"),u=(s(s("25[0-5]")+"|"+s("2[0-4][0-9]")+"|"+s("1[0-9][0-9]")+"|"+s("[1-9][0-9]")+"|[0-9]"),s(s("25[0-5]")+"|"+s("2[0-4][0-9]")+"|"+s("1[0-9][0-9]")+"|"+s("0?[1-9][0-9]")+"|0?0?[0-9]")),h=s(u+"\\."+u+"\\."+u+"\\."+u),p=s(n+"{1,4}"),m=s(s(p+"\\:"+p)+"|"+h),f=s(s(p+"\\:")+"{6}"+m),v=s("\\:\\:"+s(p+"\\:")+"{5}"+m),_=s(s(p)+"?\\:\\:"+s(p+"\\:")+"{4}"+m),y=s(s(s(p+"\\:")+"{0,1}"+p)+"?\\:\\:"+s(p+"\\:")+"{3}"+m),g=s(s(s(p+"\\:")+"{0,2}"+p)+"?\\:\\:"+s(p+"\\:")+"{2}"+m),b=s(s(s(p+"\\:")+"{0,3}"+p)+"?\\:\\:"+p+"\\:"+m),M=s(s(s(p+"\\:")+"{0,4}"+p)+"?\\:\\:"+m),w=s(s(s(p+"\\:")+"{0,5}"+p)+"?\\:\\:"+p),L=s(s(s(p+"\\:")+"{0,6}"+p)+"?\\:\\:"),x=s([f,v,_,y,g,b,M,w,L].join("|")),T=s(s(l+"|"+i)+"+"),E=(s(x+"\\%25"+T),s(x+s("\\%25|\\%(?!"+n+"{2})")+T)),k=s("[vV]"+n+"+\\."+t(l,r,"[\\:]")+"+"),D=s("\\["+s(E+"|"+x+"|"+k)+"\\]"),S=s(s(i+"|"+t(l,r))+"*"),P=s(D+"|"+h+"(?!"+S+")|"+S),C=s("[0-9]*"),Y=s(s(c+"@")+"?"+P+s("\\:"+C)+"?"),A=s(i+"|"+t(l,r,"[\\:\\@]")),j=s(A+"*"),O=s(A+"+"),R=s(s(i+"|"+t(l,r,"[\\@]"))+"+"),N=s(s("\\/"+j)+"*"),H=s("\\/"+s(O+N)+"?"),I=s(R+N),F=s(O+N),V="(?!"+A+")",z=(s(N+"|"+H+"|"+I+"|"+F+"|"+V),s(s(A+"|"+t("[\\/\\?]",o))+"*")),U=s(s(A+"|[\\/\\?]")+"*"),B=s(s("\\/\\/"+Y+N)+"|"+H+"|"+F+"|"+V),$=s(d+"\\:"+B+s("\\?"+z)+"?"+s("\\#"+U)+"?"),G=s(s("\\/\\/"+Y+N)+"|"+H+"|"+I+"|"+V),W=s(G+s("\\?"+z)+"?"+s("\\#"+U)+"?");return s($+"|"+W),s(d+"\\:"+B+s("\\?"+z)+"?"),s(s("\\/\\/("+s("("+c+")@")+"?("+P+")"+s("\\:("+C+")")+"?)")+"?("+N+"|"+H+"|"+F+"|"+V+")"),s("\\?("+z+")"),s("\\#("+U+")"),s(s("\\/\\/("+s("("+c+")@")+"?("+P+")"+s("\\:("+C+")")+"?)")+"?("+N+"|"+H+"|"+I+"|"+V+")"),s("\\?("+z+")"),s("\\#("+U+")"),s(s("\\/\\/("+s("("+c+")@")+"?("+P+")"+s("\\:("+C+")")+"?)")+"?("+N+"|"+H+"|"+F+"|"+V+")"),s("\\?("+z+")"),s("\\#("+U+")"),s("("+c+")@"),s("\\:("+C+")"),{NOT_SCHEME:new RegExp(t("[^]","[A-Za-z]","[0-9]","[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(t("[^\\%\\:]",l,r),"g"),NOT_HOST:new RegExp(t("[^\\%\\[\\]\\:]",l,r),"g"),NOT_PATH:new RegExp(t("[^\\%\\/\\:\\@]",l,r),"g"),NOT_PATH_NOSCHEME:new RegExp(t("[^\\%\\/\\@]",l,r),"g"),NOT_QUERY:new RegExp(t("[^\\%]",l,r,"[\\:\\@\\/\\?]",o),"g"),NOT_FRAGMENT:new RegExp(t("[^\\%]",l,r,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(t("[^]",l,r),"g"),UNRESERVED:new RegExp(l,"g"),OTHER_CHARS:new RegExp(t("[^\\%]",l,a),"g"),PCT_ENCODED:new RegExp(i,"g"),IPV4ADDRESS:new RegExp("^("+h+")$"),IPV6ADDRESS:new RegExp("^\\[?("+x+")"+s(s("\\%25|\\%(?!"+n+"{2})")+"("+T+")")+"?\\]?$")}}var a=r(!1),o=r(!0),l=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var s=[],n=!0,i=!1,r=void 0;try{for(var a,o=e[Symbol.iterator]();!(n=(a=o.next()).done)&&(s.push(a.value),!t||s.length!==t);n=!0);}catch(e){i=!0,r=e}finally{try{!n&&o.return&&o.return()}finally{if(i)throw r}}return s}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},d=2147483647,c=/^xn--/,u=/[^\0-\x7E]/,h=/[\x2E\u3002\uFF0E\uFF61]/g,p={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},m=Math.floor,f=String.fromCharCode;function v(e){throw new RangeError(p[e])}function _(e,t){var s=e.split("@"),n="";s.length>1&&(n=s[0]+"@",e=s[1]);var i=function(e,t){for(var s=[],n=e.length;n--;)s[n]=t(e[n]);return s}((e=e.replace(h,".")).split("."),t).join(".");return n+i}function y(e){for(var t=[],s=0,n=e.length;s<n;){var i=e.charCodeAt(s++);if(i>=55296&&i<=56319&&s<n){var r=e.charCodeAt(s++);56320==(64512&r)?t.push(((1023&i)<<10)+(1023&r)+65536):(t.push(i),s--)}else t.push(i)}return t}var g=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},b=function(e,t,s){var n=0;for(e=s?m(e/700):e>>1,e+=m(e/t);e>455;n+=36)e=m(e/35);return m(n+36*e/(e+38))},M=function(e){var t,s=[],n=e.length,i=0,r=128,a=72,o=e.lastIndexOf("-");o<0&&(o=0);for(var l=0;l<o;++l)e.charCodeAt(l)>=128&&v("not-basic"),s.push(e.charCodeAt(l));for(var c=o>0?o+1:0;c<n;){for(var u=i,h=1,p=36;;p+=36){c>=n&&v("invalid-input");var f=(t=e.charCodeAt(c++))-48<10?t-22:t-65<26?t-65:t-97<26?t-97:36;(f>=36||f>m((d-i)/h))&&v("overflow"),i+=f*h;var _=p<=a?1:p>=a+26?26:p-a;if(f<_)break;var y=36-_;h>m(d/y)&&v("overflow"),h*=y}var g=s.length+1;a=b(i-u,g,0==u),m(i/g)>d-r&&v("overflow"),r+=m(i/g),i%=g,s.splice(i++,0,r)}return String.fromCodePoint.apply(String,s)},w=function(e){var t=[],s=(e=y(e)).length,n=128,i=0,r=72,a=!0,o=!1,l=void 0;try{for(var c,u=e[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){var h=c.value;h<128&&t.push(f(h))}}catch(e){o=!0,l=e}finally{try{!a&&u.return&&u.return()}finally{if(o)throw l}}var p=t.length,_=p;for(p&&t.push("-");_<s;){var M=d,w=!0,L=!1,x=void 0;try{for(var T,E=e[Symbol.iterator]();!(w=(T=E.next()).done);w=!0){var k=T.value;k>=n&&k<M&&(M=k)}}catch(e){L=!0,x=e}finally{try{!w&&E.return&&E.return()}finally{if(L)throw x}}var D=_+1;M-n>m((d-i)/D)&&v("overflow"),i+=(M-n)*D,n=M;var S=!0,P=!1,C=void 0;try{for(var Y,A=e[Symbol.iterator]();!(S=(Y=A.next()).done);S=!0){var j=Y.value;if(j<n&&++i>d&&v("overflow"),j==n){for(var O=i,R=36;;R+=36){var N=R<=r?1:R>=r+26?26:R-r;if(O<N)break;var H=O-N,I=36-N;t.push(f(g(N+H%I,0))),O=m(H/I)}t.push(f(g(O,0))),r=b(i,D,_==p),i=0,++_}}}catch(e){P=!0,C=e}finally{try{!S&&A.return&&A.return()}finally{if(P)throw C}}++i,++n}return t.join("")},L={version:"2.1.0",ucs2:{decode:y,encode:function(e){return String.fromCodePoint.apply(String,function(e){if(Array.isArray(e)){for(var t=0,s=Array(e.length);t<e.length;t++)s[t]=e[t];return s}return Array.from(e)}(e))}},decode:M,encode:w,toASCII:function(e){return _(e,(function(e){return u.test(e)?"xn--"+w(e):e}))},toUnicode:function(e){return _(e,(function(e){return c.test(e)?M(e.slice(4).toLowerCase()):e}))}},x={};function T(e){var t=e.charCodeAt(0);return t<16?"%0"+t.toString(16).toUpperCase():t<128?"%"+t.toString(16).toUpperCase():t<2048?"%"+(t>>6|192).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase():"%"+(t>>12|224).toString(16).toUpperCase()+"%"+(t>>6&63|128).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase()}function E(e){for(var t="",s=0,n=e.length;s<n;){var i=parseInt(e.substr(s+1,2),16);if(i<128)t+=String.fromCharCode(i),s+=3;else if(i>=194&&i<224){if(n-s>=6){var r=parseInt(e.substr(s+4,2),16);t+=String.fromCharCode((31&i)<<6|63&r)}else t+=e.substr(s,6);s+=6}else if(i>=224){if(n-s>=9){var a=parseInt(e.substr(s+4,2),16),o=parseInt(e.substr(s+7,2),16);t+=String.fromCharCode((15&i)<<12|(63&a)<<6|63&o)}else t+=e.substr(s,9);s+=9}else t+=e.substr(s,3),s+=3}return t}function k(e,t){function s(e){var s=E(e);return s.match(t.UNRESERVED)?s:e}return e.scheme&&(e.scheme=String(e.scheme).replace(t.PCT_ENCODED,s).toLowerCase().replace(t.NOT_SCHEME,"")),void 0!==e.userinfo&&(e.userinfo=String(e.userinfo).replace(t.PCT_ENCODED,s).replace(t.NOT_USERINFO,T).replace(t.PCT_ENCODED,i)),void 0!==e.host&&(e.host=String(e.host).replace(t.PCT_ENCODED,s).toLowerCase().replace(t.NOT_HOST,T).replace(t.PCT_ENCODED,i)),void 0!==e.path&&(e.path=String(e.path).replace(t.PCT_ENCODED,s).replace(e.scheme?t.NOT_PATH:t.NOT_PATH_NOSCHEME,T).replace(t.PCT_ENCODED,i)),void 0!==e.query&&(e.query=String(e.query).replace(t.PCT_ENCODED,s).replace(t.NOT_QUERY,T).replace(t.PCT_ENCODED,i)),void 0!==e.fragment&&(e.fragment=String(e.fragment).replace(t.PCT_ENCODED,s).replace(t.NOT_FRAGMENT,T).replace(t.PCT_ENCODED,i)),e}function D(e){return e.replace(/^0*(.*)/,"$1")||"0"}function S(e,t){var s=e.match(t.IPV4ADDRESS)||[],n=l(s,2)[1];return n?n.split(".").map(D).join("."):e}function P(e,t){var s=e.match(t.IPV6ADDRESS)||[],n=l(s,3),i=n[1],r=n[2];if(i){for(var a=i.toLowerCase().split("::").reverse(),o=l(a,2),d=o[0],c=o[1],u=c?c.split(":").map(D):[],h=d.split(":").map(D),p=t.IPV4ADDRESS.test(h[h.length-1]),m=p?7:8,f=h.length-m,v=Array(m),_=0;_<m;++_)v[_]=u[_]||h[f+_]||"";p&&(v[m-1]=S(v[m-1],t));var y=v.reduce((function(e,t,s){if(!t||"0"===t){var n=e[e.length-1];n&&n.index+n.length===s?n.length++:e.push({index:s,length:1})}return e}),[]).sort((function(e,t){return t.length-e.length}))[0],g=void 0;if(y&&y.length>1){var b=v.slice(0,y.index),M=v.slice(y.index+y.length);g=b.join(":")+"::"+M.join(":")}else g=v.join(":");return r&&(g+="%"+r),g}return e}var C=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,Y=void 0==="".match(/(){0}/)[1];function A(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s={},n=!1!==t.iri?o:a;"suffix"===t.reference&&(e=(t.scheme?t.scheme+":":"")+"//"+e);var i=e.match(C);if(i){Y?(s.scheme=i[1],s.userinfo=i[3],s.host=i[4],s.port=parseInt(i[5],10),s.path=i[6]||"",s.query=i[7],s.fragment=i[8],isNaN(s.port)&&(s.port=i[5])):(s.scheme=i[1]||void 0,s.userinfo=-1!==e.indexOf("@")?i[3]:void 0,s.host=-1!==e.indexOf("//")?i[4]:void 0,s.port=parseInt(i[5],10),s.path=i[6]||"",s.query=-1!==e.indexOf("?")?i[7]:void 0,s.fragment=-1!==e.indexOf("#")?i[8]:void 0,isNaN(s.port)&&(s.port=e.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?i[4]:void 0)),s.host&&(s.host=P(S(s.host,n),n)),void 0!==s.scheme||void 0!==s.userinfo||void 0!==s.host||void 0!==s.port||s.path||void 0!==s.query?void 0===s.scheme?s.reference="relative":void 0===s.fragment?s.reference="absolute":s.reference="uri":s.reference="same-document",t.reference&&"suffix"!==t.reference&&t.reference!==s.reference&&(s.error=s.error||"URI is not a "+t.reference+" reference.");var r=x[(t.scheme||s.scheme||"").toLowerCase()];if(t.unicodeSupport||r&&r.unicodeSupport)k(s,n);else{if(s.host&&(t.domainHost||r&&r.domainHost))try{s.host=L.toASCII(s.host.replace(n.PCT_ENCODED,E).toLowerCase())}catch(e){s.error=s.error||"Host's domain name can not be converted to ASCII via punycode: "+e}k(s,a)}r&&r.parse&&r.parse(s,t)}else s.error=s.error||"URI can not be parsed.";return s}var j=/^\.\.?\//,O=/^\/\.(\/|$)/,R=/^\/\.\.(\/|$)/,N=/^\/?(?:.|\n)*?(?=\/|$)/;function H(e){for(var t=[];e.length;)if(e.match(j))e=e.replace(j,"");else if(e.match(O))e=e.replace(O,"/");else if(e.match(R))e=e.replace(R,"/"),t.pop();else if("."===e||".."===e)e="";else{var s=e.match(N);if(!s)throw new Error("Unexpected dot segment condition");var n=s[0];e=e.slice(n.length),t.push(n)}return t.join("")}function I(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=t.iri?o:a,n=[],i=x[(t.scheme||e.scheme||"").toLowerCase()];if(i&&i.serialize&&i.serialize(e,t),e.host)if(s.IPV6ADDRESS.test(e.host));else if(t.domainHost||i&&i.domainHost)try{e.host=t.iri?L.toUnicode(e.host):L.toASCII(e.host.replace(s.PCT_ENCODED,E).toLowerCase())}catch(s){e.error=e.error||"Host's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+s}k(e,s),"suffix"!==t.reference&&e.scheme&&(n.push(e.scheme),n.push(":"));var r=function(e,t){var s=!1!==t.iri?o:a,n=[];return void 0!==e.userinfo&&(n.push(e.userinfo),n.push("@")),void 0!==e.host&&n.push(P(S(String(e.host),s),s).replace(s.IPV6ADDRESS,(function(e,t,s){return"["+t+(s?"%25"+s:"")+"]"}))),"number"==typeof e.port&&(n.push(":"),n.push(e.port.toString(10))),n.length?n.join(""):void 0}(e,t);if(void 0!==r&&("suffix"!==t.reference&&n.push("//"),n.push(r),e.path&&"/"!==e.path.charAt(0)&&n.push("/")),void 0!==e.path){var l=e.path;t.absolutePath||i&&i.absolutePath||(l=H(l)),void 0===r&&(l=l.replace(/^\/\//,"/%2F")),n.push(l)}return void 0!==e.query&&(n.push("?"),n.push(e.query)),void 0!==e.fragment&&(n.push("#"),n.push(e.fragment)),n.join("")}function F(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n={};return arguments[3]||(e=A(I(e,s),s),t=A(I(t,s),s)),!(s=s||{}).tolerant&&t.scheme?(n.scheme=t.scheme,n.userinfo=t.userinfo,n.host=t.host,n.port=t.port,n.path=H(t.path||""),n.query=t.query):(void 0!==t.userinfo||void 0!==t.host||void 0!==t.port?(n.userinfo=t.userinfo,n.host=t.host,n.port=t.port,n.path=H(t.path||""),n.query=t.query):(t.path?("/"===t.path.charAt(0)?n.path=H(t.path):(void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?n.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:n.path=t.path:n.path="/"+t.path,n.path=H(n.path)),n.query=t.query):(n.path=e.path,void 0!==t.query?n.query=t.query:n.query=e.query),n.userinfo=e.userinfo,n.host=e.host,n.port=e.port),n.scheme=e.scheme),n.fragment=t.fragment,n}function V(e,t){return e&&e.toString().replace(t&&t.iri?o.PCT_ENCODED:a.PCT_ENCODED,E)}var z={scheme:"http",domainHost:!0,parse:function(e,t){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e},serialize:function(e,t){return e.port!==("https"!==String(e.scheme).toLowerCase()?80:443)&&""!==e.port||(e.port=void 0),e.path||(e.path="/"),e}},U={scheme:"https",domainHost:z.domainHost,parse:z.parse,serialize:z.serialize},B={},$="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",G="[0-9A-Fa-f]",W=s(s("%[EFef][0-9A-Fa-f]%"+G+G+"%"+G+G)+"|"+s("%[89A-Fa-f][0-9A-Fa-f]%"+G+G)+"|"+s("%"+G+G)),q=t("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),J=new RegExp($,"g"),K=new RegExp(W,"g"),Q=new RegExp(t("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',q),"g"),X=new RegExp(t("[^]",$,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),Z=X;function ee(e){var t=E(e);return t.match(J)?t:e}var te={scheme:"mailto",parse:function(e,t){var s=e,n=s.to=s.path?s.path.split(","):[];if(s.path=void 0,s.query){for(var i=!1,r={},a=s.query.split("&"),o=0,l=a.length;o<l;++o){var d=a[o].split("=");switch(d[0]){case"to":for(var c=d[1].split(","),u=0,h=c.length;u<h;++u)n.push(c[u]);break;case"subject":s.subject=V(d[1],t);break;case"body":s.body=V(d[1],t);break;default:i=!0,r[V(d[0],t)]=V(d[1],t)}}i&&(s.headers=r)}s.query=void 0;for(var p=0,m=n.length;p<m;++p){var f=n[p].split("@");if(f[0]=V(f[0]),t.unicodeSupport)f[1]=V(f[1],t).toLowerCase();else try{f[1]=L.toASCII(V(f[1],t).toLowerCase())}catch(e){s.error=s.error||"Email address's domain name can not be converted to ASCII via punycode: "+e}n[p]=f.join("@")}return s},serialize:function(e,t){var s,n=e,r=null!=(s=e.to)?s instanceof Array?s:"number"!=typeof s.length||s.split||s.setInterval||s.call?[s]:Array.prototype.slice.call(s):[];if(r){for(var a=0,o=r.length;a<o;++a){var l=String(r[a]),d=l.lastIndexOf("@"),c=l.slice(0,d).replace(K,ee).replace(K,i).replace(Q,T),u=l.slice(d+1);try{u=t.iri?L.toUnicode(u):L.toASCII(V(u,t).toLowerCase())}catch(e){n.error=n.error||"Email address's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+e}r[a]=c+"@"+u}n.path=r.join(",")}var h=e.headers=e.headers||{};e.subject&&(h.subject=e.subject),e.body&&(h.body=e.body);var p=[];for(var m in h)h[m]!==B[m]&&p.push(m.replace(K,ee).replace(K,i).replace(X,T)+"="+h[m].replace(K,ee).replace(K,i).replace(Z,T));return p.length&&(n.query=p.join("&")),n}},se=/^([^\:]+)\:(.*)/,ne={scheme:"urn",parse:function(e,t){var s=e.path&&e.path.match(se),n=e;if(s){var i=t.scheme||n.scheme||"urn",r=s[1].toLowerCase(),a=s[2],o=i+":"+(t.nid||r),l=x[o];n.nid=r,n.nss=a,n.path=void 0,l&&(n=l.parse(n,t))}else n.error=n.error||"URN can not be parsed.";return n},serialize:function(e,t){var s=t.scheme||e.scheme||"urn",n=e.nid,i=s+":"+(t.nid||n),r=x[i];r&&(e=r.serialize(e,t));var a=e,o=e.nss;return a.path=(n||t.nid)+":"+o,a}},ie=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,re={scheme:"urn:uuid",parse:function(e,t){var s=e;return s.uuid=s.nss,s.nss=void 0,t.tolerant||s.uuid&&s.uuid.match(ie)||(s.error=s.error||"UUID is not valid."),s},serialize:function(e,t){var s=e;return s.nss=(e.uuid||"").toLowerCase(),s}};x[z.scheme]=z,x[U.scheme]=U,x[te.scheme]=te,x[ne.scheme]=ne,x[re.scheme]=re,e.SCHEMES=x,e.pctEncChar=T,e.pctDecChars=E,e.parse=A,e.removeDotSegments=H,e.serialize=I,e.resolveComponents=F,e.resolve=function(e,t,s){var n=function(e,t){var s=e;if(t)for(var n in t)s[n]=t[n];return s}({scheme:"null"},s);return I(F(A(e,n),A(t,n),n,!0),n)},e.normalize=function(e,t){return"string"==typeof e?e=I(A(e,t),t):"object"===n(e)&&(e=A(I(e,t),t)),e},e.equal=function(e,t,s){return"string"==typeof e?e=I(A(e,s),s):"object"===n(e)&&(e=I(e,s)),"string"==typeof t?t=I(A(t,s),s):"object"===n(t)&&(t=I(t,s)),e===t},e.escapeComponent=function(e,t){return e&&e.toString().replace(t&&t.iri?o.ESCAPE:a.ESCAPE,T)},e.unescapeComponent=V,Object.defineProperty(e,"__esModule",{value:!0})}(t)},function(e,t,s){"use strict";e.exports=function(e){for(var t,s=0,n=e.length,i=0;i<n;)s++,(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<n&&56320==(64512&(t=e.charCodeAt(i)))&&i++;return s}},function(e,t,s){"use strict";var n=e.exports=function(e,t,s){"function"==typeof t&&(s=t,t={}),function e(t,s,i,r,a,o,l,d,c,u){if(r&&"object"==typeof r&&!Array.isArray(r)){for(var h in s(r,a,o,l,d,c,u),r){var p=r[h];if(Array.isArray(p)){if(h in n.arrayKeywords)for(var m=0;m<p.length;m++)e(t,s,i,p[m],a+"/"+h+"/"+m,o,a,h,r,m)}else if(h in n.propsKeywords){if(p&&"object"==typeof p)for(var f in p)e(t,s,i,p[f],a+"/"+h+"/"+f.replace(/~/g,"~0").replace(/\//g,"~1"),o,a,h,r,f)}else(h in n.keywords||t.allKeys&&!(h in n.skipKeywords))&&e(t,s,i,p,a+"/"+h,o,a,h,r)}i(r,a,o,l,d,c,u)}}(t,"function"==typeof(s=t.cb||s)?s:s.pre||function(){},s.post||function(){},e,"",e)};n.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0},n.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},n.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},n.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},function(e,t,s){"use strict";var n=e.exports=function(){this._cache={}};n.prototype.put=function(e,t){this._cache[e]=t},n.prototype.get=function(e){return this._cache[e]},n.prototype.del=function(e){delete this._cache[e]},n.prototype.clear=function(){this._cache={}}},function(e,t,s){"use strict";var n=s(42),i=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,r=[0,31,28,31,30,31,30,31,31,30,31,30,31],a=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d:\d\d)?$/i,o=/^[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*$/i,l=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,d=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,c=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,u=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,h=/^(?:\/(?:[^~/]|~0|~1)*)*$/,p=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,m=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/;function f(e){return e="full"==e?"full":"fast",n.copy(f[e])}function v(e){var t=e.match(i);if(!t)return!1;var s=+t[1],n=+t[2],a=+t[3];return n>=1&&n<=12&&a>=1&&a<=(2==n&&function(e){return e%4==0&&(e%100!=0||e%400==0)}(s)?29:r[n])}function _(e,t){var s=e.match(a);if(!s)return!1;var n=s[1],i=s[2],r=s[3],o=s[5];return(n<=23&&i<=59&&r<=59||23==n&&59==i&&60==r)&&(!t||o)}e.exports=f,f.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d:\d\d)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d:\d\d)$/i,uri:/^(?:[a-z][a-z0-9+-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":d,url:c,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:o,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:M,uuid:u,"json-pointer":h,"json-pointer-uri-fragment":p,"relative-json-pointer":m},f.full={date:v,time:_,"date-time":function(e){var t=e.split(y);return 2==t.length&&v(t[0])&&_(t[1],!0)},uri:function(e){return g.test(e)&&l.test(e)},"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":d,url:c,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:function(e){return e.length<=255&&o.test(e)},ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:M,uuid:u,"json-pointer":h,"json-pointer-uri-fragment":p,"relative-json-pointer":m};var y=/t|\s/i;var g=/\/|:/;var b=/[^\\]\\Z/;function M(e){if(b.test(e))return!1;try{return new RegExp(e),!0}catch(e){return!1}}},function(e,t,s){"use strict";var n=s(359),i=s(42).toHash;e.exports=function(){var e=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],t=["type","$comment"];return e.all=i(t),e.types=i(["number","integer","string","array","object","boolean","null"]),e.forEach((function(s){s.rules=s.rules.map((function(s){var i;if("object"==typeof s){var r=Object.keys(s)[0];i=s[r],s=r,i.forEach((function(s){t.push(s),e.all[s]=!0}))}return t.push(s),e.all[s]={keyword:s,code:n[s],implements:i}})),e.all.$comment={keyword:"$comment",code:n.$comment},s.type&&(e.types[s.type]=s)})),e.keywords=i(t.concat(["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"])),e.custom={},e}},function(e,t,s){"use strict";e.exports={$ref:s(360),allOf:s(361),anyOf:s(362),$comment:s(363),const:s(364),contains:s(365),dependencies:s(366),enum:s(367),format:s(368),if:s(369),items:s(370),maximum:s(131),minimum:s(131),maxItems:s(132),minItems:s(132),maxLength:s(133),minLength:s(133),maxProperties:s(134),minProperties:s(134),multipleOf:s(371),not:s(372),oneOf:s(373),pattern:s(374),properties:s(375),propertyNames:s(376),required:s(377),uniqueItems:s(378),validate:s(130)}},function(e,t,s){"use strict";e.exports=function(e,t,s){var n,i,r=" ",a=e.level,o=e.dataLevel,l=e.schema[t],d=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,u="data"+(o||""),h="valid"+a;if("#"==l||"#/"==l)e.isRoot?(n=e.async,i="validate"):(n=!0===e.root.schema.$async,i="root.refVal[0]");else{var p=e.resolveRef(e.baseId,l,e.isRoot);if(void 0===p){var m=e.MissingRefError.message(e.baseId,l);if("fail"==e.opts.missingRefs){e.logger.error(m),(y=y||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { ref: '"+e.util.escapeQuotes(l)+"' } ",!1!==e.opts.messages&&(r+=" , message: 'can\\'t resolve reference "+e.util.escapeQuotes(l)+"' "),e.opts.verbose&&(r+=" , schema: "+e.util.toQuotedString(l)+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ";var f=r;r=y.pop(),!e.compositeRule&&c?e.async?r+=" throw new ValidationError(["+f+"]); ":r+=" validate.errors = ["+f+"]; return false; ":r+=" var err = "+f+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c&&(r+=" if (false) { ")}else{if("ignore"!=e.opts.missingRefs)throw new e.MissingRefError(e.baseId,l,m);e.logger.warn(m),c&&(r+=" if (true) { ")}}else if(p.inline){var v=e.util.copy(e);v.level++;var _="valid"+v.level;v.schema=p.schema,v.schemaPath="",v.errSchemaPath=l,r+=" "+e.validate(v).replace(/validate\.schema/g,p.code)+" ",c&&(r+=" if ("+_+") { ")}else n=!0===p.$async||e.async&&!1!==p.$async,i=p.code}if(i){var y;(y=y||[]).push(r),r="",e.opts.passContext?r+=" "+i+".call(this, ":r+=" "+i+"( ",r+=" "+u+", (dataPath || '')",'""'!=e.errorPath&&(r+=" + "+e.errorPath);var g=r+=" , "+(o?"data"+(o-1||""):"parentData")+" , "+(o?e.dataPathArr[o]:"parentDataProperty")+", rootData)  ";if(r=y.pop(),n){if(!e.async)throw new Error("async schema referenced by sync schema");c&&(r+=" var "+h+"; "),r+=" try { await "+g+"; ",c&&(r+=" "+h+" = true; "),r+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",c&&(r+=" "+h+" = false; "),r+=" } ",c&&(r+=" if ("+h+") { ")}else r+=" if (!"+g+") { if (vErrors === null) vErrors = "+i+".errors; else vErrors = vErrors.concat("+i+".errors); errors = vErrors.length; } ",c&&(r+=" else { ")}return r}},function(e,t,s){"use strict";e.exports=function(e,t,s){var n=" ",i=e.schema[t],r=e.schemaPath+e.util.getProperty(t),a=e.errSchemaPath+"/"+t,o=!e.opts.allErrors,l=e.util.copy(e),d="";l.level++;var c="valid"+l.level,u=l.baseId,h=!0,p=i;if(p)for(var m,f=-1,v=p.length-1;f<v;)m=p[f+=1],(e.opts.strictKeywords?"object"==typeof m&&Object.keys(m).length>0:e.util.schemaHasRules(m,e.RULES.all))&&(h=!1,l.schema=m,l.schemaPath=r+"["+f+"]",l.errSchemaPath=a+"/"+f,n+="  "+e.validate(l)+" ",l.baseId=u,o&&(n+=" if ("+c+") { ",d+="}"));return o&&(n+=h?" if (true) { ":" "+d.slice(0,-1)+" "),n=e.util.cleanUpCode(n)}},function(e,t,s){"use strict";e.exports=function(e,t,s){var n=" ",i=e.level,r=e.dataLevel,a=e.schema[t],o=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,d=!e.opts.allErrors,c="data"+(r||""),u="valid"+i,h="errs__"+i,p=e.util.copy(e),m="";p.level++;var f="valid"+p.level;if(a.every((function(t){return e.opts.strictKeywords?"object"==typeof t&&Object.keys(t).length>0:e.util.schemaHasRules(t,e.RULES.all)}))){var v=p.baseId;n+=" var "+h+" = errors; var "+u+" = false;  ";var _=e.compositeRule;e.compositeRule=p.compositeRule=!0;var y=a;if(y)for(var g,b=-1,M=y.length-1;b<M;)g=y[b+=1],p.schema=g,p.schemaPath=o+"["+b+"]",p.errSchemaPath=l+"/"+b,n+="  "+e.validate(p)+" ",p.baseId=v,n+=" "+u+" = "+u+" || "+f+"; if (!"+u+") { ",m+="}";e.compositeRule=p.compositeRule=_,n+=" "+m+" if (!"+u+") {   var err =   ",!1!==e.createErrors?(n+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",!1!==e.opts.messages&&(n+=" , message: 'should match some schema in anyOf' "),e.opts.verbose&&(n+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&d&&(e.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),n+=" } else {  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; } ",e.opts.allErrors&&(n+=" } "),n=e.util.cleanUpCode(n)}else d&&(n+=" if (true) { ");return n}},function(e,t,s){"use strict";e.exports=function(e,t,s){var n=" ",i=e.schema[t],r=e.errSchemaPath+"/"+t,a=(e.opts.allErrors,e.util.toQuotedString(i));return!0===e.opts.$comment?n+=" console.log("+a+");":"function"==typeof e.opts.$comment&&(n+=" self._opts.$comment("+a+", "+e.util.toQuotedString(r)+", validate.root.schema);"),n}},function(e,t,s){"use strict";e.exports=function(e,t,s){var n=" ",i=e.level,r=e.dataLevel,a=e.schema[t],o=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,d=!e.opts.allErrors,c="data"+(r||""),u="valid"+i,h=e.opts.$data&&a&&a.$data;h&&(n+=" var schema"+i+" = "+e.util.getData(a.$data,r,e.dataPathArr)+"; "),h||(n+=" var schema"+i+" = validate.schema"+o+";"),n+="var "+u+" = equal("+c+", schema"+i+"); if (!"+u+") {   ";var p=p||[];p.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'const' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { allowedValue: schema"+i+" } ",!1!==e.opts.messages&&(n+=" , message: 'should be equal to constant' "),e.opts.verbose&&(n+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),n+=" } "):n+=" {} ";var m=n;return n=p.pop(),!e.compositeRule&&d?e.async?n+=" throw new ValidationError(["+m+"]); ":n+=" validate.errors = ["+m+"]; return false; ":n+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" }",d&&(n+=" else { "),n}},function(e,t,s){"use strict";e.exports=function(e,t,s){var n=" ",i=e.level,r=e.dataLevel,a=e.schema[t],o=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,d=!e.opts.allErrors,c="data"+(r||""),u="valid"+i,h="errs__"+i,p=e.util.copy(e);p.level++;var m="valid"+p.level,f="i"+i,v=p.dataLevel=e.dataLevel+1,_="data"+v,y=e.baseId,g=e.opts.strictKeywords?"object"==typeof a&&Object.keys(a).length>0:e.util.schemaHasRules(a,e.RULES.all);if(n+="var "+h+" = errors;var "+u+";",g){var b=e.compositeRule;e.compositeRule=p.compositeRule=!0,p.schema=a,p.schemaPath=o,p.errSchemaPath=l,n+=" var "+m+" = false; for (var "+f+" = 0; "+f+" < "+c+".length; "+f+"++) { ",p.errorPath=e.util.getPathExpr(e.errorPath,f,e.opts.jsonPointers,!0);var M=c+"["+f+"]";p.dataPathArr[v]=f;var w=e.validate(p);p.baseId=y,e.util.varOccurences(w,_)<2?n+=" "+e.util.varReplace(w,_,M)+" ":n+=" var "+_+" = "+M+"; "+w+" ",n+=" if ("+m+") break; }  ",e.compositeRule=p.compositeRule=b,n+="  if (!"+m+") {"}else n+=" if ("+c+".length == 0) {";var L=L||[];L.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",!1!==e.opts.messages&&(n+=" , message: 'should contain a valid item' "),e.opts.verbose&&(n+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),n+=" } "):n+=" {} ";var x=n;return n=L.pop(),!e.compositeRule&&d?e.async?n+=" throw new ValidationError(["+x+"]); ":n+=" validate.errors = ["+x+"]; return false; ":n+=" var err = "+x+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else { ",g&&(n+="  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; } "),e.opts.allErrors&&(n+=" } "),n=e.util.cleanUpCode(n)}},function(e,t,s){"use strict";e.exports=function(e,t,s){var n=" ",i=e.level,r=e.dataLevel,a=e.schema[t],o=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,d=!e.opts.allErrors,c="data"+(r||""),u="errs__"+i,h=e.util.copy(e),p="";h.level++;var m="valid"+h.level,f={},v={},_=e.opts.ownProperties;for(M in a){var y=a[M],g=Array.isArray(y)?v:f;g[M]=y}n+="var "+u+" = errors;";var b=e.errorPath;for(var M in n+="var missing"+i+";",v)if((g=v[M]).length){if(n+=" if ( "+c+e.util.getProperty(M)+" !== undefined ",_&&(n+=" && Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(M)+"') "),d){n+=" && ( ";var w=g;if(w)for(var L=-1,x=w.length-1;L<x;){P=w[L+=1],L&&(n+=" || "),n+=" ( ( "+(j=c+(A=e.util.getProperty(P)))+" === undefined ",_&&(n+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(P)+"') "),n+=") && (missing"+i+" = "+e.util.toQuotedString(e.opts.jsonPointers?P:A)+") ) "}n+=")) {  ";var T="missing"+i,E="' + "+T+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(b,T,!0):b+" + "+T);var k=k||[];k.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { property: '"+e.util.escapeQuotes(M)+"', missingProperty: '"+E+"', depsCount: "+g.length+", deps: '"+e.util.escapeQuotes(1==g.length?g[0]:g.join(", "))+"' } ",!1!==e.opts.messages&&(n+=" , message: 'should have ",1==g.length?n+="property "+e.util.escapeQuotes(g[0]):n+="properties "+e.util.escapeQuotes(g.join(", ")),n+=" when property "+e.util.escapeQuotes(M)+" is present' "),e.opts.verbose&&(n+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),n+=" } "):n+=" {} ";var D=n;n=k.pop(),!e.compositeRule&&d?e.async?n+=" throw new ValidationError(["+D+"]); ":n+=" validate.errors = ["+D+"]; return false; ":n+=" var err = "+D+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{n+=" ) { ";var S=g;if(S)for(var P,C=-1,Y=S.length-1;C<Y;){P=S[C+=1];var A=e.util.getProperty(P),j=(E=e.util.escapeQuotes(P),c+A);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(b,P,e.opts.jsonPointers)),n+=" if ( "+j+" === undefined ",_&&(n+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(P)+"') "),n+=") {  var err =   ",!1!==e.createErrors?(n+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { property: '"+e.util.escapeQuotes(M)+"', missingProperty: '"+E+"', depsCount: "+g.length+", deps: '"+e.util.escapeQuotes(1==g.length?g[0]:g.join(", "))+"' } ",!1!==e.opts.messages&&(n+=" , message: 'should have ",1==g.length?n+="property "+e.util.escapeQuotes(g[0]):n+="properties "+e.util.escapeQuotes(g.join(", ")),n+=" when property "+e.util.escapeQuotes(M)+" is present' "),e.opts.verbose&&(n+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}n+=" }   ",d&&(p+="}",n+=" else { ")}e.errorPath=b;var O=h.baseId;for(var M in f){y=f[M];(e.opts.strictKeywords?"object"==typeof y&&Object.keys(y).length>0:e.util.schemaHasRules(y,e.RULES.all))&&(n+=" "+m+" = true; if ( "+c+e.util.getProperty(M)+" !== undefined ",_&&(n+=" && Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(M)+"') "),n+=") { ",h.schema=y,h.schemaPath=o+e.util.getProperty(M),h.errSchemaPath=l+"/"+e.util.escapeFragment(M),n+="  "+e.validate(h)+" ",h.baseId=O,n+=" }  ",d&&(n+=" if ("+m+") { ",p+="}"))}return d&&(n+="   "+p+" if ("+u+" == errors) {"),n=e.util.cleanUpCode(n)}},function(e,t,s){"use strict";e.exports=function(e,t,s){var n=" ",i=e.level,r=e.dataLevel,a=e.schema[t],o=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,d=!e.opts.allErrors,c="data"+(r||""),u="valid"+i,h=e.opts.$data&&a&&a.$data;h&&(n+=" var schema"+i+" = "+e.util.getData(a.$data,r,e.dataPathArr)+"; ");var p="i"+i,m="schema"+i;h||(n+=" var "+m+" = validate.schema"+o+";"),n+="var "+u+";",h&&(n+=" if (schema"+i+" === undefined) "+u+" = true; else if (!Array.isArray(schema"+i+")) "+u+" = false; else {"),n+=u+" = false;for (var "+p+"=0; "+p+"<"+m+".length; "+p+"++) if (equal("+c+", "+m+"["+p+"])) { "+u+" = true; break; }",h&&(n+="  }  "),n+=" if (!"+u+") {   ";var f=f||[];f.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { allowedValues: schema"+i+" } ",!1!==e.opts.messages&&(n+=" , message: 'should be equal to one of the allowed values' "),e.opts.verbose&&(n+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),n+=" } "):n+=" {} ";var v=n;return n=f.pop(),!e.compositeRule&&d?e.async?n+=" throw new ValidationError(["+v+"]); ":n+=" validate.errors = ["+v+"]; return false; ":n+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" }",d&&(n+=" else { "),n}},function(e,t,s){"use strict";e.exports=function(e,t,s){var n=" ",i=e.level,r=e.dataLevel,a=e.schema[t],o=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,d=!e.opts.allErrors,c="data"+(r||"");if(!1===e.opts.format)return d&&(n+=" if (true) { "),n;var u,h=e.opts.$data&&a&&a.$data;h?(n+=" var schema"+i+" = "+e.util.getData(a.$data,r,e.dataPathArr)+"; ",u="schema"+i):u=a;var p=e.opts.unknownFormats,m=Array.isArray(p);if(h){n+=" var "+(f="format"+i)+" = formats["+u+"]; var "+(v="isObject"+i)+" = typeof "+f+" == 'object' && !("+f+" instanceof RegExp) && "+f+".validate; var "+(_="formatType"+i)+" = "+v+" && "+f+".type || 'string'; if ("+v+") { ",e.async&&(n+=" var async"+i+" = "+f+".async; "),n+=" "+f+" = "+f+".validate; } if (  ",h&&(n+=" ("+u+" !== undefined && typeof "+u+" != 'string') || "),n+=" (","ignore"!=p&&(n+=" ("+u+" && !"+f+" ",m&&(n+=" && self._opts.unknownFormats.indexOf("+u+") == -1 "),n+=") || "),n+=" ("+f+" && "+_+" == '"+s+"' && !(typeof "+f+" == 'function' ? ",e.async?n+=" (async"+i+" ? await "+f+"("+c+") : "+f+"("+c+")) ":n+=" "+f+"("+c+") ",n+=" : "+f+".test("+c+"))))) {"}else{var f;if(!(f=e.formats[a])){if("ignore"==p)return e.logger.warn('unknown format "'+a+'" ignored in schema at path "'+e.errSchemaPath+'"'),d&&(n+=" if (true) { "),n;if(m&&p.indexOf(a)>=0)return d&&(n+=" if (true) { "),n;throw new Error('unknown format "'+a+'" is used in schema at path "'+e.errSchemaPath+'"')}var v,_=(v="object"==typeof f&&!(f instanceof RegExp)&&f.validate)&&f.type||"string";if(v){var y=!0===f.async;f=f.validate}if(_!=s)return d&&(n+=" if (true) { "),n;if(y){if(!e.async)throw new Error("async format in sync schema");n+=" if (!(await "+(g="formats"+e.util.getProperty(a)+".validate")+"("+c+"))) { "}else{n+=" if (! ";var g="formats"+e.util.getProperty(a);v&&(g+=".validate"),n+="function"==typeof f?" "+g+"("+c+") ":" "+g+".test("+c+") ",n+=") { "}}var b=b||[];b.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'format' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { format:  ",n+=h?""+u:""+e.util.toQuotedString(a),n+="  } ",!1!==e.opts.messages&&(n+=" , message: 'should match format \"",n+=h?"' + "+u+" + '":""+e.util.escapeQuotes(a),n+="\"' "),e.opts.verbose&&(n+=" , schema:  ",n+=h?"validate.schema"+o:""+e.util.toQuotedString(a),n+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),n+=" } "):n+=" {} ";var M=n;return n=b.pop(),!e.compositeRule&&d?e.async?n+=" throw new ValidationError(["+M+"]); ":n+=" validate.errors = ["+M+"]; return false; ":n+=" var err = "+M+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } ",d&&(n+=" else { "),n}},function(e,t,s){"use strict";e.exports=function(e,t,s){var n=" ",i=e.level,r=e.dataLevel,a=e.schema[t],o=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,d=!e.opts.allErrors,c="data"+(r||""),u="valid"+i,h="errs__"+i,p=e.util.copy(e);p.level++;var m="valid"+p.level,f=e.schema.then,v=e.schema.else,_=void 0!==f&&(e.opts.strictKeywords?"object"==typeof f&&Object.keys(f).length>0:e.util.schemaHasRules(f,e.RULES.all)),y=void 0!==v&&(e.opts.strictKeywords?"object"==typeof v&&Object.keys(v).length>0:e.util.schemaHasRules(v,e.RULES.all)),g=p.baseId;if(_||y){var b;p.createErrors=!1,p.schema=a,p.schemaPath=o,p.errSchemaPath=l,n+=" var "+h+" = errors; var "+u+" = true;  ";var M=e.compositeRule;e.compositeRule=p.compositeRule=!0,n+="  "+e.validate(p)+" ",p.baseId=g,p.createErrors=!0,n+="  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; }  ",e.compositeRule=p.compositeRule=M,_?(n+=" if ("+m+") {  ",p.schema=e.schema.then,p.schemaPath=e.schemaPath+".then",p.errSchemaPath=e.errSchemaPath+"/then",n+="  "+e.validate(p)+" ",p.baseId=g,n+=" "+u+" = "+m+"; ",_&&y?n+=" var "+(b="ifClause"+i)+" = 'then'; ":b="'then'",n+=" } ",y&&(n+=" else { ")):n+=" if (!"+m+") { ",y&&(p.schema=e.schema.else,p.schemaPath=e.schemaPath+".else",p.errSchemaPath=e.errSchemaPath+"/else",n+="  "+e.validate(p)+" ",p.baseId=g,n+=" "+u+" = "+m+"; ",_&&y?n+=" var "+(b="ifClause"+i)+" = 'else'; ":b="'else'",n+=" } "),n+=" if (!"+u+") {   var err =   ",!1!==e.createErrors?(n+=" { keyword: 'if' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { failingKeyword: "+b+" } ",!1!==e.opts.messages&&(n+=" , message: 'should match \"' + "+b+" + '\" schema' "),e.opts.verbose&&(n+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&d&&(e.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),n+=" }   ",d&&(n+=" else { "),n=e.util.cleanUpCode(n)}else d&&(n+=" if (true) { ");return n}},function(e,t,s){"use strict";e.exports=function(e,t,s){var n=" ",i=e.level,r=e.dataLevel,a=e.schema[t],o=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,d=!e.opts.allErrors,c="data"+(r||""),u="valid"+i,h="errs__"+i,p=e.util.copy(e),m="";p.level++;var f="valid"+p.level,v="i"+i,_=p.dataLevel=e.dataLevel+1,y="data"+_,g=e.baseId;if(n+="var "+h+" = errors;var "+u+";",Array.isArray(a)){var b=e.schema.additionalItems;if(!1===b){n+=" "+u+" = "+c+".length <= "+a.length+"; ";var M=l;l=e.errSchemaPath+"/additionalItems",n+="  if (!"+u+") {   ";var w=w||[];w.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { limit: "+a.length+" } ",!1!==e.opts.messages&&(n+=" , message: 'should NOT have more than "+a.length+" items' "),e.opts.verbose&&(n+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),n+=" } "):n+=" {} ";var L=n;n=w.pop(),!e.compositeRule&&d?e.async?n+=" throw new ValidationError(["+L+"]); ":n+=" validate.errors = ["+L+"]; return false; ":n+=" var err = "+L+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } ",l=M,d&&(m+="}",n+=" else { ")}var x=a;if(x)for(var T,E=-1,k=x.length-1;E<k;)if(T=x[E+=1],e.opts.strictKeywords?"object"==typeof T&&Object.keys(T).length>0:e.util.schemaHasRules(T,e.RULES.all)){n+=" "+f+" = true; if ("+c+".length > "+E+") { ";var D=c+"["+E+"]";p.schema=T,p.schemaPath=o+"["+E+"]",p.errSchemaPath=l+"/"+E,p.errorPath=e.util.getPathExpr(e.errorPath,E,e.opts.jsonPointers,!0),p.dataPathArr[_]=E;var S=e.validate(p);p.baseId=g,e.util.varOccurences(S,y)<2?n+=" "+e.util.varReplace(S,y,D)+" ":n+=" var "+y+" = "+D+"; "+S+" ",n+=" }  ",d&&(n+=" if ("+f+") { ",m+="}")}if("object"==typeof b&&(e.opts.strictKeywords?"object"==typeof b&&Object.keys(b).length>0:e.util.schemaHasRules(b,e.RULES.all))){p.schema=b,p.schemaPath=e.schemaPath+".additionalItems",p.errSchemaPath=e.errSchemaPath+"/additionalItems",n+=" "+f+" = true; if ("+c+".length > "+a.length+") {  for (var "+v+" = "+a.length+"; "+v+" < "+c+".length; "+v+"++) { ",p.errorPath=e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers,!0);D=c+"["+v+"]";p.dataPathArr[_]=v;S=e.validate(p);p.baseId=g,e.util.varOccurences(S,y)<2?n+=" "+e.util.varReplace(S,y,D)+" ":n+=" var "+y+" = "+D+"; "+S+" ",d&&(n+=" if (!"+f+") break; "),n+=" } }  ",d&&(n+=" if ("+f+") { ",m+="}")}}else if(e.opts.strictKeywords?"object"==typeof a&&Object.keys(a).length>0:e.util.schemaHasRules(a,e.RULES.all)){p.schema=a,p.schemaPath=o,p.errSchemaPath=l,n+="  for (var "+v+" = 0; "+v+" < "+c+".length; "+v+"++) { ",p.errorPath=e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers,!0);D=c+"["+v+"]";p.dataPathArr[_]=v;S=e.validate(p);p.baseId=g,e.util.varOccurences(S,y)<2?n+=" "+e.util.varReplace(S,y,D)+" ":n+=" var "+y+" = "+D+"; "+S+" ",d&&(n+=" if (!"+f+") break; "),n+=" }"}return d&&(n+=" "+m+" if ("+h+" == errors) {"),n=e.util.cleanUpCode(n)}},function(e,t,s){"use strict";e.exports=function(e,t,s){var n,i=" ",r=e.level,a=e.dataLevel,o=e.schema[t],l=e.schemaPath+e.util.getProperty(t),d=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,u="data"+(a||""),h=e.opts.$data&&o&&o.$data;h?(i+=" var schema"+r+" = "+e.util.getData(o.$data,a,e.dataPathArr)+"; ",n="schema"+r):n=o,i+="var division"+r+";if (",h&&(i+=" "+n+" !== undefined && ( typeof "+n+" != 'number' || "),i+=" (division"+r+" = "+u+" / "+n+", ",e.opts.multipleOfPrecision?i+=" Math.abs(Math.round(division"+r+") - division"+r+") > 1e-"+e.opts.multipleOfPrecision+" ":i+=" division"+r+" !== parseInt(division"+r+") ",i+=" ) ",h&&(i+="  )  "),i+=" ) {   ";var p=p||[];p.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { multipleOf: "+n+" } ",!1!==e.opts.messages&&(i+=" , message: 'should be multiple of ",i+=h?"' + "+n:n+"'"),e.opts.verbose&&(i+=" , schema:  ",i+=h?"validate.schema"+l:""+o,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),i+=" } "):i+=" {} ";var m=i;return i=p.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+m+"]); ":i+=" validate.errors = ["+m+"]; return false; ":i+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",c&&(i+=" else { "),i}},function(e,t,s){"use strict";e.exports=function(e,t,s){var n=" ",i=e.level,r=e.dataLevel,a=e.schema[t],o=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,d=!e.opts.allErrors,c="data"+(r||""),u="errs__"+i,h=e.util.copy(e);h.level++;var p="valid"+h.level;if(e.opts.strictKeywords?"object"==typeof a&&Object.keys(a).length>0:e.util.schemaHasRules(a,e.RULES.all)){h.schema=a,h.schemaPath=o,h.errSchemaPath=l,n+=" var "+u+" = errors;  ";var m,f=e.compositeRule;e.compositeRule=h.compositeRule=!0,h.createErrors=!1,h.opts.allErrors&&(m=h.opts.allErrors,h.opts.allErrors=!1),n+=" "+e.validate(h)+" ",h.createErrors=!0,m&&(h.opts.allErrors=m),e.compositeRule=h.compositeRule=f,n+=" if ("+p+") {   ";var v=v||[];v.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",!1!==e.opts.messages&&(n+=" , message: 'should NOT be valid' "),e.opts.verbose&&(n+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),n+=" } "):n+=" {} ";var _=n;n=v.pop(),!e.compositeRule&&d?e.async?n+=" throw new ValidationError(["+_+"]); ":n+=" validate.errors = ["+_+"]; return false; ":n+=" var err = "+_+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else {  errors = "+u+"; if (vErrors !== null) { if ("+u+") vErrors.length = "+u+"; else vErrors = null; } ",e.opts.allErrors&&(n+=" } ")}else n+="  var err =   ",!1!==e.createErrors?(n+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",!1!==e.opts.messages&&(n+=" , message: 'should NOT be valid' "),e.opts.verbose&&(n+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",d&&(n+=" if (false) { ");return n}},function(e,t,s){"use strict";e.exports=function(e,t,s){var n=" ",i=e.level,r=e.dataLevel,a=e.schema[t],o=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,d=!e.opts.allErrors,c="data"+(r||""),u="valid"+i,h="errs__"+i,p=e.util.copy(e),m="";p.level++;var f="valid"+p.level,v=p.baseId,_="prevValid"+i,y="passingSchemas"+i;n+="var "+h+" = errors , "+_+" = false , "+u+" = false , "+y+" = null; ";var g=e.compositeRule;e.compositeRule=p.compositeRule=!0;var b=a;if(b)for(var M,w=-1,L=b.length-1;w<L;)M=b[w+=1],(e.opts.strictKeywords?"object"==typeof M&&Object.keys(M).length>0:e.util.schemaHasRules(M,e.RULES.all))?(p.schema=M,p.schemaPath=o+"["+w+"]",p.errSchemaPath=l+"/"+w,n+="  "+e.validate(p)+" ",p.baseId=v):n+=" var "+f+" = true; ",w&&(n+=" if ("+f+" && "+_+") { "+u+" = false; "+y+" = ["+y+", "+w+"]; } else { ",m+="}"),n+=" if ("+f+") { "+u+" = "+_+" = true; "+y+" = "+w+"; }";return e.compositeRule=p.compositeRule=g,n+=m+"if (!"+u+") {   var err =   ",!1!==e.createErrors?(n+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { passingSchemas: "+y+" } ",!1!==e.opts.messages&&(n+=" , message: 'should match exactly one schema in oneOf' "),e.opts.verbose&&(n+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&d&&(e.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),n+="} else {  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; }",e.opts.allErrors&&(n+=" } "),n}},function(e,t,s){"use strict";e.exports=function(e,t,s){var n,i=" ",r=e.level,a=e.dataLevel,o=e.schema[t],l=e.schemaPath+e.util.getProperty(t),d=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,u="data"+(a||""),h=e.opts.$data&&o&&o.$data;h?(i+=" var schema"+r+" = "+e.util.getData(o.$data,a,e.dataPathArr)+"; ",n="schema"+r):n=o,i+="if ( ",h&&(i+=" ("+n+" !== undefined && typeof "+n+" != 'string') || "),i+=" !"+(h?"(new RegExp("+n+"))":e.usePattern(o))+".test("+u+") ) {   ";var p=p||[];p.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { pattern:  ",i+=h?""+n:""+e.util.toQuotedString(o),i+="  } ",!1!==e.opts.messages&&(i+=" , message: 'should match pattern \"",i+=h?"' + "+n+" + '":""+e.util.escapeQuotes(o),i+="\"' "),e.opts.verbose&&(i+=" , schema:  ",i+=h?"validate.schema"+l:""+e.util.toQuotedString(o),i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),i+=" } "):i+=" {} ";var m=i;return i=p.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+m+"]); ":i+=" validate.errors = ["+m+"]; return false; ":i+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",c&&(i+=" else { "),i}},function(e,t,s){"use strict";e.exports=function(e,t,s){var n=" ",i=e.level,r=e.dataLevel,a=e.schema[t],o=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,d=!e.opts.allErrors,c="data"+(r||""),u="errs__"+i,h=e.util.copy(e),p="";h.level++;var m="valid"+h.level,f="key"+i,v="idx"+i,_=h.dataLevel=e.dataLevel+1,y="data"+_,g="dataProperties"+i,b=Object.keys(a||{}),M=e.schema.patternProperties||{},w=Object.keys(M),L=e.schema.additionalProperties,x=b.length||w.length,T=!1===L,E="object"==typeof L&&Object.keys(L).length,k=e.opts.removeAdditional,D=T||E||k,S=e.opts.ownProperties,P=e.baseId,C=e.schema.required;if(C&&(!e.opts.$data||!C.$data)&&C.length<e.opts.loopRequired)var Y=e.util.toHash(C);if(n+="var "+u+" = errors;var "+m+" = true;",S&&(n+=" var "+g+" = undefined;"),D){if(n+=S?" "+g+" = "+g+" || Object.keys("+c+"); for (var "+v+"=0; "+v+"<"+g+".length; "+v+"++) { var "+f+" = "+g+"["+v+"]; ":" for (var "+f+" in "+c+") { ",x){if(n+=" var isAdditional"+i+" = !(false ",b.length)if(b.length>8)n+=" || validate.schema"+o+".hasOwnProperty("+f+") ";else{var A=b;if(A)for(var j=-1,O=A.length-1;j<O;)q=A[j+=1],n+=" || "+f+" == "+e.util.toQuotedString(q)+" "}if(w.length){var R=w;if(R)for(var N=-1,H=R.length-1;N<H;)ie=R[N+=1],n+=" || "+e.usePattern(ie)+".test("+f+") "}n+=" ); if (isAdditional"+i+") { "}if("all"==k)n+=" delete "+c+"["+f+"]; ";else{var I=e.errorPath,F="' + "+f+" + '";if(e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(e.errorPath,f,e.opts.jsonPointers)),T)if(k)n+=" delete "+c+"["+f+"]; ";else{n+=" "+m+" = false; ";var V=l;l=e.errSchemaPath+"/additionalProperties",(te=te||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { additionalProperty: '"+F+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is an invalid additional property":n+="should NOT have additional properties",n+="' "),e.opts.verbose&&(n+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),n+=" } "):n+=" {} ";var z=n;n=te.pop(),!e.compositeRule&&d?e.async?n+=" throw new ValidationError(["+z+"]); ":n+=" validate.errors = ["+z+"]; return false; ":n+=" var err = "+z+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",l=V,d&&(n+=" break; ")}else if(E)if("failing"==k){n+=" var "+u+" = errors;  ";var U=e.compositeRule;e.compositeRule=h.compositeRule=!0,h.schema=L,h.schemaPath=e.schemaPath+".additionalProperties",h.errSchemaPath=e.errSchemaPath+"/additionalProperties",h.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,f,e.opts.jsonPointers);var B=c+"["+f+"]";h.dataPathArr[_]=f;var $=e.validate(h);h.baseId=P,e.util.varOccurences($,y)<2?n+=" "+e.util.varReplace($,y,B)+" ":n+=" var "+y+" = "+B+"; "+$+" ",n+=" if (!"+m+") { errors = "+u+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+c+"["+f+"]; }  ",e.compositeRule=h.compositeRule=U}else{h.schema=L,h.schemaPath=e.schemaPath+".additionalProperties",h.errSchemaPath=e.errSchemaPath+"/additionalProperties",h.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,f,e.opts.jsonPointers);B=c+"["+f+"]";h.dataPathArr[_]=f;$=e.validate(h);h.baseId=P,e.util.varOccurences($,y)<2?n+=" "+e.util.varReplace($,y,B)+" ":n+=" var "+y+" = "+B+"; "+$+" ",d&&(n+=" if (!"+m+") break; ")}e.errorPath=I}x&&(n+=" } "),n+=" }  ",d&&(n+=" if ("+m+") { ",p+="}")}var G=e.opts.useDefaults&&!e.compositeRule;if(b.length){var W=b;if(W)for(var q,J=-1,K=W.length-1;J<K;){var Q=a[q=W[J+=1]];if(e.opts.strictKeywords?"object"==typeof Q&&Object.keys(Q).length>0:e.util.schemaHasRules(Q,e.RULES.all)){var X=e.util.getProperty(q),Z=(B=c+X,G&&void 0!==Q.default);h.schema=Q,h.schemaPath=o+X,h.errSchemaPath=l+"/"+e.util.escapeFragment(q),h.errorPath=e.util.getPath(e.errorPath,q,e.opts.jsonPointers),h.dataPathArr[_]=e.util.toQuotedString(q);$=e.validate(h);if(h.baseId=P,e.util.varOccurences($,y)<2){$=e.util.varReplace($,y,B);var ee=B}else{ee=y;n+=" var "+y+" = "+B+"; "}if(Z)n+=" "+$+" ";else{if(Y&&Y[q]){n+=" if ( "+ee+" === undefined ",S&&(n+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(q)+"') "),n+=") { "+m+" = false; ";I=e.errorPath,V=l;var te,se=e.util.escapeQuotes(q);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(I,q,e.opts.jsonPointers)),l=e.errSchemaPath+"/required",(te=te||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+se+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+se+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),n+=" } "):n+=" {} ";z=n;n=te.pop(),!e.compositeRule&&d?e.async?n+=" throw new ValidationError(["+z+"]); ":n+=" validate.errors = ["+z+"]; return false; ":n+=" var err = "+z+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",l=V,e.errorPath=I,n+=" } else { "}else d?(n+=" if ( "+ee+" === undefined ",S&&(n+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(q)+"') "),n+=") { "+m+" = true; } else { "):(n+=" if ("+ee+" !== undefined ",S&&(n+=" &&   Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(q)+"') "),n+=" ) { ");n+=" "+$+" } "}}d&&(n+=" if ("+m+") { ",p+="}")}}if(w.length){var ne=w;if(ne)for(var ie,re=-1,ae=ne.length-1;re<ae;){Q=M[ie=ne[re+=1]];if(e.opts.strictKeywords?"object"==typeof Q&&Object.keys(Q).length>0:e.util.schemaHasRules(Q,e.RULES.all)){h.schema=Q,h.schemaPath=e.schemaPath+".patternProperties"+e.util.getProperty(ie),h.errSchemaPath=e.errSchemaPath+"/patternProperties/"+e.util.escapeFragment(ie),n+=S?" "+g+" = "+g+" || Object.keys("+c+"); for (var "+v+"=0; "+v+"<"+g+".length; "+v+"++) { var "+f+" = "+g+"["+v+"]; ":" for (var "+f+" in "+c+") { ",n+=" if ("+e.usePattern(ie)+".test("+f+")) { ",h.errorPath=e.util.getPathExpr(e.errorPath,f,e.opts.jsonPointers);B=c+"["+f+"]";h.dataPathArr[_]=f;$=e.validate(h);h.baseId=P,e.util.varOccurences($,y)<2?n+=" "+e.util.varReplace($,y,B)+" ":n+=" var "+y+" = "+B+"; "+$+" ",d&&(n+=" if (!"+m+") break; "),n+=" } ",d&&(n+=" else "+m+" = true; "),n+=" }  ",d&&(n+=" if ("+m+") { ",p+="}")}}}return d&&(n+=" "+p+" if ("+u+" == errors) {"),n=e.util.cleanUpCode(n)}},function(e,t,s){"use strict";e.exports=function(e,t,s){var n=" ",i=e.level,r=e.dataLevel,a=e.schema[t],o=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,d=!e.opts.allErrors,c="data"+(r||""),u="errs__"+i,h=e.util.copy(e);h.level++;var p="valid"+h.level;if(n+="var "+u+" = errors;",e.opts.strictKeywords?"object"==typeof a&&Object.keys(a).length>0:e.util.schemaHasRules(a,e.RULES.all)){h.schema=a,h.schemaPath=o,h.errSchemaPath=l;var m="key"+i,f="idx"+i,v="i"+i,_="' + "+m+" + '",y="data"+(h.dataLevel=e.dataLevel+1),g="dataProperties"+i,b=e.opts.ownProperties,M=e.baseId;b&&(n+=" var "+g+" = undefined; "),n+=b?" "+g+" = "+g+" || Object.keys("+c+"); for (var "+f+"=0; "+f+"<"+g+".length; "+f+"++) { var "+m+" = "+g+"["+f+"]; ":" for (var "+m+" in "+c+") { ",n+=" var startErrs"+i+" = errors; ";var w=m,L=e.compositeRule;e.compositeRule=h.compositeRule=!0;var x=e.validate(h);h.baseId=M,e.util.varOccurences(x,y)<2?n+=" "+e.util.varReplace(x,y,w)+" ":n+=" var "+y+" = "+w+"; "+x+" ",e.compositeRule=h.compositeRule=L,n+=" if (!"+p+") { for (var "+v+"=startErrs"+i+"; "+v+"<errors; "+v+"++) { vErrors["+v+"].propertyName = "+m+"; }   var err =   ",!1!==e.createErrors?(n+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { propertyName: '"+_+"' } ",!1!==e.opts.messages&&(n+=" , message: 'property name \\'"+_+"\\' is invalid' "),e.opts.verbose&&(n+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&d&&(e.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),d&&(n+=" break; "),n+=" } }"}return d&&(n+="  if ("+u+" == errors) {"),n=e.util.cleanUpCode(n)}},function(e,t,s){"use strict";e.exports=function(e,t,s){var n=" ",i=e.level,r=e.dataLevel,a=e.schema[t],o=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,d=!e.opts.allErrors,c="data"+(r||""),u="valid"+i,h=e.opts.$data&&a&&a.$data;h&&(n+=" var schema"+i+" = "+e.util.getData(a.$data,r,e.dataPathArr)+"; ");var p="schema"+i;if(!h)if(a.length<e.opts.loopRequired&&e.schema.properties&&Object.keys(e.schema.properties).length){var m=[],f=a;if(f)for(var v,_=-1,y=f.length-1;_<y;){v=f[_+=1];var g=e.schema.properties[v];g&&(e.opts.strictKeywords?"object"==typeof g&&Object.keys(g).length>0:e.util.schemaHasRules(g,e.RULES.all))||(m[m.length]=v)}}else m=a;if(h||m.length){var b=e.errorPath,M=h||m.length>=e.opts.loopRequired,w=e.opts.ownProperties;if(d)if(n+=" var missing"+i+"; ",M){h||(n+=" var "+p+" = validate.schema"+o+"; ");var L="' + "+(S="schema"+i+"["+(E="i"+i)+"]")+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(b,S,e.opts.jsonPointers)),n+=" var "+u+" = true; ",h&&(n+=" if (schema"+i+" === undefined) "+u+" = true; else if (!Array.isArray(schema"+i+")) "+u+" = false; else {"),n+=" for (var "+E+" = 0; "+E+" < "+p+".length; "+E+"++) { "+u+" = "+c+"["+p+"["+E+"]] !== undefined ",w&&(n+=" &&   Object.prototype.hasOwnProperty.call("+c+", "+p+"["+E+"]) "),n+="; if (!"+u+") break; } ",h&&(n+="  }  "),n+="  if (!"+u+") {   ",(D=D||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+L+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+L+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),n+=" } "):n+=" {} ";var x=n;n=D.pop(),!e.compositeRule&&d?e.async?n+=" throw new ValidationError(["+x+"]); ":n+=" validate.errors = ["+x+"]; return false; ":n+=" var err = "+x+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else { "}else{n+=" if ( ";var T=m;if(T)for(var E=-1,k=T.length-1;E<k;){C=T[E+=1],E&&(n+=" || "),n+=" ( ( "+(O=c+(j=e.util.getProperty(C)))+" === undefined ",w&&(n+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(C)+"') "),n+=") && (missing"+i+" = "+e.util.toQuotedString(e.opts.jsonPointers?C:j)+") ) "}n+=") {  ";var D;L="' + "+(S="missing"+i)+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(b,S,!0):b+" + "+S),(D=D||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+L+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+L+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),n+=" } "):n+=" {} ";x=n;n=D.pop(),!e.compositeRule&&d?e.async?n+=" throw new ValidationError(["+x+"]); ":n+=" validate.errors = ["+x+"]; return false; ":n+=" var err = "+x+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else { "}else if(M){h||(n+=" var "+p+" = validate.schema"+o+"; ");var S;L="' + "+(S="schema"+i+"["+(E="i"+i)+"]")+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(b,S,e.opts.jsonPointers)),h&&(n+=" if ("+p+" && !Array.isArray("+p+")) {  var err =   ",!1!==e.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+L+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+L+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+p+" !== undefined) { "),n+=" for (var "+E+" = 0; "+E+" < "+p+".length; "+E+"++) { if ("+c+"["+p+"["+E+"]] === undefined ",w&&(n+=" || ! Object.prototype.hasOwnProperty.call("+c+", "+p+"["+E+"]) "),n+=") {  var err =   ",!1!==e.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+L+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+L+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",h&&(n+="  }  ")}else{var P=m;if(P)for(var C,Y=-1,A=P.length-1;Y<A;){C=P[Y+=1];var j=e.util.getProperty(C),O=(L=e.util.escapeQuotes(C),c+j);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(b,C,e.opts.jsonPointers)),n+=" if ( "+O+" === undefined ",w&&(n+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(C)+"') "),n+=") {  var err =   ",!1!==e.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+L+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+L+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}e.errorPath=b}else d&&(n+=" if (true) {");return n}},function(e,t,s){"use strict";e.exports=function(e,t,s){var n,i=" ",r=e.level,a=e.dataLevel,o=e.schema[t],l=e.schemaPath+e.util.getProperty(t),d=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,u="data"+(a||""),h="valid"+r,p=e.opts.$data&&o&&o.$data;if(p?(i+=" var schema"+r+" = "+e.util.getData(o.$data,a,e.dataPathArr)+"; ",n="schema"+r):n=o,(o||p)&&!1!==e.opts.uniqueItems){p&&(i+=" var "+h+"; if ("+n+" === false || "+n+" === undefined) "+h+" = true; else if (typeof "+n+" != 'boolean') "+h+" = false; else { "),i+=" var i = "+u+".length , "+h+" = true , j; if (i > 1) { ";var m=e.schema.items&&e.schema.items.type,f=Array.isArray(m);if(!m||"object"==m||"array"==m||f&&(m.indexOf("object")>=0||m.indexOf("array")>=0))i+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+u+"[i], "+u+"[j])) { "+h+" = false; break outer; } } } ";else{i+=" var itemIndices = {}, item; for (;i--;) { var item = "+u+"[i]; ";var v="checkDataType"+(f?"s":"");i+=" if ("+e.util[v](m,"item",!0)+") continue; ",f&&(i+=" if (typeof item == 'string') item = '\"' + item; "),i+=" if (typeof itemIndices[item] == 'number') { "+h+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "}i+=" } ",p&&(i+="  }  "),i+=" if (!"+h+") {   ";var _=_||[];_.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { i: i, j: j } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),e.opts.verbose&&(i+=" , schema:  ",i+=p?"validate.schema"+l:""+o,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),i+=" } "):i+=" {} ";var y=i;i=_.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+y+"]); ":i+=" validate.errors = ["+y+"]; return false; ":i+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } ",c&&(i+=" else { ")}else c&&(i+=" if (true) { ");return i}},function(e,t,s){"use strict";var n=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"];e.exports=function(e,t){for(var s=0;s<t.length;s++){e=JSON.parse(JSON.stringify(e));var i,r=t[s].split("/"),a=e;for(i=1;i<r.length;i++)a=a[r[i]];for(i=0;i<n.length;i++){var o=n[i],l=a[o];l&&(a[o]={anyOf:[l,{$ref:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#"}]})}}return e}},function(e,t,s){"use strict";var n=s(93).MissingRef;e.exports=function e(t,s,i){var r=this;if("function"!=typeof this._opts.loadSchema)throw new Error("options.loadSchema should be a function");"function"==typeof s&&(i=s,s=void 0);var a=o(t).then((function(){var e=r._addSchema(t,void 0,s);return e.validate||function e(t){try{return r._compile(t)}catch(i){if(i instanceof n)return function(n){var i=n.missingSchema;if(d(i))throw new Error("Schema "+i+" is loaded but "+n.missingRef+" cannot be resolved");var a=r._loadingSchemas[i];a||(a=r._loadingSchemas[i]=r._opts.loadSchema(i)).then(l,l);return a.then((function(e){if(!d(i))return o(e).then((function(){d(i)||r.addSchema(e,i,void 0,s)}))})).then((function(){return e(t)}));function l(){delete r._loadingSchemas[i]}function d(e){return r._refs[e]||r._schemas[e]}}(i);throw i}}(e)}));i&&a.then((function(e){i(null,e)}),i);return a;function o(t){var s=t.$schema;return s&&!r.getSchema(s)?e.call(r,{$ref:s},!0):Promise.resolve()}}},function(e,t,s){"use strict";var n=/^[a-z_$][a-z0-9_$-]*$/i,i=s(382),r=s(383);e.exports={add:function(e,t){var s=this.RULES;if(s.keywords[e])throw new Error("Keyword "+e+" is already defined");if(!n.test(e))throw new Error("Keyword "+e+" is not a valid identifier");if(t){this.validateKeyword(t,!0);var r=t.type;if(Array.isArray(r))for(var a=0;a<r.length;a++)l(e,r[a],t);else l(e,r,t);var o=t.metaSchema;o&&(t.$data&&this._opts.$data&&(o={anyOf:[o,{$ref:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#"}]}),t.validateSchema=this.compile(o,!0))}function l(e,t,n){for(var r,a=0;a<s.length;a++){var o=s[a];if(o.type==t){r=o;break}}r||(r={type:t,rules:[]},s.push(r));var l={keyword:e,definition:n,custom:!0,code:i,implements:n.implements};r.rules.push(l),s.custom[e]=l}return s.keywords[e]=s.all[e]=!0,this},get:function(e){var t=this.RULES.custom[e];return t?t.definition:this.RULES.keywords[e]||!1},remove:function(e){var t=this.RULES;delete t.keywords[e],delete t.all[e],delete t.custom[e];for(var s=0;s<t.length;s++)for(var n=t[s].rules,i=0;i<n.length;i++)if(n[i].keyword==e){n.splice(i,1);break}return this},validate:function e(t,s){e.errors=null;var n=this._validateKeyword=this._validateKeyword||this.compile(r,!0);if(n(t))return!0;e.errors=n.errors;if(s)throw new Error("custom keyword definition is invalid: "+this.errorsText(n.errors));return!1}}},function(e,t,s){"use strict";e.exports=function(e,t,s){var n,i,r=" ",a=e.level,o=e.dataLevel,l=e.schema[t],d=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,h="data"+(o||""),p="valid"+a,m="errs__"+a,f=e.opts.$data&&l&&l.$data;f?(r+=" var schema"+a+" = "+e.util.getData(l.$data,o,e.dataPathArr)+"; ",i="schema"+a):i=l;var v,_,y,g,b,M="definition"+a,w=this.definition,L="";if(f&&w.$data){b="keywordValidate"+a;var x=w.validateSchema;r+=" var "+M+" = RULES.custom['"+t+"'].definition; var "+b+" = "+M+".validate;"}else{if(!(g=e.useCustomRule(this,l,e.schema,e)))return;i="validate.schema"+d,b=g.code,v=w.compile,_=w.inline,y=w.macro}var T=b+".errors",E="i"+a,k="ruleErr"+a,D=w.async;if(D&&!e.async)throw new Error("async keyword in sync schema");if(_||y||(r+=T+" = null;"),r+="var "+m+" = errors;var "+p+";",f&&w.$data&&(L+="}",r+=" if ("+i+" === undefined) { "+p+" = true; } else { ",x&&(L+="}",r+=" "+p+" = "+M+".validateSchema("+i+"); if ("+p+") { ")),_)w.statements?r+=" "+g.validate+" ":r+=" "+p+" = "+g.validate+"; ";else if(y){var S=e.util.copy(e);L="";S.level++;var P="valid"+S.level;S.schema=g.validate,S.schemaPath="";var C=e.compositeRule;e.compositeRule=S.compositeRule=!0;var Y=e.validate(S).replace(/validate\.schema/g,b);e.compositeRule=S.compositeRule=C,r+=" "+Y}else{(R=R||[]).push(r),r="",r+="  "+b+".call( ",e.opts.passContext?r+="this":r+="self",v||!1===w.schema?r+=" , "+h+" ":r+=" , "+i+" , "+h+" , validate.schema"+e.schemaPath+" ",r+=" , (dataPath || '')",'""'!=e.errorPath&&(r+=" + "+e.errorPath);var A=o?"data"+(o-1||""):"parentData",j=o?e.dataPathArr[o]:"parentDataProperty",O=r+=" , "+A+" , "+j+" , rootData )  ";r=R.pop(),!1===w.errors?(r+=" "+p+" = ",D&&(r+="await "),r+=O+"; "):r+=D?" var "+(T="customErrors"+a)+" = null; try { "+p+" = await "+O+"; } catch (e) { "+p+" = false; if (e instanceof ValidationError) "+T+" = e.errors; else throw e; } ":" "+T+" = null; "+p+" = "+O+"; "}if(w.modifying&&(r+=" if ("+A+") "+h+" = "+A+"["+j+"];"),r+=""+L,w.valid)u&&(r+=" if (true) { ");else{var R;r+=" if ( ",void 0===w.valid?(r+=" !",r+=y?""+P:""+p):r+=" "+!w.valid+" ",r+=") { ",n=this.keyword,(R=R||[]).push(r),r="",(R=R||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: '"+(n||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { keyword: '"+this.keyword+"' } ",!1!==e.opts.messages&&(r+=" , message: 'should pass \""+this.keyword+"\" keyword validation' "),e.opts.verbose&&(r+=" , schema: validate.schema"+d+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ";var N=r;r=R.pop(),!e.compositeRule&&u?e.async?r+=" throw new ValidationError(["+N+"]); ":r+=" validate.errors = ["+N+"]; return false; ":r+=" var err = "+N+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var H=r;r=R.pop(),_?w.errors?"full"!=w.errors&&(r+="  for (var "+E+"="+m+"; "+E+"<errors; "+E+"++) { var "+k+" = vErrors["+E+"]; if ("+k+".dataPath === undefined) "+k+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+k+".schemaPath === undefined) { "+k+'.schemaPath = "'+c+'"; } ',e.opts.verbose&&(r+=" "+k+".schema = "+i+"; "+k+".data = "+h+"; "),r+=" } "):!1===w.errors?r+=" "+H+" ":(r+=" if ("+m+" == errors) { "+H+" } else {  for (var "+E+"="+m+"; "+E+"<errors; "+E+"++) { var "+k+" = vErrors["+E+"]; if ("+k+".dataPath === undefined) "+k+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+k+".schemaPath === undefined) { "+k+'.schemaPath = "'+c+'"; } ',e.opts.verbose&&(r+=" "+k+".schema = "+i+"; "+k+".data = "+h+"; "),r+=" } } "):y?(r+="   var err =   ",!1!==e.createErrors?(r+=" { keyword: '"+(n||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { keyword: '"+this.keyword+"' } ",!1!==e.opts.messages&&(r+=" , message: 'should pass \""+this.keyword+"\" keyword validation' "),e.opts.verbose&&(r+=" , schema: validate.schema"+d+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; ")):!1===w.errors?r+=" "+H+" ":(r+=" if (Array.isArray("+T+")) { if (vErrors === null) vErrors = "+T+"; else vErrors = vErrors.concat("+T+"); errors = vErrors.length;  for (var "+E+"="+m+"; "+E+"<errors; "+E+"++) { var "+k+" = vErrors["+E+"]; if ("+k+".dataPath === undefined) "+k+".dataPath = (dataPath || '') + "+e.errorPath+";  "+k+'.schemaPath = "'+c+'";  ',e.opts.verbose&&(r+=" "+k+".schema = "+i+"; "+k+".data = "+h+"; "),r+=" } } else { "+H+" } "),r+=" } ",u&&(r+=" else { ")}return r}},function(e,t,s){"use strict";var n=s(135);e.exports={$id:"https://github.com/epoberezkin/ajv/blob/master/lib/definition_schema.js",definitions:{simpleTypes:n.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:n.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}}},function(e){e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON Schema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},function(e){e.exports=JSON.parse('{"$id":"https://schemas.3d.si.edu/voyager/document.schema.json","$schema":"http://json-schema.org/draft-07/schema#","title":"Smithsonian 3D Document","description":"Describes a 3D document containing a scene with 3D models.","definitions":{"scene":{"$id":"#scene","type":"object","properties":{"nodes":{"type":"array","description":"The indices of the scene\'s root nodes.","items":{"type":"integer","minimum":0},"uniqueItems":true,"minItems":1},"setup":{"description":"The index of the scene\'s setup.","type":"integer","minimum":0}}},"node":{"$id":"#node","type":"object","properties":{"name":{"type":"string"},"children":{"type":"array","description":"The indices of this node\'s children.","items":{"type":"integer","minimum":0},"uniqueItems":true,"minItems":1},"matrix":{"description":"A floating-point 4x4 transformation matrix stored in column-major order.","type":"array","items":{"type":"number"},"minItems":16,"maxItems":16,"default":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},"translation":{"description":"The node\'s translation along the x, y, and z axes.","type":"array","items":{"type":"number"},"minItems":3,"maxItems":3,"default":[0,0,0]},"rotation":{"description":"The node\'s unit quaternion rotation in the order (x, y, z, w), where w is the scalar.","type":"array","items":{"type":"number","minimum":-1,"maximum":1},"minItems":4,"maxItems":4,"default":[0,0,0,1]},"scale":{"description":"The node\'s non-uniform scale, given as the scaling factors along the x, y, and z axes.","type":"array","items":{"type":"number"},"minItems":3,"maxItems":3,"default":[1,1,1]},"camera":{"description":"The index of the camera component of this node.","type":"integer","minimum":0},"light":{"description":"The index of the light component of this node.","type":"integer","minimum":0},"meta":{"description":"The index of the meta data component of this node.","type":"integer","minimum":0},"model":{"description":"The index of the model component of this node.","type":"integer","minimum":0}},"not":{"anyOf":[{"required":["matrix","translation"]},{"required":["matrix","rotation"]},{"required":["matrix","scale"]}]}},"camera":{"$id":"#camera","type":"object","properties":{"type":{"description":"Specifies if the camera uses a perspective or orthographic projection.","type":"string","enum":["perspective","orthographic"]},"perspective":{"description":"A perspective camera containing properties to create a perspective projection matrix.","type":"object","properties":{"yfov":{"type":"number","description":"The floating-point vertical field of view in radians.","exclusiveMinimum":0},"aspectRatio":{"type":"number","description":"The floating-point aspect ratio of the field of view.","exclusiveMinimum":0},"znear":{"type":"number","description":"The floating-point distance to the near clipping plane.","exclusiveMinimum":0},"zfar":{"type":"number","description":"The floating-point distance to the far clipping plane.","exclusiveMinimum":0}},"required":["yfov","znear"]},"orthographic":{"description":"An orthographic camera containing properties to create an orthographic projection matrix.","type":"object","properties":{"xmag":{"type":"number","description":"The floating-point horizontal magnification of the view. Must not be zero."},"ymag":{"type":"number","description":"The floating-point vertical magnification of the view. Must not be zero."},"znear":{"type":"number","description":"The floating-point distance to the near clipping plane.","exclusiveMinimum":0},"zfar":{"type":"number","description":"The floating-point distance to the far clipping plane. `zfar` must be greater than `znear`.","exclusiveMinimum":0}},"required":["xmag","ymag","znear","zfar"]}},"required":["type"],"not":{"required":["perspective","orthographic"]}},"light":{"$id":"#light","type":"object","properties":{"type":{"description":"Specifies the type of the light source.","type":"string","enum":["ambient","directional","point","spot","hemisphere"]},"color":{"$ref":"#/definitions/colorRGB"},"intensity":{"type":"number","minimum":0,"default":1},"castShadow":{"type":"boolean","default":false},"point":{"type":"object","properties":{"distance":{"type":"number","minimum":0},"decay":{"type":"number","minimum":0}}},"spot":{"type":"object","properties":{"distance":{"type":"number","minimum":0},"decay":{"type":"number","minimum":0},"angle":{"type":"number","minimum":0},"penumbra":{"type":"number","minimum":0}}},"hemisphere":{"type":"object","properties":{"groundColor":{"$ref":"#/definitions/colorRGB"}}}},"required":["type"],"not":{"required":["point","spot","hemisphere"]}},"colorRGB":{"$id":"#colorRGB","type":"array","items":{"type":"number","minimum":0,"maximum":1},"minItems":3,"maxItems":3,"default":[1,1,1]}},"type":"object","properties":{"asset":{"type":"object","properties":{"type":{"type":"string","const":"application/si-dpo-3d.document+json"},"version":{"description":"Version of this presentation description.","type":"string","minLength":1},"copyright":{"description":"A copyright message to credit the content creator.","type":"string","minLength":1},"generator":{"description":"Tool that generated this presentation description.","type":"string","minLength":1}},"required":["type","version"]},"scene":{"description":"Index of the root scene of the document.","type":"integer","minimum":0},"scenes":{"description":"An array of scenes.","type":"array","items":{"$ref":"#/definitions/scene"}},"nodes":{"description":"An array of nodes.","type":"array","items":{"$ref":"#/definitions/node"},"minItems":1},"metas":{"description":"An array of meta data components.","type":"array","items":{"$ref":"./meta.schema.json"}},"setups":{"description":"An array of setup components.","type":"array","items":{"$ref":"./setup.schema.json"},"minItems":1},"cameras":{"description":"An array of camera components.","type":"array","items":{"$ref":"#/definitions/camera"},"minItems":1},"lights":{"description":"An array of light components.","type":"array","items":{"$ref":"#/definitions/light"},"minItems":1},"models":{"description":"An array of model components.","type":"array","items":{"$ref":"./model.schema.json"},"minItems":1}},"required":["asset","scene","scenes"],"additionalProperties":false}')},function(e){e.exports=JSON.parse('{"$id":"https://schemas.3d.si.edu/voyager/common.schema.json","$schema":"http://json-schema.org/draft-07/schema#","title":"Math","description":"Definitions for mathematical compound objects such as vectors and matrices.","definitions":{"units":{"$id":"#units","type":"string","enum":["inherit","mm","cm","m","km","in","ft","yd","mi"]},"vector2":{"description":"2-component vector.","$id":"#vector2","type":"array","items":{"type":"number"},"minItems":2,"maxItems":2,"default":[0,0]},"vector3":{"description":"3-component vector.","$id":"#vector3","type":"array","items":{"type":"number"},"minItems":3,"maxItems":3,"default":[0,0,0]},"vector4":{"description":"4-component vector.","$id":"#vector4","type":"array","items":{"type":"number"},"minItems":4,"maxItems":4,"default":[0,0,0,0]},"matrix3":{"description":"3 by 3, matrix, storage: column-major.","$id":"#matrix3","type":"array","items":{"type":"number"},"minItems":9,"maxItems":9,"default":[1,0,0,0,1,0,0,0,1]},"matrix4":{"description":"4 by 4 matrix, storage: column-major.","$id":"#matrix4","type":"array","items":{"type":"number"},"minItems":16,"maxItems":16,"default":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},"boundingBox":{"description":"Axis-aligned 3D bounding box.","$id":"#boundingBox","type":"object","properties":{"min":{"$ref":"#/definitions/vector3"},"max":{"$ref":"#/definitions/vector3"}},"required":["min","max"]}}}')},function(e){e.exports=JSON.parse('{"$id":"https://schemas.3d.si.edu/voyager/meta.schema.json","$schema":"http://json-schema.org/draft-07/schema#","title":"Meta","description":"Meta data for a scene or model item.","definitions":{"image":{"$id":"image","description":"Reference to a preview image","type":"object","properties":{"uri":{"description":"Location of the image resource, absolute URL or path relative to this document","type":"string","minLength":1},"quality":{"type":"string","enum":["Thumb","Low","Medium","High"]},"byteSize":{"type":"integer","minimum":1},"width":{"type":"integer","minimum":1},"height":{"type":"integer","minimum":1}},"required":["uri","quality"]},"article":{"$id":"#article","description":"Reference to an external document (HTML)","type":"object","properties":{"id":{"type":"string","minLength":1},"title":{"description":"Short title.","type":"string"},"lead":{"description":"Short lead text.","type":"string"},"tags":{"description":"Array of tags, categorizing the article.","type":"array","items":{"type":"string"}},"uri":{"description":"Location of the article resource, absolute URL or path relative to this document","type":"string","minLength":1},"mimeType":{"description":"MIME type of the resource.","type":"string"},"thumbnailUri":{"description":"Location of a thumbnail/preview image of the resource.","type":"string"}},"required":["id","uri"],"additionalProperties":false}},"type":"object","properties":{"collection":{"description":"Information retrieved from the collection record for the item.","type":"object"},"process":{"description":"Information about how the item was processed.","type":"object"},"images":{"type":"array","items":{"$ref":"#/definitions/image"},"minLength":1},"articles":{"type":"array","items":{"$ref":"#/definitions/article"},"minLength":1},"leadArticle":{"description":"Index of the main article. This is the default article displayed with the item.","type":"integer","minimum":0}},"additionalProperties":false}')},function(e){e.exports=JSON.parse('{"$id":"https://schemas.3d.si.edu/voyager/model.schema.json","$schema":"http://json-schema.org/draft-07/schema#","title":"Model","description":"Describes the visual representations (models, derivatives) of a 3D item.","definitions":{"annotation":{"description":"Spatial annotation (hot spot, hot zone) on a model. Annotations can reference articles.","type":"object","properties":{"id":{"type":"string","minLength":1},"title":{"type":"string"},"lead":{"type":"string"},"marker":{"type":"string"},"tags":{"description":"Array of tags, categorizing the annotation.","type":"array","items":{"type":"string"}},"articleId":{"description":"Id of an article related to this annotation.","type":"string","minLength":1},"imageUri":{"description":"URI of an image resource for this annotation.","type":"string","minLength":1},"style":{"type":"string"},"visible":{"description":"Flag indicating whether the annotation is visible.","type":"boolean","default":true},"expanded":{"description":"Flag indicating whether the annotation is displayed in expanded state.","type":"boolean","default":false},"scale":{"description":"Scales the annotation relative to its default size.","type":"number","default":1},"offset":{"description":"Offsets the annotation along its direction.","type":"number","default":0},"tilt":{"description":"Tilt angle of the annotation relative to the direction vector in degrees.","type":"number","default":0},"azimuth":{"description":"Azimuth angle of a tilted annotation.","type":"number","default":0},"color":{"description":"Color of the annotation","type":"array","minLength":3,"maxLength":3,"items":{"type":"number"}},"position":{"description":"Position where the annotation is anchored, in local item coordinates.","$ref":"./common.schema.json#/definitions/vector3"},"direction":{"description":"Direction of the stem of this annotation, usually corresponds to the surface normal.","$ref":"./common.schema.json#/definitions/vector3"},"zoneIndex":{"description":"Index of the zone on the zone texture.","type":"integer","minimum":0}},"required":["id"],"additionalProperties":false},"derivative":{"description":"Visual representation derived from the master model.","type":"object","properties":{"usage":{"description":"usage categories for a derivative.","type":"string","enum":["Image2D","Web3D","Print3D","Editorial3D"]},"quality":{"type":"string","enum":["Thumb","Low","Medium","High","Highest","LOD","Stream"]},"assets":{"description":"List of individual resources this derivative is composed of.","type":"array","items":{"$ref":"#/definitions/asset"}}}},"asset":{"description":"an individual resource for a 3D model.","type":"object","properties":{"uri":{"type":"string","minLength":1},"type":{"type":"string","enum":["Model","Geometry","Image","Texture","Points","Volume"]},"part":{"type":"string","minLength":1},"mimeType":{"type":"string","minLength":1},"byteSize":{"type":"integer","minimum":1},"numFaces":{"type":"integer","minimum":1},"imageSize":{"type":"integer","minimum":1},"mapType":{"type":"string","enum":["Color","Normal","Occlusion","Emissive","MetallicRoughness","Zone"]}},"required":["uri","type"]},"material":{"description":"Surface properties for this model, shared by all derivatives.","type":"object","properties":{}}},"type":"object","properties":{"units":{"$ref":"./common.schema.json#/definitions/units"},"tags":{"type":"string"},"visible":{"type":"boolean"},"derivatives":{"type":"array","items":{"$ref":"#/definitions/derivative"}},"translation":{"description":"Translation vector. Must be applied to bring model into its \'neutral\' pose.","$ref":"./common.schema.json#/definitions/vector3"},"rotation":{"description":"Rotation quaternion. Must be applied to bring model into its \'neutral\' pose.","$ref":"./common.schema.json#/definitions/vector4"},"boundingBox":{"description":"Bounding box for this model, shared by all derivatives.","$ref":"./common.schema.json#/definitions/boundingBox"},"material":{"$ref":"#/definitions/material"},"annotations":{"description":"List of annotations to be displayed with the model","type":"array","items":{"$ref":"#/definitions/annotation"}}},"required":["units","derivatives"],"additionalProperties":false}')},function(e){e.exports=JSON.parse('{"$id":"https://schemas.3d.si.edu/voyager/setup.schema.json","$schema":"http://json-schema.org/draft-07/schema#","title":"Setup","description":"Tours and settings for explorer documents (background, interface, etc.)","definitions":{"viewer":{"type":"object","properties":{"shader":{"type":"string"},"exposure":{"type":"number"},"gamma":{"type":"number"},"annotationsVisible":{"type":"boolean"},"activeTags":{"type":"string"},"sortedTags":{"type":"string"},"radioTags":{"type":"boolean"}},"required":["shader","exposure","gamma"]},"reader":{"type":"object","properties":{"enabled":{"type":"boolean"},"position":{"type":"string"},"articleId":{"description":"Id of the article currently displayed in the reader.","type":"string","minLength":1}}},"interface":{"type":"object","properties":{"visible":{"type":"boolean"},"logo":{"type":"boolean"},"menu":{"type":"boolean"},"tools":{"type":"boolean"}}},"navigation":{"type":"object","properties":{"type":{"type":"string","enum":["Orbit","Walk"]},"enabled":{"type":"boolean"},"autoZoom":{"type":"boolean"},"orbit":{"$comment":"TODO: Implement","type":"object","properties":{}},"walk":{"$comment":"TODO: Implement","type":"object","properties":{}}}},"background":{"type":"object","properties":{"style":{"type":"string","enum":["Solid","LinearGradient","RadialGradient"]},"color0":{"$ref":"./common.schema.json#/definitions/vector3"},"color1":{"$ref":"./common.schema.json#/definitions/vector3"}}},"floor":{"type":"object","properties":{"visible":{"type":"boolean"},"position":{"$ref":"./common.schema.json#/definitions/vector3"},"size":{"type":"number"},"color":{"$ref":"./common.schema.json#/definitions/vector3"},"opacity":{"type":"number"},"receiveShadow":{"type":"boolean"}}},"grid":{"type":"object","properties":{"visible":{"type":"boolean"},"color":{"$ref":"./common.schema.json#/definitions/vector3"}}},"tape":{"type":"object","properties":{"enabled":{"type":"boolean"},"startPosition":{"$ref":"./common.schema.json#/definitions/vector3"},"startDirection":{"$ref":"./common.schema.json#/definitions/vector3"},"endPosition":{"$ref":"./common.schema.json#/definitions/vector3"},"endDirection":{"$ref":"./common.schema.json#/definitions/vector3"}}},"slicer":{"type":"object","properties":{"enabled":{"type":"boolean"},"axis":{"type":"string","enum":["X","Y","Z"]},"inverted":{"type":"boolean"},"position":{"type":"number"}}},"tours":{"description":"Animated tours.","type":"array","items":{"type":"object","properties":{"title":{"type":"string"},"lead":{"type":"string"},"tags":{"description":"Array of tags, categorizing the tour.","type":"array","items":{"type":"string"}},"steps":{"type":"array","items":{"type":"object","properties":{"title":{"type":"string"},"id":{"type":"string"}}}}}}},"snapshots":{"description":"Snapshots are animatable scene states.","type":"object","properties":{"features":{"type":"array","items":{"type":"string"}},"targets":{"type":"array","items":{"type":"string"}},"states":{"type":"array","items":{"type":"object"}}}}},"type":"object","properties":{"units":{"$ref":"./common.schema.json#/definitions/units"},"interface":{"$ref":"#/definitions/interface"},"viewer":{"$ref":"#/definitions/viewer"},"reader":{"$ref":"#/definitions/reader"},"navigation":{"$ref":"#/definitions/navigation"},"background":{"$ref":"#/definitions/background"},"floor":{"$ref":"#/definitions/floor"},"grid":{"$ref":"#/definitions/grid"},"tape":{"$ref":"#/definitions/tape"},"slicer":{"$ref":"#/definitions/slicer"},"tours":{"$ref":"#/definitions/tours"}}}')},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(3),i=s(1),r=s(49);t.EProjection=r.EProjection;const a=s(17),o=s(14),l=new n.Vector3,d=new n.Vector3,c=new n.Euler,u=new n.Quaternion;class h extends a.default{constructor(e,t){super(e,t),this.ins=this.addInputs(h.camIns),this.object3D=new r.default}get camera(){return this.object3D}update(){const{autoActivate:e,activate:t}=this.ins;if(t.changed||e.changed&&e.value){const e=this.scene;e&&(e.activeCameraComponent=this)}const s=this.camera,{position:n,rotation:i,projection:r,fov:a,size:o,zoom:l,near:d,far:c}=this.ins;return(n.changed||i.changed)&&(s.position.fromArray(n.value),s.rotation.fromArray(i.value),s.updateMatrix()),r.changed&&s.setProjection(r.getValidatedValue()),s.fov=a.value,s.size=o.value,s.zoom=l.value,s.near=d.value,s.far=c.value,s.updateProjectionMatrix(),!0}dispose(){const e=this.scene;e&&e.activeCameraComponent===this&&(e.activeCameraComponent=null),super.dispose()}setPropertiesFromMatrix(e){const t=!e;e=e||this.object3D.matrix;const{position:s,rotation:n,order:i}=this.ins;e.decompose(l,u,d),l.toArray(s.value);const r=i.getOptionText();c.setFromQuaternion(u,r),c.toVector3(l),l.multiplyScalar(o.default.RAD2DEG).toArray(n.value),s.set(t),n.set(t)}}t.default=h,h.typeName="CCamera",h.camIns={autoActivate:i.types.Boolean("Camera.AutoActivate",!0),activate:i.types.Event("Camera.Activate"),position:i.types.Vector3("Transform.Position"),rotation:i.types.Vector3("Transform.Rotation"),order:i.types.Enum("Transform.Order",a.ERotationOrder,a.ERotationOrder.ZYX),projection:i.types.Enum("Projection.Type",r.EProjection,r.EProjection.Perspective),fov:i.types.Number("Projection.FovY",52),size:i.types.Number("Projection.Size",20),zoom:i.types.Number("Projection.Zoom",1),near:i.types.Number("Frustum.ZNear",.01),far:i.types.Number("Frustum.ZFar",1e4)}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(21);t.CLight=n.default},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(3),i=s(1),r=s(21);class a extends r.default{constructor(e,t){super(e,t),this.ins=this.addInputs(a.dirLightIns),this.object3D=new n.DirectionalLight,this.light.target.matrixAutoUpdate=!1}get light(){return this.object3D}update(e){super.update(e);const t=this.light,s=this.ins;if((s.position.changed||s.target.changed)&&(t.position.fromArray(s.position.value),t.target.position.fromArray(s.target.value),t.updateMatrix(),t.target.updateMatrix()),s.shadowSize.changed){const e=t.shadow.camera,n=.5*s.shadowSize.value;e.left=e.bottom=-n,e.right=e.top=n,e.updateProjectionMatrix()}return!0}onAddToParent(e){super.onAddToParent(e),e.add(this.light.target)}onRemoveFromParent(e){super.onRemoveFromParent(e),e.remove(this.light.target)}}t.default=a,a.typeName="CDirectionalLight",a.dirLightIns={position:i.types.Vector3("Light.Position"),target:i.types.Vector3("Light.Target",[0,-1,0]),shadowSize:i.types.Number("Shadow.Size",100)}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(3),i=s(1),r=s(21);new n.Vector3;class a extends r.default{constructor(e,t){super(e,t),this.ins=this.addInputs(a.pointLightIns),this.object3D=new n.PointLight}get light(){return this.object3D}update(e){super.update(e);const t=this.light,s=this.ins;return s.position.changed&&(t.position.fromArray(s.position.value),t.updateMatrix()),(s.distance.changed||s.decay.changed)&&(t.distance=s.distance.value,t.decay=s.decay.value),t.updateMatrix(),!0}}t.default=a,a.typeName="CPointLight",a.pointLightIns={position:i.types.Vector3("Light.Position"),distance:i.types.Number("Light.Distance"),decay:i.types.Number("Light.Decay",1)}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(3),i=s(1),r=s(21);class a extends r.default{constructor(e,t){super(e,t),this.ins=this.addInputs(a.spotLightIns),this.object3D=new n.SpotLight,this.light.target.matrixAutoUpdate=!1}get light(){return this.object3D}update(e){super.update(e);const t=this.light,s=this.ins;return(s.position.changed||s.target.changed)&&(t.position.fromArray(s.position.value),t.target.position.fromArray(s.target.value),t.updateMatrix(),t.target.updateMatrix()),(s.distance.changed||s.decay.changed||s.angle.changed||s.penumbra.changed)&&(t.distance=s.distance.value,t.decay=s.decay.value,t.angle=s.angle.value*n.Math.DEG2RAD,t.penumbra=s.penumbra.value),!0}onAddToParent(e){super.onAddToParent(e),e.add(this.light.target)}onRemoveFromParent(e){super.onRemoveFromParent(e),e.remove(this.light.target)}}t.default=a,a.typeName="CSpotLight",a.spotLightIns={position:i.types.Vector3("Light.Position"),target:i.types.Vector3("Light.Target",[0,-1,0]),distance:i.types.Number("Light.Distance"),decay:i.types.Number("Light.Decay",1),angle:i.types.Number("Light.Angle",45),penumbra:i.types.Percent("Light.Penumbra",.5)}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(11);class i extends n.default{constructor(e){super(),this.addEvent("update"),this._list=e||[],this._dict={},e&&e.forEach(e=>{e.id&&(this._dict[e.id]=e)})}get length(){return this._list.length}get ids(){return Object.keys(this._dict)}get items(){return this._list}set items(e){this._list=e,this._dict={},e.forEach(e=>{e.id&&(this._dict[e.id]=e)}),this.emit({type:"update",item:null,what:"update"})}append(e){this._list.push(e),e.id&&(this._dict[e.id]=e),this.emit({type:"update",item:e,what:"add"})}insertBefore(e,t){const s=this._list.indexOf(t);s>=0&&this.insertAt(e,s)}insertAt(e,t){this._list.splice(t,0,e),e.id&&(this._dict[e.id]=e),this.emit({type:"update",item:e,what:"add"})}replaceItem(e,t){const s=this._list.indexOf(t);s>=0&&this.replaceAt(e,s)}replaceAt(e,t){const s=this._list[t];s.id&&delete this._dict[s.id],this._list[t]=e,e.id&&(this._dict[e.id]=e),this.emit({type:"update",item:e,what:"replace"})}moveItem(e,t){const s=this._list.indexOf(e);this.moveAt(s,t)}moveAt(e,t){const s=this._list;if(e+t<0||e+t>=s.length)return;const n=s[e];if(t>0){for(let n=0;n<t;++n)s[e+n]=s[e+n+1];s[e+t]=n}else{if(!(t<0))return;for(let n=0;n>t;--n)s[e+n]=s[e+n-1];s[e+t]=n}this.emit({type:"update",item:n,what:"move"})}removeById(e){const t=this._dict[e];return t&&this.removeItem(t),t}removeItem(e){const t=this._list.indexOf(e);return this.removeAt(t),t}removeAt(e){const t=this._list;if(e<0||e>=t.length)return;const s=t[e];return t.splice(e,1),s.id&&delete this._dict[s.id],this.emit({type:"update",item:s,what:"remove"}),s}getAt(e){return this._list[e]}getById(e){return this._dict[e]}getIndexOf(e){return this._list.indexOf(e)}copy(e){this.items=e.slice()}clone(){return this._list.slice()}}t.default=i,i.prototype[Symbol.iterator]=function(){return{index:0,list:this._list,next:function(){return this.index<this.list.length?{value:this.list[this.index++],done:!1}:{done:!0}}}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(11);class i extends n.default{constructor(e){super(),this.addEvent("update"),this._dict={},e&&e.forEach(e=>{e.id&&(this._dict[e.id]=e)})}get length(){return this.ids.length}get items(){return this.ids.map(e=>this._dict[e])}set items(e){e.forEach(e=>{e.id&&(this._dict[e.id]=e)}),this.emit({type:"update",item:null,what:"update"})}get ids(){return Object.keys(this._dict)}get dictionary(){return this._dict}set dictionary(e){this._dict=e,this.emit({type:"update",item:null,what:"update"})}insert(e,t){if(!(t=t||e.id))throw new Error("can't insert, missing id");if(void 0!==this._dict[t])throw new Error(`id already exists: '${t}'`);this._dict[t]=e,this.emit({type:"update",item:e,what:"insert"})}remove(e){const t="string"==typeof e?e:e.id,s=this._dict[t];void 0!==s&&(delete this._dict[t],this.emit({type:"update",item:s,what:"remove"}))}get(e){return this._dict[e]}getOrCreate(e,t){let s=this._dict[e];return s||(s=this._dict[e]=t,this.emit({type:"update",item:s,what:"insert"})),s}copy(e){this.dictionary=Object.assign({},e)}clone(){return Object.assign({},this._dict)}}t.default=i},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(67),i={mm:{mm:1,cm:.1,m:.001,km:1,in:.0393701,ft:.00328084,yd:.00109361,mi:1},cm:{mm:10,cm:1,m:.01,km:1,in:.393701,ft:.0328084,yd:.0109361,mi:1},m:{mm:1e3,cm:100,m:1,km:1,in:39.3701,ft:3.28084,yd:1.09361,mi:1},km:{mm:1e6,cm:1e5,m:1e3,km:1,in:39370.1,ft:3280.84,yd:1093.61,mi:1},in:{mm:25.4,cm:2.54,m:.0254,km:1,in:1,ft:.0833333,yd:.0277778,mi:1},ft:{mm:304.8,cm:30.48,m:.3048,km:1,in:12,ft:1,yd:.333334,mi:1},yd:{mm:914.4,cm:91.44,m:.9144,km:1,in:36,ft:3,yd:1,mi:1},mi:{mm:1609e3,cm:160900,m:1609,km:1,in:63346456.693,ft:5278871.391,yd:1759623.797,mi:1}};t.default=function(e,t){const s=n.EUnitType[e],r=n.EUnitType[t];return i[s][r]||1}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(140),i=s(141),r=[],a=[n.EDerivativeQuality.Thumb,n.EDerivativeQuality.Low,n.EDerivativeQuality.Medium,n.EDerivativeQuality.High,n.EDerivativeQuality.Highest];t.default=class{constructor(){this.derivatives={}}select(e,t){const s=n.EDerivativeUsage[e],i=n.EDerivativeQuality[t],r=a.indexOf(t);if(r<0)return console.warn(`derivative quality not supported: '${i}'`),null;const o=this.get(e,t);if(o)return o;for(let t=r+1;t<a.length;++t){const s=this.get(e,a[t]);if(s)return console.warn(`derivative quality '${i}' not available, using higher quality`),s}for(let t=r-1;t>=0;--t){const s=this.get(e,a[t]);if(s)return console.warn(`derivative quality '${i}' not available, using lower quality`),s}return console.warn(`no suitable derivative found for quality '${i}'`+` and usage '${s}'`),null}getByUsage(e){const t=n.EDerivativeUsage[e];return(this.derivatives[t]||r).sort((e,t)=>e.data.quality<t.data.quality?-1:e.data.quality>t.data.quality?1:0)}getArray(){return Object.keys(this.derivatives).reduce((e,t)=>e.concat(this.derivatives[t]),[])}get(e,t){const s=n.EDerivativeUsage[e],i=this.derivatives[s];if(i)for(let e=0,s=i.length;e<s;++e)if(i[e].data.quality===t)return i[e];return null}getOrCreate(e,t){const s=this.getOrCreateBin(e);for(let e=0,n=s.length;e<n;++e)if(s[e].data.quality===t)return s[e];const i=new n.default;return i.set("usage",e),i.set("quality",t),s.push(i),i}createModelAsset(e,t){t="string"==typeof t?n.EDerivativeQuality[t]:t,t=isFinite(t)?t:n.EDerivativeQuality.Medium;const s=this.getOrCreate(n.EDerivativeUsage.Web3D,t),r=new i.default;return r.setModel(e),s.addAsset(r),s}createMeshAsset(e,t,s,r,a){a="string"==typeof a?n.EDerivativeQuality[a]:a,a=isFinite(a)?a:n.EDerivativeQuality.Medium;const o=this.getOrCreate(n.EDerivativeUsage.Web3D,a),l=new i.default;if(l.setGeometry(e),o.addAsset(l),t){const e=new i.default;e.setTexture(t,i.EMapType.Color),o.addAsset(e)}if(s){const e=new i.default;e.setTexture(s,i.EMapType.Occlusion),o.addAsset(e)}if(r){const e=new i.default;e.setTexture(r,i.EMapType.Normal),o.addAsset(e)}return o}clear(){for(let e in this.derivatives)this.derivatives[e].forEach(e=>e.dispose());this.derivatives={}}toJSON(){const e=[];for(let t in this.derivatives)this.derivatives[t].forEach(t=>e.push(t.toJSON()));return e}fromJSON(e){this.clear(),e.forEach(e=>{this.getOrCreateBin(n.EDerivativeUsage[e.usage]).push(new n.default(e))})}toString(e=!1){const t=this.derivatives,s=Object.keys(t);return e?`Derivatives (${s.length}) \n `+s.map(e=>t[e].map(e=>e.toString(!0)).join("\n ")).join("\n "):`Derivatives (${s.length}) `+s.map(e=>`${e} (${t[e].length})`).join(", ")}getOrCreateBin(e){const t=n.EDerivativeUsage[e];return this.derivatives[t]||(this.derivatives[t]=[])}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(3),i=s(142);t.HTMLSprite=i.default;class r extends n.Object3D{constructor(){super(...arguments),this.isHTMLSpriteGroup=!0,this._visible=!0}get visible(){return this._visible}set visible(e){if(e!==this._visible){this._visible=e;const t=this.children;for(let s=0,n=t.length;s<n;++s)t[s].visible=e}}dispose(){const e=this.children;for(let t=0,s=e.length;t<s;++t)e[t].dispose()}disposeHTMLElements(e){const t=this.children;for(let s=0,n=t.length;s<n;++s)t[s].disposeHTMLElement(e)}render(e,t){if(!this.visible)return;const s=this.children;for(let n=0,i=s.length;n<i;++n){const i=s[n],r=i.getHTMLElement(e);r&&i.renderHTMLElement(r,e,t)}}update(){const e=this.children;for(let t=0,s=e.length;t<s;++t)e[t].update()}}t.default=r},function(e,t,s){"use strict";var n=this&&this.__decorate||function(e,t,s,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r<3?i(a):r>3?i(t,s,a):i(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};Object.defineProperty(t,"__esModule",{value:!0});const i=s(3),r=s(14),a=s(68),o=s(2);s(5);const l=s(98),d=s(51),c=["sv-q0","sv-q1","sv-q2","sv-q3"],u=new a.default,h=new i.Vector3(0,1,0);class p extends l.default{constructor(e){super(e),this.quadrant=-1;const t=new i.Geometry;t.vertices.push(new i.Vector3(0,0,0),new i.Vector3(0,1,0));const s=new i.LineBasicMaterial({color:"#009cde",transparent:!0});this.stemLine=new i.Line(t,s),this.stemLine.frustumCulled=!1,this.stemLine.matrixAutoUpdate=!1,this.add(this.stemLine),this.update()}update(){const e=this.annotation.data;this.stemLine.scale.setScalar(e.scale),this.stemLine.position.y=e.offset,this.stemLine.updateMatrix(),this.stemLine.material.color.fromArray(e.color),super.update()}renderHTMLElement(e,t,s){super.renderHTMLElement(e,t,s,this.stemLine,h);const n=r.default.scaleLimit(this.viewAngle*r.default.RAD2DEG,90,100,1,0),i=this.annotation.data.visible?n:0;this.stemLine.material.opacity=i,e.setOpacity(i),this.orientationQuadrant!==this.quadrant&&(e.classList.remove(c[this.quadrant]),e.classList.add(c[this.orientationQuadrant]),this.quadrant=this.orientationQuadrant)}createHTMLElement(){return new m(this)}}t.default=p,p.typeName="Standard",d.default.registerDefaultType(p);let m=class extends l.AnnotationElement{constructor(e){super(e),this.onClickTitle=this.onClickTitle.bind(this),this.titleElement=this.appendElement("div"),this.titleElement.classList.add("sv-title"),this.titleElement.addEventListener("click",this.onClickTitle)}firstConnected(){super.firstConnected(),this.classList.add("sv-standard-annotation")}update(e){super.update(e);const t=this.sprite.annotation.data;this.titleElement.innerText=t.title,u.fromArray(t.color),this.style.borderColor=u.toString()}onClickTitle(e){e.stopPropagation(),this.sprite.emitClickEvent()}};m=n([o.customElement("sv-standard-annotation")],m)},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(143);class i{constructor(e,t,s,n){this.x=e||0,this.y=t||0,this.z=s||0,this.w=n||0}static makeZeros(){return new i(0,0,0,0)}static makeOnes(){return new i(1,1,1,1)}static makeUnitX(){return new i(1,0,0,0)}static makeUnitY(){return new i(0,1,0,0)}static makeUnitZ(){return new i(0,0,1,0)}static makeUnitW(){return new i(0,0,0,1)}static makeCopy(e){return new i(e.x,e.y,e.z,e.w)}static makeFromScalar(e){return new i(e,e,e,e)}static makeFromArray(e){return new i(e[0],e[1],e[2],e[3])}static makeFromPosition(e){return new i(e.x,e.y,e.z,1)}static makeFromDirection(e){return new i(e.x,e.y,e.z,0)}static toString(e){return`[${e.x}, ${e.y}, ${e.z}, ${e.w}]`}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w,this}set(e,t,s,n){return this.x=e,this.y=t,this.z=s,this.w=void 0===n?1:n,this}setFromScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setFromArray(e,t=1){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}setPosition(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=1,this}setDirection(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=0,this}setZeros(){return this.x=0,this.y=0,this.z=0,this.w=0,this}setOnes(){return this.x=1,this.y=1,this.z=1,this.w=1,this}setUnitX(){return this.x=1,this.y=0,this.z=0,this.w=0,this}setUnitY(){return this.x=0,this.y=1,this.z=0,this.w=0,this}setUnitZ(){return this.x=0,this.y=0,this.z=1,this.w=0,this}setUnitW(){return this.x=0,this.y=0,this.z=0,this.w=1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}mul(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}div(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}normalize(){const e=1/Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}homogenize(){return this.x/=this.w,this.y/=this.w,this.z/=this.w,this.w=1,this}project(e){const t=this.dot(e)/this.lengthSquared();return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}length(){const e=this.x,t=this.y,s=this.z,n=this.w;return Math.sqrt(e*e+t*t+s*s+n*n)}lengthSquared(){const e=this.x,t=this.y,s=this.z,n=this.w;return e*e+t*t+s*s+n*n}isZero(){return 0===this.x&&0===this.y&&0===this.z&&0===this.w}clone(){return new i(this.x,this.y,this.z,this.w)}toArray(e,t){return e?(void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e):[this.x,this.y,this.z,this.w]}toVector3(e){return e?(e.x=this.x,e.y=this.y,e.z=this.z,e):new n.default(this.x,this.y,this.z)}toString(){return i.toString(this)}}t.default=i,i.zeros=new i(0,0,0,0),i.ones=new i(1,1,1,1),i.unitX=new i(1,0,0,0),i.unitY=new i(0,1,0,0),i.unitZ=new i(0,0,1,0),i.unitW=new i(0,0,0,1)},function(e,t,s){"use strict";var n=this&&this.__decorate||function(e,t,s,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r<3?i(a):r>3?i(t,s,a):i(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};Object.defineProperty(t,"__esModule",{value:!0});const i=s(3),r=s(14),a=s(68),o=s(2);s(5);const l=s(98),d=s(51),c=["sv-q0","sv-q1","sv-q2","sv-q3"],u=new a.default,h=new i.Vector3(0,1,0);class p extends l.default{constructor(e){super(e),this.quadrant=-1;const t=new i.Geometry;t.vertices.push(new i.Vector3(0,0,0),new i.Vector3(0,1,0));const s=new i.LineBasicMaterial({color:"#009cde",transparent:!0});this.stemLine=new i.Line(t,s),this.stemLine.frustumCulled=!1,this.stemLine.matrixAutoUpdate=!1,this.add(this.stemLine),this.update()}update(){const e=this.annotation.data;this.stemLine.scale.setScalar(e.scale),this.stemLine.position.y=e.offset,this.stemLine.updateMatrix(),this.stemLine.material.color.fromArray(e.color),super.update()}renderHTMLElement(e,t,s){super.renderHTMLElement(e,t,s,this.stemLine,h);const n=r.default.scaleLimit(this.viewAngle*r.default.RAD2DEG,90,100,1,0),i=this.annotation.data.visible?n:0;this.stemLine.material.opacity=i,e.setOpacity(i),this.orientationQuadrant!==this.quadrant&&(e.classList.remove(c[this.quadrant]),e.classList.add(c[this.orientationQuadrant]),this.quadrant=this.orientationQuadrant)}createHTMLElement(){return new m(this)}}t.default=p,p.typeName="Extended",d.default.registerType(p);let m=class extends l.AnnotationElement{constructor(e){super(e),this.handler=0,this.isExpanded=void 0,this.onClickTitle=this.onClickTitle.bind(this),this.onClickArticle=this.onClickArticle.bind(this),this.titleElement=this.appendElement("div"),this.titleElement.classList.add("sv-title"),this.titleElement.addEventListener("click",this.onClickTitle),this.wrapperElement=this.appendElement("div"),this.contentElement=this.createElement("div",null,this.wrapperElement),this.contentElement.classList.add("sv-content")}firstConnected(){super.firstConnected(),this.classList.add("sv-extended-annotation")}update(e){super.update(e);const t=this.sprite.annotation.data;this.titleElement.innerText=t.title;const s=o.html`<p>${t.lead}</p>
            ${t.articleId?o.html`<ff-button inline text="Read more..." icon="document" @click=${this.onClickArticle}></ff-button>`:null}`;o.render(s,this.contentElement),u.fromArray(t.color),this.style.borderColor=u.toString(),this.isExpanded!==t.expanded&&(this.isExpanded=t.expanded,window.clearTimeout(this.handler),this.isExpanded?(this.classList.add("sv-expanded"),this.contentElement.style.display="inherit",this.contentElement.style.height=this.contentElement.scrollHeight+"px"):(this.classList.remove("sv-expanded"),this.contentElement.style.height="0",this.handler=window.setTimeout(()=>this.contentElement.style.display="none",300)))}onClickTitle(e){e.stopPropagation(),this.sprite.emitClickEvent()}onClickArticle(e){e.stopPropagation(),this.sprite.emitLinkEvent(this.sprite.annotation.data.articleId)}};m=n([o.customElement("sv-extended-annotation")],m)},function(e,t,s){"use strict";var n=this&&this.__decorate||function(e,t,s,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r<3?i(a):r>3?i(t,s,a):i(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};Object.defineProperty(t,"__esModule",{value:!0});const i=s(3),r=s(404),a=s(416),o=s(2);s(5);const l=s(83),d=s(126),c=s(98),u=s(51),h=new d.default(new i.LoadingManager),p=new i.Vector3,m=new i.Vector3,f=new i.Quaternion,v=new i.Matrix4;class _ extends c.default{constructor(e){super(e),this.offset=new i.Group,this.offset.matrixAutoUpdate=!1,this.add(this.offset),this.ringGeometry=new i.RingBufferGeometry(.45,.5,32),this.ringMaterialA=new i.MeshBasicMaterial,this.ringMaterialB=new i.MeshBasicMaterial({depthFunc:i.GreaterDepth,depthWrite:!1,opacity:_.behindOpacity,transparent:!0}),this.ringMesh=new i.Mesh(this.ringGeometry,this.ringMaterialA);const t=new i.Mesh(this.ringGeometry,this.ringMaterialB),s=new i.Mesh(new i.CircleBufferGeometry(.45,32),new i.MeshBasicMaterial({color:0,opacity:.65,transparent:!0}));s.matrixAutoUpdate=!1,s.position.set(0,0,.005),s.updateMatrix(),this.anchorMesh=new i.Mesh(new i.BufferGeometry,new i.MeshBasicMaterial),this.anchorMesh.frustumCulled=!1,this.offset.add(this.anchorMesh,this.ringMesh,t,s),this.markerGeometry=null,this.markerA=null,this.markerB=null,h.load("fonts/Roboto-Bold").then(e=>{this.markerMaterialA=new i.RawShaderMaterial(a({map:e.texture,transparent:!0,color:16777215})),this.markerMaterialB=new i.RawShaderMaterial(a({map:e.texture,transparent:!0,opacity:_.behindOpacity,color:16777215,depthFunc:i.GreaterDepth,depthWrite:!1})),this.markerGeometry=r({font:e.descriptor}),this.markerA=new i.Mesh(this.markerGeometry,this.markerMaterialA),this.markerA.matrixAutoUpdate=!1,this.markerB=new i.Mesh(this.markerGeometry,this.markerMaterialB),this.markerB.matrixAutoUpdate=!1,l.default.add(this.markerA,!1),l.default.add(this.markerB,!1),this.offset.add(this.markerA,this.markerB),this.update()}),this.update()}update(){const e=this.annotation.data,t=e.color;if(this.ringMaterialA.color.setRGB(t[0],t[1],t[2]),this.ringMaterialB.color.setRGB(t[0],t[1],t[2]),this.markerA){const t=e.marker.length>1?.013:.016,s=this.markerGeometry;s.update(e.marker),s.computeBoundingBox(),s.boundingBox.getCenter(p),this.markerA.position.set(-t*(p.x+1),t*p.y,.01),this.markerA.scale.set(t,-t,-1),this.markerA.updateMatrix(),this.markerB.position.set(-t*(p.x+1),t*p.y,.01),this.markerB.scale.set(t,-t,-1),this.markerB.updateMatrix()}super.update()}renderHTMLElement(e,t,s){const n=this.annotation.data;v.copy(s.matrixWorldInverse),v.multiply(this.matrixWorld),v.decompose(p,f,m),this.offset.quaternion.copy(f.inverse());const r=t.offsetHeight+250,a=55*n.scale/r;let o=1;if(s.isPerspectiveCamera){const e=-p.set(0,0,0).applyMatrix4(v).z,t=s.fov*i.Math.DEG2RAD*.5;o=Math.tan(t)*e*a}else o=.5*s.size*a;if(this.offset.scale.setScalar(o),this.offset.position.set(0,(n.offset+1)*o*.5,0),this.offset.updateMatrix(),n.expanded){p.set(0,0,0).applyMatrix4(this.anchorMesh.modelViewMatrix).applyMatrix4(s.projectionMatrix),m.set(.6,.5,0).applyMatrix4(this.anchorMesh.modelViewMatrix).applyMatrix4(s.projectionMatrix);const n=.5*(p.x+1)*t.clientWidth,i=.5*(1-p.y)*t.clientHeight,r=.5*(m.x+1)*t.clientWidth-n,a=.5*(1-m.y)*t.clientHeight-i;let o=n+r,l=i+a;e.classList.remove("sv-align-right","sv-align-bottom"),o+e.offsetWidth>=t.offsetWidth&&(o=n-r,e.classList.add("sv-align-right")),l+e.offsetHeight>=t.offsetHeight&&(l=i-a,e.classList.add("sv-align-bottom")),e.setPosition(o,l)}}createHTMLElement(){return new y(this)}updateHTMLElement(e){e.setVisible(this.visible),e.requestUpdate()}}t.default=_,_.typeName="Circle",_.behindOpacity=.2,u.default.registerType(_);let y=class extends c.AnnotationElement{constructor(e){super(e)}setVisible(e){super.setVisible(e&&this.sprite.annotation.data.expanded)}firstConnected(){super.firstConnected(),this.classList.add("sv-circle-annotation")}render(){const e=this.sprite.annotation.data;return o.html`<div class="sv-title">${e.title}</div>
            <p>${e.lead}</p>
            ${e.articleId?o.html`<ff-button inline text="Read more..." icon="document" @click=${this.onClickArticle}></ff-button>`:null}`}onClickArticle(e){e.stopPropagation(),this.sprite.emitLinkEvent(this.sprite.annotation.data.articleId)}};y=n([o.customElement("sv-circle-annotation")],y)},function(e,t,s){var n=s(405),i=s(37),r=s(409),a=s(412),o=s(146),l=s(414),d=s(415),c=THREE.BufferGeometry;function u(e){c.call(this),"string"==typeof e&&(e={text:e}),this._opt=o({},e),e&&this.update(e)}e.exports=function(e){return new u(e)},i(u,c),u.prototype.update=function(e){if("string"==typeof e&&(e={text:e}),!(e=o({},this._opt,e)).font)throw new TypeError("must specify a { font } in options");this.layout=n(e);var t=!1!==e.flipY,s=e.font,i=s.common.scaleW,d=s.common.scaleH,c=this.layout.glyphs.filter((function(e){var t=e.data;return t.width*t.height>0}));this.visibleGlyphs=c;var u=l.positions(c),h=l.uvs(c,i,d,t),p=r({clockwise:!0,type:"uint16",count:c.length});if(a.index(this,p,1,"uint16"),a.attr(this,"position",u,2),a.attr(this,"uv",h,2),!e.multipage&&"page"in this.attributes)this.removeAttribute("page");else if(e.multipage){var m=l.pages(c);a.attr(this,"page",m,1)}},u.prototype.computeBoundingSphere=function(){null===this.boundingSphere&&(this.boundingSphere=new THREE.Sphere);var e=this.attributes.position.array,t=this.attributes.position.itemSize;if(!e||!t||e.length<2)return this.boundingSphere.radius=0,void this.boundingSphere.center.set(0,0,0);d.computeSphere(e,this.boundingSphere),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.')},u.prototype.computeBoundingBox=function(){null===this.boundingBox&&(this.boundingBox=new THREE.Box3);var e=this.boundingBox,t=this.attributes.position.array,s=this.attributes.position.itemSize;!t||!s||t.length<2?e.makeEmpty():d.computeBox(t,e)}},function(e,t,s){var n=s(406),i=s(407),r=s(408),a=["x","e","a","o","n","s","r","c","u","m","v","w","z"],o=["m","w"],l=["H","I","N","E","F","K","L","T","U","V","W","X","Y","Z"],d="\t".charCodeAt(0),c=" ".charCodeAt(0),u=0,h=1,p=2;function m(e){this.glyphs=[],this._measure=this.computeMetrics.bind(this),this.update(e)}function f(e){return new Function(["return function "+e+"() {","  return this._"+e,"}"].join("\n"))()}function v(e,t){if(!e.chars||0===e.chars.length)return null;var s=y(e.chars,t);return s>=0?e.chars[s]:null}function _(e,t,s){if(!e.kernings||0===e.kernings.length)return 0;for(var n=e.kernings,i=0;i<n.length;i++){var r=n[i];if(r.first===t&&r.second===s)return r.amount}return 0}function y(e,t,s){for(var n=s=s||0;n<e.length;n++)if(e[n].id===t)return n;return-1}e.exports=function(e){return new m(e)},m.prototype.update=function(e){if(e=i({measure:this._measure},e),this._opt=e,this._opt.tabSize=r(this._opt.tabSize,4),!e.font)throw new Error("must provide a valid bitmap font");var t=this.glyphs,s=e.text||"",o=e.font;this._setupSpaceGlyphs(o);var d=n.lines(s,e),c=e.width||0;t.length=0;var m=d.reduce((function(e,t){return Math.max(e,t.width,c)}),0),f=0,v=0,g=r(e.lineHeight,o.common.lineHeight),b=o.common.base,M=g-b,w=e.letterSpacing||0,L=g*d.length-M,x=function(e){if("center"===e)return h;if("right"===e)return p;return u}(this._opt.align);v-=L,this._width=m,this._height=L,this._descender=g-b,this._baseline=b,this._xHeight=function(e){for(var t=0;t<a.length;t++){var s=a[t].charCodeAt(0),n=y(e.chars,s);if(n>=0)return e.chars[n].height}return 0}(o),this._capHeight=function(e){for(var t=0;t<l.length;t++){var s=l[t].charCodeAt(0),n=y(e.chars,s);if(n>=0)return e.chars[n].height}return 0}(o),this._lineHeight=g,this._ascender=g-M-this._xHeight;var T=this;d.forEach((function(e,n){for(var i,r=e.start,a=e.end,l=e.width,d=r;d<a;d++){var c=s.charCodeAt(d),u=T.getGlyph(o,c);if(u){i&&(f+=_(o,i.id,u.id));var y=f;x===h?y+=(m-l)/2:x===p&&(y+=m-l),t.push({position:[y,v],data:u,index:d,line:n}),f+=u.xadvance+w,i=u}}v+=g,f=0})),this._linesTotal=d.length},m.prototype._setupSpaceGlyphs=function(e){if(this._fallbackSpaceGlyph=null,this._fallbackTabGlyph=null,e.chars&&0!==e.chars.length){var t=v(e,c)||function(e){for(var t=0;t<o.length;t++){var s=o[t].charCodeAt(0),n=y(e.chars,s);if(n>=0)return e.chars[n]}return 0}(e)||e.chars[0],s=this._opt.tabSize*t.xadvance;this._fallbackSpaceGlyph=t,this._fallbackTabGlyph=i(t,{x:0,y:0,xadvance:s,id:d,xoffset:0,yoffset:0,width:0,height:0})}},m.prototype.getGlyph=function(e,t){var s=v(e,t);return s||(t===d?this._fallbackTabGlyph:t===c?this._fallbackSpaceGlyph:null)},m.prototype.computeMetrics=function(e,t,s,n){var i,r=this._opt.letterSpacing||0,a=this._opt.font,o=0,l=0,d=0;if(!a.chars||0===a.chars.length)return{start:t,end:t,width:0};s=Math.min(e.length,s);for(var c=t;c<s;c++){var u,h=e.charCodeAt(c);if(u=this.getGlyph(a,h)){u.xoffset;var p=(o+=i?_(a,i.id,u.id):0)+u.xadvance+r,m=o+u.width;if(m>=n||p>=n)break;o=p,l=m,i=u}d++}return i&&(l+=i.xoffset),{start:t,end:t+d,width:l}},["width","height","descender","ascender","xHeight","baseline","capHeight","lineHeight"].forEach((function(e){Object.defineProperty(m.prototype,e,{get:f(e),configurable:!0})}))},function(e,t){var s=/\n/,n="\n",i=/\s/;function r(e,t,s,n){var i=e.indexOf(t,s);return-1===i||i>n?n:i}function a(e){return i.test(e)}function o(e,t,s,n){return{start:t,end:t+Math.min(n,s-t)}}e.exports=function(t,s){return e.exports.lines(t,s).map((function(e){return t.substring(e.start,e.end)})).join("\n")},e.exports.lines=function(e,t){if(0===(t=t||{}).width&&"nowrap"!==t.mode)return[];e=e||"";var i="number"==typeof t.width?t.width:Number.MAX_VALUE,l=Math.max(0,t.start||0),d="number"==typeof t.end?t.end:e.length,c=t.mode,u=t.measure||o;return"pre"===c?function(e,t,n,i,r){for(var a=[],o=n,l=n;l<i&&l<t.length;l++){var d=t.charAt(l),c=s.test(d);if(c||l===i-1){var u=e(t,o,c?l:l+1,r);a.push(u),o=l+1}}return a}(u,e,l,d,i):function(e,t,s,i,o,l){var d=[],c=o;"nowrap"===l&&(c=Number.MAX_VALUE);for(;s<i&&s<t.length;){for(var u=r(t,n,s,i);s<u&&a(t.charAt(s));)s++;var h=e(t,s,u,c),p=s+(h.end-h.start),m=p+n.length;if(p<u){for(;p>s&&!a(t.charAt(p));)p--;if(p===s)m>s+n.length&&m--,p=m;else for(m=p;p>s&&a(t.charAt(p-n.length));)p--}if(p>=s){var f=e(t,s,p,c);d.push(f)}s=m}return d}(u,e,l,d,i,c)}},function(e,t){e.exports=function(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var i in n)s.call(n,i)&&(e[i]=n[i])}return e};var s=Object.prototype.hasOwnProperty},function(e,t){e.exports=function(e,t){return"number"==typeof e?e:"number"==typeof t?t:0}},function(e,t,s){var n=s(145),i=s(410),r=s(411),a=[0,2,3],o=[2,1,3];e.exports=function(e,t){e&&(i(e)||r(e))||(t=e||{},e=null);for(var s="string"==typeof(t="number"==typeof t?{count:t}:t||{}).type?t.type:"uint16",l="number"==typeof t.count?t.count:1,d=t.start||0,c=!1!==t.clockwise?a:o,u=c[0],h=c[1],p=c[2],m=6*l,f=e||new(n(s))(m),v=0,_=0;v<m;v+=6,_+=4){var y=v+d;f[y+0]=_+0,f[y+1]=_+1,f[y+2]=_+2,f[y+3]=_+u,f[y+4]=_+h,f[y+5]=_+p}return f}},function(e,t){var s=Object.prototype.toString;e.exports=function(e){return e.BYTES_PER_ELEMENT&&"[object ArrayBuffer]"===s.call(e.buffer)||Array.isArray(e)}},function(e,t){function s(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(s(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&s(e.slice(0,0))}(e)||!!e._isBuffer)}},function(e,t,s){var n=s(413),i=!1;function r(e,t,s,r){if(t=t||[],!e||function(e,t,s){if(e.itemSize!==s)return!0;if(!e.array)return!0;var n=e.array.length;return Array.isArray(t)&&Array.isArray(t[0])?n!==t.length*s:n!==t.length}(e,t,s)){t=n(t,r);var a=e&&"function"!=typeof e.setArray;return e&&!a||(a&&!i&&(i=!0,console.warn(["A WebGL buffer is being updated with a new size or itemSize, ","however this version of ThreeJS only supports fixed-size buffers.","\nThe old buffer may still be kept in memory.\n","To avoid memory leaks, it is recommended that you dispose ","your geometries and create new ones, or update to ThreeJS r82 or newer.\n","See here for discussion:\n","https://github.com/mrdoob/three.js/pull/9631"].join(""))),e=new THREE.BufferAttribute(t,s)),e.itemSize=s,e.needsUpdate=!0,"function"==typeof e.setArray&&e.setArray(t),e}return n(t,e.array),e.needsUpdate=!0,null}e.exports.attr=function(e,t,s,n,i){"number"!=typeof n&&(n=3);"string"!=typeof i&&(i="float32");if(Array.isArray(s)&&Array.isArray(s[0])&&s[0].length!==n)throw new Error("Nested vertex array has unexpected size; expected "+n+" but found "+s[0].length);var a=r(e.getAttribute(t),s,n,i);a&&e.addAttribute(t,a)},e.exports.index=function(e,t,s,n){"number"!=typeof s&&(s=1);"string"!=typeof n&&(n="uint16");var i=!e.index&&"function"!=typeof e.setIndex,a=r(i?e.getAttribute("index"):e.index,t,s,n);a&&(i?e.addAttribute("index",a):e.index=a)}},function(e,t,s){var n=s(145);e.exports=function(e,t,s){if(!e)throw new TypeError("must specify data as first parameter");if(s=0|+(s||0),Array.isArray(e)&&e[0]&&"number"==typeof e[0][0]){var i,r,a,o,l=e[0].length,d=e.length*l;t&&"string"!=typeof t||(t=new(n(t||"float32"))(d+s));var c=t.length-s;if(d!==c)throw new Error("source length "+d+" ("+l+"x"+e.length+") does not match destination length "+c);for(i=0,a=s;i<e.length;i++)for(r=0;r<l;r++)t[a++]=null===e[i][r]?NaN:e[i][r]}else if(t&&"string"!=typeof t)t.set(e,s);else{var u=n(t||"float32");if(Array.isArray(e)||"array"===t)for(t=new u(e.length+s),i=0,a=s,o=t.length;a<o;a++,i++)t[a]=null===e[i]?NaN:e[i];else 0===s?t=new u(e):(t=new u(e.length+s)).set(e,s)}return t}},function(e,t){e.exports.pages=function(e){var t=new Float32Array(4*e.length*1),s=0;return e.forEach((function(e){var n=e.data.page||0;t[s++]=n,t[s++]=n,t[s++]=n,t[s++]=n})),t},e.exports.uvs=function(e,t,s,n){var i=new Float32Array(4*e.length*2),r=0;return e.forEach((function(e){var a=e.data,o=a.x+a.width,l=a.y+a.height,d=a.x/t,c=a.y/s,u=o/t,h=l/s;n&&(c=(s-a.y)/s,h=(s-l)/s),i[r++]=d,i[r++]=c,i[r++]=d,i[r++]=h,i[r++]=u,i[r++]=h,i[r++]=u,i[r++]=c})),i},e.exports.positions=function(e){var t=new Float32Array(4*e.length*2),s=0;return e.forEach((function(e){var n=e.data,i=e.position[0]+n.xoffset,r=e.position[1]+n.yoffset,a=n.width,o=n.height;t[s++]=i,t[s++]=r,t[s++]=i,t[s++]=r+o,t[s++]=i+a,t[s++]=r+o,t[s++]=i+a,t[s++]=r})),t}},function(e,t){var s=2,n={min:[0,0],max:[0,0]};function i(e){var t=e.length/s;n.min[0]=e[0],n.min[1]=e[1],n.max[0]=e[0],n.max[1]=e[1];for(var i=0;i<t;i++){var r=e[i*s+0],a=e[i*s+1];n.min[0]=Math.min(r,n.min[0]),n.min[1]=Math.min(a,n.min[1]),n.max[0]=Math.max(r,n.max[0]),n.max[1]=Math.max(a,n.max[1])}}e.exports.computeBox=function(e,t){i(e),t.min.set(n.min[0],n.min[1],0),t.max.set(n.max[0],n.max[1],0)},e.exports.computeSphere=function(e,t){i(e);var s=n.min[0],r=n.min[1],a=n.max[0]-s,o=n.max[1]-r,l=Math.sqrt(a*a+o*o);t.center.set(s+a/2,r+o/2,0),t.radius=l/2}},function(e,t,s){var n=s(146);e.exports=function(e){var t="number"==typeof(e=e||{}).opacity?e.opacity:1,s="number"==typeof e.alphaTest?e.alphaTest:1e-4,i=e.precision||"highp",r=e.color,a=e.map,o="boolean"!=typeof e.negate||e.negate;return delete e.map,delete e.color,delete e.precision,delete e.opacity,delete e.negate,n({uniforms:{opacity:{type:"f",value:t},map:{type:"t",value:a||new THREE.Texture},color:{type:"c",value:new THREE.Color(r)}},vertexShader:["attribute vec2 uv;","attribute vec4 position;","uniform mat4 projectionMatrix;","uniform mat4 modelViewMatrix;","varying vec2 vUv;","void main() {","vUv = uv;","gl_Position = projectionMatrix * modelViewMatrix * position;","}"].join("\n"),fragmentShader:["#ifdef GL_OES_standard_derivatives","#extension GL_OES_standard_derivatives : enable","#endif","precision "+i+" float;","uniform float opacity;","uniform vec3 color;","uniform sampler2D map;","varying vec2 vUv;","float median(float r, float g, float b) {","  return max(min(r, g), min(max(r, g), b));","}","void main() {","  vec3 sample = "+(o?"1.0 - ":"")+"texture2D(map, vUv).rgb;","  float sigDist = median(sample.r, sample.g, sample.b) - 0.5;","  float alpha = clamp(sigDist/fwidth(sigDist) + 0.5, 0.0, 1.0);","  gl_FragColor = vec4(color.xyz, alpha * opacity);",0===s?"":"  if (gl_FragColor.a < "+s+") discard;","}"].join("\n")},e)}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(3),i=s(14),r=new n.Vector4,a=(new n.Vector4,new n.Vector3),o=new n.Vector3,l=new n.Matrix4,d=new n.Euler,c=new n.Quaternion,u={PI:3.141592653589793,DOUBLE_PI:6.283185307179586,HALF_PI:1.5707963267948966,QUARTER_PI:.7853981633974483,DEG2RAD:.017453292519943295,RAD2DEG:57.29577951308232,composeOrbitMatrix:function(e,t,s){const i=e.x,r=e.y,a=e.z,o=t.x,l=t.y,d=t.z,c=Math.sin(i),u=Math.cos(i),h=Math.sin(r),p=Math.cos(r),m=Math.sin(a),f=Math.cos(a),v=p*f,_=f*h*c-m*u,y=f*h*u+m*c,g=p*m,b=c*h*m+f*u,M=m*h*u-f*c,w=-h,L=p*c,x=p*u,T=(s=s||new n.Matrix4).elements;return T[0]=v,T[1]=g,T[2]=w,T[3]=0,T[4]=_,T[5]=b,T[6]=L,T[7]=0,T[8]=y,T[9]=M,T[10]=x,T[11]=0,T[12]=o*v+l*_+d*y,T[13]=o*g+l*b+d*M,T[14]=o*w+l*L+d*x,T[15]=1,s},decomposeOrbitMatrix:function(e,t,s){d.setFromRotationMatrix(e,"ZYX"),d.toVector3(t),l.getInverse(e),r.set(0,0,0,1),r.applyMatrix4(l),s.x=-r.x,s.y=-r.y,s.z=-r.z},isMatrix4Identity:function(e){const t=e.elements;return 1===t[0]&&0===t[1]&&0===t[2]&&0===t[3]&&0===t[4]&&1===t[5]&&0===t[6]&&0===t[7]&&0===t[8]&&0===t[9]&&1===t[10]&&0===t[11]&&0===t[12]&&0===t[13]&&0===t[14]&&1===t[15]},decomposeTransformMatrix:function(e,t,s,n){l.fromArray(e),l.decompose(a,c,o),d.setFromQuaternion(c,"XYZ"),a.toArray(t),o.toArray(n),d.toVector3(a),r.multiplyScalar(i.default.RAD2DEG),a.toArray(s)}};t.default=u},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(3);var i;!function(e){e[e.Solid=0]="Solid",e[e.LinearGradient=1]="LinearGradient",e[e.RadialGradient=2]="RadialGradient"}(i=t.EBackgroundStyle||(t.EBackgroundStyle={}));class r extends n.Mesh{constructor(){super(new a,new o),this.frustumCulled=!1,this.renderOrder=-1/0,this.matrixAutoUpdate=!1}dispose(){this.geometry.dispose(),this.material.dispose()}updateMatrixWorld(e){}}t.default=r;class a extends n.BufferGeometry{constructor(){super();const e=new Float32Array([-1,-1,0,0,0,1,-1,0,1,0,1,1,0,1,1,-1,1,0,0,1]),t=new n.InterleavedBuffer(e,5);this.setIndex([0,1,2,0,2,3]),this.addAttribute("position",new n.InterleavedBufferAttribute(t,3,0,!1)),this.addAttribute("uv",new n.InterleavedBufferAttribute(t,2,3,!1))}}t.BackgroundGeometry=a;class o extends n.RawShaderMaterial{constructor(){super(...arguments),this.depthTest=!1,this.depthWrite=!1,this.transparent=!1,this.uniforms={style:{value:i.LinearGradient},color0:{value:new n.Vector3(.15,.2,.25)},color1:{value:new n.Vector3(0,0,0)},noise:{value:.02}},this.vertexShader=["precision highp float;","attribute vec3 position;","attribute vec2 uv;","varying vec2 ndc;","void main() {","  ndc = position.xy;","  gl_Position = vec4(position, 1.0);","}"].join("\n"),this.fragmentShader=["precision highp float;","uniform vec3 color0;","uniform vec3 color1;","uniform float noise;","uniform int style;","varying vec2 ndc;","float rand(vec2 co) {","float dt = dot(co.xy ,vec2(12.9898, 78.233));","float sn = mod(dt, 3.14);","return fract(sin(sn) * 43758.5453);","}","void main() {","  float f = style == 0 ? 0.0 : (style == 1 ? ndc.y * 0.5 + 0.5 : length(ndc) * 0.707);","  gl_FragColor = vec4(mix(color0, color1, f) + noise * rand(ndc), 1.0);","}"].join("\n")}set style(e){this.uniforms.style.value=e}get style(){return this.uniforms.style.value}set color0(e){if(e instanceof n.Color){const t=this.uniforms.color0.value;t.x=e.r,t.y=e.g,t.z=e.b}else this.uniforms.color0.value.copy(e)}get color0(){return this.uniforms.color0.value}set color1(e){if(e instanceof n.Color){const t=this.uniforms.color1.value;t.x=e.r,t.y=e.g,t.z=e.b}else this.uniforms.color1.value.copy(e)}get color1(){return this.uniforms.color1.value}set noise(e){this.uniforms.noise.value=e}get noise(){return this.uniforms.noise.value}}t.BackgroundMaterial=o},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(17),i=s(420);class r extends n.default{constructor(e,t){super(e,t),this.ins=this.addInputs(r.floorIns),this.object3D=new i.default}get floor(){return this.object3D}update(e){super.update(e);const t=this.ins,s=this.floor;return(t.position.changed||t.radius.changed)&&(s.position.fromArray(t.position.value),s.scale.setScalar(t.radius.value),s.updateMatrix()),t.color.changed&&s.material.color.fromArray(t.color.value),t.opacity.changed&&(s.material.opacity=t.opacity.value),!0}dispose(){this.floor.dispose(),super.dispose()}}t.default=r,r.typeName="CFloor",r.floorIns={position:n.types.Vector3("Floor.Position",[0,-25,0]),radius:n.types.Number("Floor.Radius",50),color:n.types.ColorRGB("Floor.Color",[.6,.75,.8]),opacity:n.types.Percent("Floor.Opacity",.5),castShadow:n.types.Boolean("Shadow.Cast"),receiveShadow:n.types.Boolean("Shadow.Receive")}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(3),i=s(421).default,r=s(422).default;class a extends n.Mesh{constructor(){super(new n.PlaneBufferGeometry(2,2,1,1),new o),this.geometry.rotateX(-90*n.Math.DEG2RAD),this.receiveShadow=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}t.default=a;class o extends n.MeshPhongMaterial{constructor(e){super(e),this.defines={},this.type="FloorMaterial",this.isMeshPhongMaterial=!0,this.isFloorMaterial=!0,this.defines={},this.uniforms=n.UniformsUtils.merge([n.ShaderLib.phong.uniforms]),this.vertexShader=r,this.fragmentShader=i,this.transparent=!0,this.shininess=0}}t.FloorMaterial=o},function(e,t,s){"use strict";s.r(t),t.default="\n#define PHONG\n\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n\n// #include <uv_pars_fragment>\n// replaced with\nvarying vec2 vUv;\n\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\n\nvoid main() {\n\n\t#include <clipping_planes_fragment>\n\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\n\t// accumulation\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\n\t// modulation\n\t#include <aomap_fragment>\n\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\n\t#include <envmap_fragment>\n\n    vec2 coords = vUv * 2.0 - 1.0;\n    float f = dot(coords, coords);\n\tgl_FragColor = vec4(outgoingLight, mix(diffuseColor.a, 0.0, f));\n\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n\n"},function(e,t,s){"use strict";s.r(t),t.default="\n#define PHONG\n\nvarying vec3 vViewPosition;\n\n#ifndef FLAT_SHADED\n\n\tvarying vec3 vNormal;\n\n#endif\n\n#include <common>\n\n// #include <uv_pars_vertex>\n// replaced with\nvarying vec2 vUv;\nuniform mat3 uvTransform;\n\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\nvoid main() {\n\n\t// #include <uv_vertex>\n\t// replaced with\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\n#ifndef FLAT_SHADED // Normal computed with derivatives when FLAT_SHADED\n\n\tvNormal = normalize( transformedNormal );\n\n#endif\n\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\n\tvViewPosition = - mvPosition.xyz;\n\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n\n}\n\n"},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(3);class i extends n.LineSegments{constructor(e){super(i.generate(e),new n.LineBasicMaterial({vertexColors:n.VertexColors}))}set opacity(e){this.material.opacity=e,this.material.transparent=e<1}update(e){this.geometry&&this.geometry.dispose(),this.geometry=i.generate(e)}static generate(e){const t=new n.Color(e.mainColor),s=new n.Color(e.subColor),i=e.mainDivisions*e.subDivisions,r=e.size/i,a=.5*e.size,o=[],l=[];for(let n=0,d=0,c=-a;n<=i;++n,c+=r){o.push(-a,0,c,a,0,c),o.push(c,0,-a,c,0,a);const i=n%e.subDivisions==0?t:s;i.toArray(l,d),d+=3,i.toArray(l,d),d+=3,i.toArray(l,d),d+=3,i.toArray(l,d),d+=3}const d=new n.BufferGeometry;return d.addAttribute("position",new n.Float32BufferAttribute(o,3)),d.addAttribute("color",new n.Float32BufferAttribute(l,3)),d}}t.default=i},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(3);class i extends n.Group{constructor(){super();const e=new n.MeshStandardMaterial({color:"white",metalness:1});e.transparent=!0;const t=new n.Mesh(this.createLatheGeometry([0,0,.25,.4,.4,10]),e),s=new n.MeshStandardMaterial({color:"#ffcd00",roughness:.8,metalness:.1});s.transparent=!0;const i=new n.Mesh(this.createLatheGeometry([0,10,3.4,10,3.5,10.1,3.5,11,3.45,11.1,2.05,12.5,2,12.6,2,17.4,2.05,17.5,3.45,18.9,3.5,19,3.5,19.9,3.4,20,0,20]),s);t.matrixAutoUpdate=!1,this.add(t),i.matrixAutoUpdate=!1,this.add(i)}dispose(){}createLatheGeometry(e){const t=[];for(let s=0,i=e.length;s<i;s+=2)t.push(new n.Vector2(e[s],e[s+1]));return new n.LatheBufferGeometry(t,16)}}t.default=i},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(1),i=s(18);class r extends n.default{constructor(){super(...arguments),this.ins=this.addInputs(r.ins)}get model(){return this.getComponent(i.default)}update(e){return!0}}t.default=r,r.typeName="CVAnnotations",r.ins={}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(52),i=s(53),r=s(159),a=s(160),o=s(161),l=s(162),d=s(167),c=s(168),u=s(169),h=[n.default,i.default,r.default,a.default,o.default,l.default,d.default,c.default,u.default];t.default=h},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(1),i=s(19);class r extends n.default{constructor(){super(...arguments),this.activeDocument=null}get documentProvider(){return this.getGraphComponent(i.default)}startObserving(){const e=this.documentProvider;e.on("active-component",this.onActiveDocumentEvent,this),e.activeComponent&&(this.activeDocument=e.activeComponent,this.onActiveDocument(null,e.activeComponent))}stopObserving(){const e=this.documentProvider;e.off("active-component",this.onActiveDocumentEvent,this),e.activeComponent&&(this.activeDocument=null,this.onActiveDocument(e.activeComponent,null))}onActiveDocument(e,t){}onActiveDocumentEvent(e){this.activeDocument=e.next,this.onActiveDocument(e.previous,e.next)}}t.default=r,r.typeName="CVDocumentObserver"},function(e,t,s){"use strict";var n=this&&this.__decorate||function(e,t,s,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r<3?i(a):r>3?i(t,s,a):i(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};Object.defineProperty(t,"__esModule",{value:!0});const i=s(2);s(5);let r=class extends i.default{constructor(){super(...arguments),this.property=null,this.name="",this.text="",this.icon=""}firstConnected(){this.classList.add("sv-property-view","sv-property-event")}update(e){if(!this.property)throw new Error("missing property attribute");if(!this.property.schema.event)throw new Error(`not an event property: '${this.property.path}'`);if(e.has("property")){const t=e.get("property");t&&t.off("value",this.onUpdate,this),this.property&&this.property.on("value",this.onUpdate,this)}super.update(e)}render(){const e=this.property,t=this.name||e.name,s=this.text,n=this.icon;return i.html`<label class="ff-label ff-off">${t}</label>
            <div class="sv-options">
                <ff-button .text=${s} .icon=${n} @click=${this.onButtonClick}></ff-button>
            </div>`}onButtonClick(e){this.property.set()}};n([i.property({attribute:!1})],r.prototype,"property",void 0),n([i.property({type:String})],r.prototype,"name",void 0),n([i.property({type:String})],r.prototype,"text",void 0),n([i.property({type:String})],r.prototype,"icon",void 0),r=n([i.customElement("sv-property-event")],r),t.default=r},function(e,t,s){"use strict";var n=this&&this.__decorate||function(e,t,s,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r<3?i(a):r>3?i(t,s,a):i(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};Object.defineProperty(t,"__esModule",{value:!0});const i=s(68),r=s(2);s(5),s(166);let a=class extends r.default{constructor(){super(),this.property=null,this.name="",this.color=new i.default,this.pickerActive=!1,this.onPointerDown=this.onPointerDown.bind(this)}firstConnected(){super.firstConnected(),this.classList.add("sv-property-view","sv-property-color")}connected(){document.addEventListener("pointerdown",this.onPointerDown,{capture:!0,passive:!0})}disconnected(){document.removeEventListener("pointerdown",this.onPointerDown)}update(e){if(!this.property)throw new Error("missing property attribute");if("number"!==this.property.type||3!==this.property.elementCount)throw new Error(`not an color property: '${this.property.path}'`);if(e.has("property")){const t=e.get("property");t&&t.off("value",this.onPropertyChange,this),this.property&&(this.property.on("value",this.onPropertyChange,this),this.color.fromArray(this.property.value))}super.update(e)}render(){const e=this.property,t=this.name||e.name,s=this.color.toString();return r.html`<label class="ff-label ff-off">${t}</label>
            <ff-button style="background-color: ${s}" @click=${this.onButtonClick}></ff-button>
            ${this.pickerActive?r.html`<ff-color-edit .color=${this.color} @change=${this.onColorEditChange}></ff-color-edit>`:null}`}onButtonClick(e){this.pickerActive=!this.pickerActive,this.requestUpdate()}onColorEditChange(e){this.property.setValue(e.detail.color.toRGBArray())}onPropertyChange(e){this.color.fromArray(e),this.requestUpdate()}onPointerDown(e){this.pickerActive&&(e.target instanceof Node&&this.contains(e.target)||(this.pickerActive=!1,this.requestUpdate()))}};n([r.property({attribute:!1})],a.prototype,"property",void 0),n([r.property({type:String})],a.prototype,"name",void 0),a=n([r.customElement("sv-property-color")],a),t.default=a},function(e,t,s){"use strict";var n=this&&this.__decorate||function(e,t,s,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r<3?i(a):r>3?i(t,s,a):i(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};Object.defineProperty(t,"__esModule",{value:!0});const i=s(14),r=s(144),a=s(2),o=s(165);let l=class extends a.default{constructor(){super(),this.value=new r.default,this._offsetX=0,this._offsetY=0,this._knob=(new a.default).addClass("ff-knob").setStyle({display:"block",position:"relative "}),new o.default(this)}setXY(e,t){this.value.set(e,t),this.requestUpdate()}dragStart(e){const t=this._knob,s=this.getBoundingClientRect();e.target===this._knob?(this._offsetX=e.clientX-t.offsetLeft+.5*(t.clientWidth-t.offsetWidth),this._offsetY=e.clientY-t.offsetTop+.5*(t.clientHeight-t.offsetHeight)):(this._offsetX=s.left+.8*t.clientWidth,this._offsetY=s.top+.8*t.clientHeight),this.dragMove(e)}dragMove(e){const t=this._knob,s=e.clientX-this._offsetX,n=e.clientY-this._offsetY;let r=s/(this.clientWidth-t.clientWidth);r=i.default.limit(r,0,1);let a=1-n/(this.clientHeight-t.clientHeight);a=i.default.limit(a,0,1),r===this.value.x&&a===this.value.y||(this.value=this.value.set(r,a),this.emitChangeEvent(!0))}dragEnd(){this.emitChangeEvent(!1)}firstConnected(){this.setStyle({position:"relative",touchAction:"none"}),this.setAttribute("touch-action","none"),this.setAttribute("tabindex","0"),this.classList.add("ff-control","ff-vector-slider"),this.appendChild(this._knob)}update(e){const t=100*this.value.x,s=100*(1-this.value.y);this._knob.style.left=`${t.toFixed(3)}%`,this._knob.style.top=`${s.toFixed(3)}%`,super.update(e)}emitChangeEvent(e){this.dispatchEvent(new CustomEvent("change",{detail:{value:this.value,isDragging:e},bubbles:!0}))}};n([a.property({attribute:!1})],l.prototype,"value",void 0),l=n([a.customElement("ff-vector-slider")],l),t.default=l},function(e,t,s){"use strict";var n=this&&this.__decorate||function(e,t,s,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r<3?i(a):r>3?i(t,s,a):i(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};Object.defineProperty(t,"__esModule",{value:!0});const i=s(2);s(5);let r=class extends i.default{constructor(){super(...arguments),this.property=null,this.name=""}firstConnected(){this.classList.add("sv-property-view","sv-property-string")}update(e){if(!this.property)throw new Error("missing property attribute");if("string"!==this.property.type)throw new Error(`not a string property: '${this.property.path}'`);if(e.has("property")){const t=e.get("property");t&&t.off("value",this.onUpdate,this),this.property&&this.property.on("value",this.onUpdate,this)}super.update(e)}render(){const e=this.property,t=this.name||e.name,s=e.value;return i.html`<label class="ff-label ff-off">${t}</label>
            <div class="ff-string">${s}</div>`}};n([i.property({attribute:!1})],r.prototype,"property",void 0),n([i.property({type:String})],r.prototype,"name",void 0),r=n([i.customElement("sv-property-string")],r),t.default=r},function(e,t,s){"use strict";var n=this&&this.__decorate||function(e,t,s,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r<3?i(a):r>3?i(t,s,a):i(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};Object.defineProperty(t,"__esModule",{value:!0});const i=s(72),r=s(48),a=s(13),o=s(433);s(438),s(439);const l=s(22);let d=class extends l.default{constructor(){super(...arguments),this.sceneView=null,this.documentProps=new i.default("value",this.onUpdate,this)}get assetManager(){return this.system.getMainComponent(a.default)}get reader(){return this.activeDocument?this.activeDocument.setup.reader:null}get tours(){return this.activeDocument?this.activeDocument.setup.tours:null}firstConnected(){this.classList.add("sv-content-view"),this.sceneView=new o.default(this.system)}connected(){super.connected(),this.assetManager.outs.busy.on("value",this.performUpdate,this)}disconnected(){this.assetManager.outs.busy.off("value",this.performUpdate,this),super.disconnected()}render(){const e=this.system,t=this.assetManager.outs.busy.value;let s=!1,n=r.EReaderPosition.Overlay,i=!1;const a=this.reader,o=this.tours;o&&(i=o.ins.enabled.value&&-1===o.outs.tourIndex.value),a&&(s=!i&&a.ins.enabled.value,n=a.ins.position.value);const d=this.sceneView;if(s&&n===r.EReaderPosition.Overlay||i?setTimeout(()=>d.classList.add("sv-blur"),1):d.classList.remove("sv-blur"),s){if(n===r.EReaderPosition.Right)return l.html`<div class="ff-fullsize sv-content-split">
                    ${d}
                    <ff-splitter direction="horizontal"></ff-splitter>
                    <sv-reader-view .system=${e} class="sv-reader-split"></sv-reader-view></div>
                    <sv-spinner ?visible=${t}></sv-spinner>`;if(n===r.EReaderPosition.Overlay)return l.html`<div class="ff-fullsize sv-content-stack">${d}
                    <div class="sv-reader-container">
                        <sv-reader-view .system=${e} @close=${this.onReaderClose}></sv-reader-view>
                    </div>
                    <sv-spinner ?visible=${t}></sv-spinner></div>`}return l.html`<div class="ff-fullsize sv-content-only">${d}</div>
            <sv-spinner ?visible=${t}></sv-spinner>`}onReaderClose(){this.reader.ins.enabled.setValue(!1)}onActiveDocument(e,t){e&&this.documentProps.off(),t&&this.documentProps.on(t.setup.reader.ins.position,t.setup.reader.ins.enabled,t.setup.tours.outs.tourIndex),this.requestUpdate()}};d=n([l.customElement("sv-content-view")],d),t.default=d},function(e,t,s){"use strict";var n=this&&this.__decorate||function(e,t,s,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r<3?i(a):r>3?i(t,s,a):i(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};Object.defineProperty(t,"__esModule",{value:!0});const i=s(434),r=s(171),a=s(15),o=s(437);let l=class extends a.default{constructor(e){super(e),this.view=null,this.canvas=null,this.overlay=null,this.splitter=null,this.onResize=this.onResize.bind(this),this.manipTarget=new i.default,this.addEventListener("pointerdown",this.manipTarget.onPointerDown),this.addEventListener("pointermove",this.manipTarget.onPointerMove),this.addEventListener("pointerup",this.manipTarget.onPointerUpOrCancel),this.addEventListener("pointercancel",this.manipTarget.onPointerUpOrCancel),this.addEventListener("wheel",this.manipTarget.onWheel),this.addEventListener("contextmenu",this.manipTarget.onContextMenu)}firstConnected(){this.classList.add("sv-scene-view"),this.style.touchAction="none",this.setAttribute("touch-action","none"),this.canvas=this.appendElement("canvas",{display:"block",width:"100%",height:"100%"}),this.overlay=this.appendElement("div",{position:"absolute",top:"0",bottom:"0",left:"0",right:"0",overflow:"hidden"}),this.overlay.classList.add("sv-content-overlay"),this.splitter=this.appendElement(o.default,{position:"absolute",top:"0",bottom:"0",left:"0",right:"0",overflow:"hidden"}),this.splitter.onChange=e=>{this.view.horizontalSplit=e.horizontalSplit,this.view.verticalSplit=e.verticalSplit},this.view=new r.default(this.system,this.canvas,this.overlay),this.view.on("layout",e=>this.splitter.layout=e.layout),this.view.layout=o.EQuadViewLayout.Single,this.splitter.layout=o.EQuadViewLayout.Single,this.manipTarget.next=this.view}connected(){this.view.attach(),window.addEventListener("resize",this.onResize),window.dispatchEvent(new CustomEvent("resize"))}disconnected(){this.view.detach(),window.removeEventListener("resize",this.onResize)}onResize(){this.view.resize()}};l=n([a.customElement("sv-scene-view")],l),t.default=l},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=2;t.default=class{constructor(){this.next=null,this.activePositions=[],this.activeType="",this.centerX=0,this.centerY=0,this.startX=0,this.startY=0,this.isDragging=!1,this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUpOrCancel=this.onPointerUpOrCancel.bind(this),this.onDoubleClick=this.onDoubleClick.bind(this),this.onContextMenu=this.onContextMenu.bind(this),this.onWheel=this.onWheel.bind(this)}onPointerDown(e){if(this.activeType&&e.pointerType!==this.activeType)return;0===this.activePositions.length&&(this.startX=e.clientX,this.startY=e.clientY,this.isDragging=!1),this.activeType=e.pointerType,this.activePositions.push({id:e.pointerId,clientX:e.clientX,clientY:e.clientY}),e.currentTarget.setPointerCapture(e.pointerId);const t=this.createManipPointerEvent(e,"pointer-down");this.sendPointerEvent(t)&&e.stopPropagation(),e.preventDefault()}onPointerMove(e){const t=this.activePositions;for(let s=0,n=t.length;s<n;++s){const n=t[s];e.pointerId===n.id&&(n.clientX=e.clientX,n.clientY=e.clientY)}if(t.length>0&&!this.isDragging){Math.abs(e.clientX-this.startX)+Math.abs(e.clientY-this.startY)>n&&(this.isDragging=!0)}const s=t.length?"pointer-move":"pointer-hover",i=this.createManipPointerEvent(e,s);this.sendPointerEvent(i)&&e.stopPropagation(),e.preventDefault()}onPointerUpOrCancel(e){const t=this.activePositions;let s=!1;for(let n=0,i=t.length;n<i;++n)if(e.pointerId===t[n].id){t.splice(n,1),s=!0;break}if(!s)return;const n=this.createManipPointerEvent(e,"pointer-up");0===t.length&&(this.activeType=""),this.sendPointerEvent(n)&&e.stopPropagation(),e.preventDefault()}onDoubleClick(e){this.sendTriggerEvent(this.createManipTriggerEvent(e,"double-click"))&&e.preventDefault()}onContextMenu(e){this.sendTriggerEvent(this.createManipTriggerEvent(e,"context-menu")),e.preventDefault()}onWheel(e){this.sendTriggerEvent(this.createManipTriggerEvent(e,"wheel"))&&e.preventDefault()}createManipPointerEvent(e,t){let s=0,n=0,i=0,r=0,a=0,o=0;const l=this.activePositions,d=l.length;if(d>0){for(let e=0;e<d;++e)s+=l[e].clientX,n+=l[e].clientY;s/=d,n/=d,"pointer-move"!==t&&"pointer-hover"!==t||(a=s-this.centerX,o=n-this.centerY),this.centerX=s,this.centerY=n}else s=this.centerX,n=this.centerY;const c=e.currentTarget;if(c instanceof Element){const t=c.getBoundingClientRect();i=e.clientX-t.left,r=e.clientY-t.top}return{originalEvent:e,type:t,source:e.pointerType,isPrimary:e.isPrimary,isDragging:this.isDragging,activePositions:l,pointerCount:d,centerX:s,centerY:n,localX:i,localY:r,movementX:a,movementY:o,shiftKey:e.shiftKey,ctrlKey:e.ctrlKey,altKey:e.altKey,metaKey:e.metaKey}}createManipTriggerEvent(e,t){let s=0;"wheel"===t&&(s=e.deltaY);let n=0,i=0;const r=e.currentTarget;if(r instanceof Element){const t=r.getBoundingClientRect();n=e.clientX-t.left,i=e.clientY-t.top}return{originalEvent:e,type:t,wheel:s,centerX:e.clientX,centerY:e.clientY,localX:n,localY:i,shiftKey:e.shiftKey,ctrlKey:e.ctrlKey,altKey:e.altKey,metaKey:e.metaKey}}sendPointerEvent(e){return this.next&&this.next.onPointer(e)}sendTriggerEvent(e){return this.next&&this.next.onTrigger(e)}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(3),i=s(11),r=s(85),a=s(436);t.Viewport=a.default;const o=s(172),l=s(83),d=s(27),c=s(49);class u extends i.default{constructor(e,t,s){super(),this.viewports=[],this.rendererComponent=null,this.targetViewport=null,this.targetObject3D=null,this.targetComponent=null,this.targetScene=null,this.targetCamera=null,this.defaultScene=new n.Scene,this.defaultCamera=new c.default,this.system=e,this.canvas=t,this.overlay=s,this.renderer=new n.WebGLRenderer({canvas:t,antialias:!0}),this.renderer.autoClear=!1,this.renderer.gammaOutput=!0,this.renderer.gammaFactor=2,this.picker=new l.default(this.renderer)}dispose(){this.renderer.dispose(),this.viewports.forEach(e=>e.dispose())}get canvasWidth(){return this.canvas.width}get canvasHeight(){return this.canvas.height}attach(){const e=this.canvasWidth,t=this.canvasHeight;this.viewports.forEach(s=>s.setCanvasSize(e,t)),this.renderer.setSize(e,t,!1),this.rendererComponent=this.system.getComponent(d.default,!0),this.rendererComponent.attachView(this)}detach(){this.rendererComponent=this.system.getComponent(d.default,!0),this.rendererComponent.detachView(this),this.rendererComponent=null}renderImage(e,t,s,n){const i=this.canvas.width,r=this.canvas.height;this.setRenderSize(e,t),this.render();const a=this.canvas.toDataURL(s,n);return this.setRenderSize(i,r),a}render(){const e=this.rendererComponent.activeSceneComponent;if(!e)return;let t=e.scene,s=e.activeCamera;t&&s||(t=this.defaultScene,s=this.defaultCamera);const n=this.renderer;n.clear(),n.__view=this;const i=this.viewports;for(let e=0,r=i.length;e<r;++e){const r=i[e];n.__viewport=r;const a=r.updateCamera(s);r.applyViewport(this.renderer),n.render(t,a)}}setRenderSize(e,t){this.canvas.width=e,this.canvas.height=t,this.viewports.forEach(s=>s.setCanvasSize(e,t)),this.renderer.setSize(e,t,!1)}resize(){this.setRenderSize(this.canvas.clientWidth,this.canvas.clientHeight),this.render()}setViewportCount(e){const t=this.viewports;for(let s=e;s<t.length;++s)t[s].dispose();for(let s=t.length;s<e;++s){const e=(new o.default).appendTo(this.overlay);t[s]=new a.default,t[s].setCanvasSize(this.canvasWidth,this.canvasHeight),t[s].overlay=e}t.length=e}getViewportCount(){return this.viewports.length}onPointer(e){if(!this.system)return!1;let t=!1,s=!1;"pointer-hover"===e.type?s=!0:e.isPrimary&&"pointer-down"===e.type&&(s=!0,t=!0);const n=this.routeEvent(e,s,t);if(n){const e=n.component;if(e){e.emit(n);const t=e.getComponent(r.default);!n.stopPropagation&&t&&t.propagateUp(!1,!0,n)}if(n.stopPropagation||this.system.emit(n),!n.stopPropagation){n.viewport.onPointer(n)&&this.system.getMainComponent(d.default).forceRender()}return!0}return!1}onTrigger(e){if(!this.system)return!1;const t=this.routeEvent(e,!0,!0);if(t){const e=t.component;if(e){e.emit(t);const s=e.getComponent(r.default);!t.stopPropagation&&s&&s.propagateUp(!1,!0,t)}if(t.stopPropagation||this.system.emit(t),!t.stopPropagation){t.viewport.onTrigger(t)&&this.system.getMainComponent(d.default).forceRender()}return!0}return!1}pickPosition(e,t,s){return this.picker.pickPosition(this.targetScene,this.targetCamera,e,t,s)}pickNormal(e,t){return this.picker.pickNormal(this.targetScene,this.targetCamera,e,t)}routeEvent(e,t,s){let n=this.targetViewport,i=this.targetObject3D,r=this.targetComponent;if(t){n=null;const t=this.viewports;for(let s=0,i=t.length;s<i;++s){const i=t[s];if(i.isInside(e)){n=i;break}}}if(!n)return null;const a=e;if(a.view=this,a.viewport=n,a.deviceX=n.getDeviceX(e.localX),a.deviceY=n.getDeviceY(e.localY),a.stopPropagation=!1,s){const t=this.rendererComponent.activeSceneComponent,s=this.targetScene=t&&t.scene,n=this.targetCamera=t&&t.activeCamera;if(i=null,r=null,s&&n)if(void 0===(i=this.picker.pickObject(s,n,e)))0;else{let e=i;for(;e&&!r;)(r=e.userData.component)||(e=e.parent);0}}return a.object3D=i,a.component=r,this.targetViewport=n,this.targetObject3D=i,this.targetComponent=r,a}}t.default=u},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(3),i=s(11),r=s(49),a=s(172),o=s(149);class l extends i.default{constructor(e){super(),this.next=null,this._canvasWidth=1,this._canvasHeight=1,this._overlay=null,this._camera=null,this._controller=null,this.addEvent("dispose"),this.next=null,e=e||{},this._relRect={x:e.x||0,y:e.y||0,width:e.width||1,height:e.height||1},this._absRect={x:0,y:0,width:1,height:1},e.overlay&&(this._overlay=e.overlay)}get x(){return this._absRect.x}get y(){return this._absRect.y}get width(){return this._absRect.width}get height(){return this._absRect.height}get canvasWidth(){return this._canvasWidth}get canvasHeight(){return this._canvasHeight}get camera(){return this._camera}get controller(){return this._controller}get overlay(){return this._overlay}set overlay(e){this._overlay=e,this.updateGeometry()}dispose(){this.emit({type:"dispose",viewport:this}),this._overlay&&(this._overlay.remove(),this._overlay=null)}setSize(e,t,s,n){const i=this._relRect;i.x=e,i.y=t,i.width=s,i.height=n,this.updateGeometry()}setCanvasSize(e,t){this._canvasWidth=e,this._canvasHeight=t,this.updateGeometry(),this._controller&&this._controller.setViewportSize(e,t)}setBuiltInCamera(e,t){this._camera?this._camera.setProjection(e):(this._camera=new r.default(e),this._camera.matrixAutoUpdate=!1),void 0!==t&&(this._camera.setPreset(t),this.overlay.setLabel(a.ELocation.TopRight,"view",r.EViewPreset[t],"ff-label-box"))}unsetBuiltInCamera(){this._camera=null,this._controller=null,this.overlay.unsetLabel(a.ELocation.TopRight,"view")}enableCameraControl(e){return!e&&this._controller?this._controller=null:e&&this._camera&&(this._controller||(this._controller=new o.default(this._camera),this._controller.setViewportSize(this.width,this.height),this._controller.updateController())),this._controller}zoomExtents(e){const t=this._camera,s=this._controller;t&&s&&(s.zoomExtents(e),s.updateCamera(null,!0))}isInside(e){return this.isPointInside(e.localX,e.localY)}isPointInside(e,t){const s=this._absRect;return t=this.canvasHeight-t,e>=s.x&&e<s.x+s.width&&t>=s.y&&t<s.y+s.height}getDevicePoint(e,t,s){const i=this._absRect,r=(e-i.x)/i.width*2-1,a=(this.canvasHeight-t-i.y)/i.height*2-1;return s?s.set(r,a):new n.Vector2(r,a)}getDeviceX(e){const t=this._absRect;return(e-t.x)/t.width*2-1}getDeviceY(e){const t=this._absRect;return(this.canvasHeight-e-t.y)/t.height*2-1}updateCamera(e){let t=e;if(this._camera&&(t=this._camera,this._controller&&this._controller.updateCamera()),!t)return;const s=this._absRect,n=s.width/s.height;if(n!==t.userData.aspect)if(t.userData.aspect=n,t.isUniversalCamera||t.isPerspectiveCamera)t.aspect=n,t.updateProjectionMatrix();else if(t.isOrthographicCamera){const e=.5*(t.top-t.bottom);t.left=-e*n,t.right=e*n,t.updateProjectionMatrix()}return t}applyViewport(e){const t=this._absRect;e.setViewport(t.x,t.y,t.width,t.height),e.viewport=this}applyPickViewport(e,t){const s=this._absRect,n=t.localX-s.x,i=this.canvasHeight-t.localY-s.y;e.viewport.set(-n,-i,s.width,s.height)}toViewportEvent(e){const t=e;return t.viewport=this,t.deviceX=this.getDeviceX(e.localX),t.deviceY=this.getDeviceY(e.localY),t}onPointer(e){return!!this._controller&&this._controller.onPointer(e)}onTrigger(e){return!!this._controller&&this._controller.onTrigger(e)}toString(){return`Viewport (x: ${this.x}, y: ${this.y}, width: ${this.width}, height: ${this.height})`}updateGeometry(){const e=this._relRect,t=this._absRect,s=this._canvasWidth,n=this._canvasHeight;t.x=Math.round(e.x*s),t.y=Math.round(e.y*n),t.width=Math.round(e.width*s),t.height=Math.round(e.height*n);const i=this._overlay;if(i){const e=this.canvasHeight-t.y-t.height;i.style.left=t.x?t.x.toFixed()+"px":"0",i.style.top=e?e.toFixed()+"px":"0",i.style.width=t.width.toFixed()+"px",i.style.height=t.height.toFixed()+"px"}}}t.default=l},function(e,t,s){"use strict";var n=this&&this.__decorate||function(e,t,s,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r<3?i(a):r>3?i(t,s,a):i(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};Object.defineProperty(t,"__esModule",{value:!0}),s(33);const i=s(2);var r;!function(e){e[e.Single=0]="Single",e[e.HorizontalSplit=1]="HorizontalSplit",e[e.VerticalSplit=2]="VerticalSplit",e[e.Quad=3]="Quad"}(r=t.EQuadViewLayout||(t.EQuadViewLayout={}));let a=class extends i.default{constructor(){super(...arguments),this.layout=r.Single,this.horizontalPosition=.5,this.verticalPosition=.5}firstConnected(){this.classList.add("ff-quad-splitter")}render(){const e=this.layout;if(e===r.Single)return i.html``;const t=[];return e!==r.HorizontalSplit&&e!==r.Quad||t.push(i.html`
                <div class="ff-horizontal" style="position:absolute; top:0; bottom:0; left:0; right:0; display:flex;">
                    <div class="ff-left" style="flex:1 1;"></div>
                    <ff-splitter direction="horizontal" position=${this.horizontalPosition} @ff-splitter-change=${this.onSplitterChange}></ff-splitter>
                    <div style="flex:1 1;"></div>
                </div>
            `),e!==r.VerticalSplit&&e!==r.Quad||t.push(i.html`
                <div class="ff-vertical" style="position:absolute; top:0; bottom:0; left:0; right:0; display:flex; flex-direction: column">
                    <div class="ff-top" style="flex:1 1;"></div>
                    <ff-splitter direction="vertical" position=${this.verticalPosition} @ff-splitter-change=${this.onSplitterChange}></ff-splitter>
                    <div style="flex:1 1;"></div>
                </div>
            `),i.html`${t}`}onSplitterChange(e){"horizontal"===e.detail.direction?this.horizontalPosition=e.detail.position:this.verticalPosition=e.detail.position,this.onChange&&this.onChange({layout:this.layout,horizontalSplit:this.horizontalPosition,verticalSplit:this.verticalPosition,isDragging:e.detail.isDragging})}};n([i.property({attribute:!1})],a.prototype,"layout",void 0),n([i.property({attribute:!1})],a.prototype,"horizontalPosition",void 0),n([i.property({attribute:!1})],a.prototype,"verticalPosition",void 0),a=n([i.customElement("ff-quad-splitter")],a),t.default=a},function(e,t,s){"use strict";var n,i=this&&this.__decorate||function(e,t,s,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r<3?i(a):r>3?i(t,s,a):i(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};Object.defineProperty(t,"__esModule",{value:!0});const r=s(2);let a=n=class extends r.default{constructor(){super(...arguments),this.visible=!1}firstConnected(){super.firstConnected(),this.classList.add("sv-spinner")}render(){return this.style.visibility=this.visible?"visible":"hidden",n.template}};a.template=r.html`<div class="sv-spinner-wheel"><svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;" xml:space="preserve"><style type="text/css">.st0{fill:none;stroke:#009ADE;stroke-width:5;stroke-miterlimit:10;}.st1{fill:none;stroke:#FFCD00;stroke-width:5;stroke-miterlimit:10;}</style><circle class="st0" cx="256.6" cy="256" r="252"/><path class="st1" d="M408.6,307c-16.3-28-42.1-28.4-45.3-28.3c0,0,0-0.1,0-0.1L472,256l-108.7-22.6l0,0c1.1-1,22.3-19.7,54-20.2 c23.9-0.4,44.6-29.6,31.4-52.1c0,0-3.9,35.4-48.6,23.6c-31.4-8.3-49.9,9.7-52,12l0,0l60.9-93L316,164.5c0,0,0,0,0,0 c0.1-1.4,1.8-29.6,23.9-52.4c16.7-17.2,10.6-52.5-14.6-59.1c0,0,22.2,27.8-17.7,51c-28.1,16.3-28.4,42.1-28.3,45.3l-0.1,0 L256.6,40.5l-22.7,108.7c0,0,0,0,0,0c-0.9-1-19.7-22.2-20.2-54c-0.4-23.9-29.6-44.6-52.1-31.4c0,0,35.3,3.9,23.6,48.6 c-8.3,31.5,9.8,49.9,12,52.1l0,0l-93-60.9l0,0l0,0l49.6,75.7l11.3,17.2c0,0,0,0,0,0c-0.9,0-29.4-1.6-52.5-23.9 c-17.2-16.7-52.5-10.6-59.1,14.6c0,0,27.8-22.2,51,17.7c16.4,28.1,42.3,28.4,45.3,28.3c0,0,0,0,0,0L41.1,256l108.8,22.7v0 c-0.7,0.7-22,19.7-54,20.2c-23.9,0.4-44.6,29.6-31.4,52.1c0,0,3.9-35.4,48.6-23.6c31.5,8.3,50-9.9,52.1-12c0,0,0,0.1,0.1,0.1 l-60.9,92.9l92.9-60.9c0,1-1.6,29.5-23.9,52.5c-16.7,17.2-10.6,52.5,14.6,59.1c0,0-22.2-27.8,17.7-51c28.1-16.4,28.4-42.2,28.3-45.3 c0,0,0.1,0,0.1,0l22.7,108.7l22.7-108.7l0,0c0.8,0.9,19.7,22.1,20.2,54c0.4,23.9,29.6,44.6,52.1,31.4c0,0-35.3-3.9-23.6-48.5 c8.3-31.5-9.8-49.9-12-52.1c0,0,0.1,0,0.1-0.1l92.9,60.9l-32.1-49.1L348,315.4l0,0c1.3,0.1,29.6,1.7,52.4,23.9 c17.2,16.7,52.5,10.6,59.1-14.6C459.6,324.7,431.8,346.9,408.6,307z"/></svg></div>`,i([r.property({type:Boolean})],a.prototype,"visible",void 0),a=n=i([r.customElement("sv-spinner")],a),t.default=a},function(e,t,s){"use strict";var n=this&&this.__decorate||function(e,t,s,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r<3?i(a):r>3?i(t,s,a):i(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};Object.defineProperty(t,"__esModule",{value:!0}),s(5);const i=s(22);let r=class extends i.default{constructor(){super(...arguments),this.reader=null}firstConnected(){super.firstConnected(),this.classList.add("sv-reader-view")}renderMenuEntry(e){const t=e.article;return i.html`<div class="sv-entry" @click=${e=>this.onClickArticle(e,t.id)}>
            <h1>${t.data.title}</h1>
            <p>${t.data.lead}</p>
        </div>`}render(){const e=this.reader;if(!e)return i.html`<div class="ff-placeholder">Please select a document to display its articles.</div>`;if(!e.activeArticle){const t=e.articles;return i.html`<div class="sv-left"></div><div class="sv-article">
                <ff-button class="sv-nav-button" inline title="Close Article Reader" icon="close" @click=${this.onClickClose}></ff-button>
                ${t.map(e=>this.renderMenuEntry(e))}
            </div><div class="sv-right"></div>`}return i.html`<div class="sv-left"></div><div class="sv-article">
                <ff-button class="sv-nav-button" inline title="Close Article Reader" icon="close" @click=${this.onClickClose}></ff-button>
                <ff-button class="sv-nav-button" inline title="Article Menu" icon="bars" @click=${this.onClickMenu}></ff-button>
                <div class="sv-container"></div>
            </div><div class="sv-right"></div>`}onClickMenu(e){e.stopPropagation(),this.reader.ins.articleId.setValue("")}onClickClose(e){e.stopPropagation(),this.dispatchEvent(new CustomEvent("close"))}onClickArticle(e,t){this.reader.ins.articleId.setValue(t)}updated(e){super.updated(e);const t=this.reader;if(t&&t.activeArticle){this.getElementsByClassName("sv-container").item(0).innerHTML=t.outs.content.value}}onActiveDocument(e,t){e&&(this.reader.outs.content.off("value",this.onUpdate,this),this.reader.outs.article.off("value",this.onUpdate,this),this.reader=null),t&&(this.reader=t.setup.reader,this.reader.outs.content.on("value",this.onUpdate,this),this.reader.outs.article.on("value",this.onUpdate,this))}};r=n([i.customElement("sv-reader-view")],r),t.default=r},function(e,t,s){"use strict";var n=this&&this.__decorate||function(e,t,s,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r<3?i(a):r>3?i(t,s,a):i(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};Object.defineProperty(t,"__esModule",{value:!0});const i=s(72);s(441);const r=s(53);s(442),s(443),s(445),s(446),s(447),s(448);const a=s(22);let o=class extends a.default{constructor(){super(...arguments),this.documentProps=new i.default("value",this.onUpdate,this)}get toolProvider(){return this.system.getMainComponent(r.default)}firstConnected(){this.style.pointerEvents="none",this.setAttribute("pointer-events","none"),this.classList.add("sv-chrome-view")}connected(){super.connected(),this.toolProvider.ins.visible.on("value",this.onUpdate,this)}disconnected(){this.toolProvider.ins.visible.off("value",this.onUpdate,this),super.disconnected()}render(){const e=this.activeDocument;if(!e)return a.html``;const t=e.setup,s=t.interface.ins.visible.value,n=t.interface.ins.logo.value,i=t.reader.ins.enabled.value,r=t.tours.tours,o=t.tours.ins.enabled.value,l=t.tours.outs.tourIndex.value>=0,d=t.viewer.ins.annotationsVisible.value&&t.viewer.outs.tagCloud.value,c=!i&&this.toolProvider.ins.visible.value;if(!s)return a.html``;let u;return u=o?l?"Tour: "+t.tours.outs.tourTitle.value:"Interactive Tours":e.outs.title.value||e.name||"Untitled Document",a.html`
            <div class="sv-chrome-header">
                <sv-main-menu .system=${this.system}></sv-main-menu>
                <div class="sv-top-bar">
                    <div class="ff-ellipsis sv-main-title">${u}<span class="ff-ellipsis"> </span></div>
                    ${n?a.html`<sv-logo></sv-logo>`:null}
                </div>
            </div>
            <div class="ff-flex-spacer"></div>
            ${o&&l?a.html`<sv-tour-navigator .system=${this.system}></sv-tour-navigator>`:null}
            ${o&&!l?a.html`<sv-tour-menu .tours=${r} @select=${this.onSelectTour}></sv-tour-menu>`:null}
            ${d&&!o?a.html`<sv-tag-cloud .system=${this.system}></sv-tag-cloud>`:null}
            ${c&&!o?a.html`<div class="sv-tool-bar-container"><sv-tool-bar .system=${this.system} @close=${this.closeTools}></sv-tool-bar></div>`:null}`}onSelectTour(e){this.activeDocument.setup.tours.ins.tourIndex.setValue(e.detail.index)}closeTools(){this.toolProvider.ins.visible.setValue(!1)}onActiveDocument(e,t){if(e&&this.documentProps.off(),t){const e=t.setup;this.documentProps.on(t.outs.title,t.outs.assetPath,e.interface.ins.visible,e.interface.ins.logo,e.viewer.ins.annotationsVisible,e.reader.ins.enabled,e.tours.ins.enabled,e.tours.outs.tourIndex)}this.requestUpdate()}};o=n([a.customElement("sv-chrome-view")],o),t.default=o},function(e,t,s){"use strict";var n=this&&this.__decorate||function(e,t,s,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r<3?i(a):r>3?i(t,s,a):i(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};Object.defineProperty(t,"__esModule",{value:!0});const i=s(2),r=s(5);let a=class extends i.default{constructor(){super(),this.mode="radio",this.selectionIndex=-1,this.observer=new MutationObserver(this.onObserver),this.selectedButton=null,this.addEventListener("click",e=>this.onClick(e))}firstConnected(){this.classList.add("ff-button-group"),this.parseChildren()}connected(){this.observer.observe(this,{childList:!0})}disconnected(){this.observer.disconnect()}onObserver(e){e.forEach(e=>{"childList"===e.type&&this.parseChildren()})}onClick(e){let t=e.target;for(;t&&t!==this&&!(t instanceof r.default);)t=t.parentElement;t instanceof r.default&&(t.selected?"exclusive"===this.mode&&(t.selected=!1,this.selectedButton=null,this.selectionIndex=-1):(this.selectedButton&&(this.selectedButton.selected=!1),this.selectedButton=t,this.selectedButton.selected=!0,this.selectionIndex=this.getButtons().indexOf(t)))}parseChildren(){const e=this.getButtons();this.selectedButton&&(this.selectionIndex=e.indexOf(this.selectedButton),this.selectionIndex<0&&(this.selectedButton.selected=!1,this.selectedButton=null)),(this.selectionIndex<0||this.selectionIndex>=e.length)&&(this.selectionIndex="radio"===this.mode?0:-1),this.selectionIndex>=0&&(this.selectedButton=e[this.selectionIndex],this.selectedButton.selected=!0)}getButtons(){return this.getChildrenArray().filter(e=>e instanceof r.default)}};n([i.property({type:String})],a.prototype,"mode",void 0),n([i.property({type:Number})],a.prototype,"selectionIndex",void 0),a=n([i.customElement("ff-button-group")],a),t.default=a},function(e,t,s){"use strict";var n,i=this&&this.__decorate||function(e,t,s,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r<3?i(a):r>3?i(t,s,a):i(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};Object.defineProperty(t,"__esModule",{value:!0});const r=s(2);let a=n=class extends r.default{firstConnected(){super.firstConnected(),this.classList.add("sv-logo")}render(){return r.html`<div class="sv-short">${n.sunburst}</div><div class="sv-full">${n.sunburst}${n.smithsonian}</div>`}};a.sunburst=r.html`<div class="sv-sunburst"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 158 158"><defs><style>.si-blue{fill:#009cde;}.si-yellow{fill:#ffcd00;}</style></defs><title>si-sunburst</title><circle class="si-blue" cx="79.02" cy="79" r="79.02"/><path class="si-yellow" d="M126.69,95c-5.12-8.8-13.2-8.9-14.2-8.87v0L146.59,79l-34.1-7.1h0a27.63,27.63,0,0,1,16.93-6.32c7.5-.11,14-9.29,9.85-16.35,0,0-1.23,11.09-15.23,7.39-9.84-2.6-15.63,3-16.32,3.77h0l19.09-29.14L97.67,50.32h0a27.47,27.47,0,0,1,7.49-16.44c5.23-5.39,3.33-16.47-4.59-18.53,0,0,7,8.71-5.54,16-8.8,5.13-8.9,13.21-8.88,14.21h0L79,11.43l-7.1,34.11h0a27.53,27.53,0,0,1-6.33-16.93c-.11-7.5-9.29-14-16.35-9.86,0,0,11.09,1.24,7.39,15.23C54,43.85,59.7,49.64,60.4,50.31h0L31.24,31.22h0L46.8,55l3.54,5.39h0a27.55,27.55,0,0,1-16.45-7.5c-5.39-5.22-16.47-3.32-18.53,4.59,0,0,8.71-7,16,5.55,5.14,8.82,13.26,8.89,14.22,8.87h0L11.45,79l34.1,7.11h0a27.56,27.56,0,0,1-16.93,6.32c-7.51.12-14,9.3-9.86,16.35,0,0,1.24-11.08,15.24-7.39,9.88,2.61,15.67-3.1,16.32-3.78l0,0L31.25,126.79,60.38,107.7a27.51,27.51,0,0,1-7.5,16.44c-5.22,5.39-3.32,16.47,4.59,18.53,0,0-7-8.71,5.55-16,8.82-5.14,8.89-13.25,8.87-14.21h0L79,146.57l7.11-34.09h0a27.67,27.67,0,0,1,6.33,16.94c.11,7.5,9.29,14,16.34,9.85,0,0-11.08-1.23-7.39-15.23,2.61-9.86-3.07-15.65-3.77-16.32l0,0,29.13,19.09L116.73,111.4l-9-13.76h0a27.64,27.64,0,0,1,16.45,7.5c5.38,5.23,16.47,3.33,18.53-4.59C142.69,100.55,134,107.52,126.69,95Z"/></svg></div>`,a.smithsonian=r.html`<div class="sv-smithsonian"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 990 158"><defs><style>.si-white{fill:#fff;}</style></defs><title>si-text-neg</title><path class="si-white" d="M67,44.45C63.37,31.73,58.2,18,40.91,18c-15.3,0-22.06,11.13-22.06,21.86,0,14.51,9.54,21.27,25.24,29.42,15.5,8,34.39,17.29,34.39,39.55,0,20.87-17.69,37.57-44.13,37.57a69.28,69.28,0,0,1-19.48-3,67.3,67.3,0,0,1-9.74-4.18C3.54,135.09,1,118-.23,108.46l5.76-1.4c3.18,12.13,12.12,32.2,32.6,32.2C53,139.26,62,129.92,62,115.41,62,100.7,51.05,93.75,36.14,85.8,23.42,79,3.34,69.1,3.34,46.64c0-19.08,15.31-35.38,41-35.38,9.14,0,17.49,2.18,25,4.57.8,7.16,1.79,14.91,3.38,27.43Z"/><path class="si-white" d="M200.32,143.44v-5.17c11.73-1.19,13.91-2,13.91-16.1V89c0-14.12-5-23.06-17.49-23.06-7.15,0-14.71,4-22.26,10.33a46.33,46.33,0,0,1,.6,8.35v38.76c0,12.52,1.79,13.72,12.72,14.91v5.17H145.26v-5.17c12.33-1.19,14.12-2.19,14.12-15.31V88.78c0-14.71-5.17-22.86-17.3-22.86-8,0-15.7,5.37-21.66,10.33V123c0,12.92,1.59,14.12,11.33,15.31v5.17H89.81v-5.17c13.12-1.19,14.9-2.39,14.9-15.31V81.82c0-12.72-.59-13.71-12.12-15.5V61.74c8.75-1.59,18.88-4.17,27.63-8.14V69.7c4.17-2.79,8.55-6.37,14.51-10.14,5.17-3.18,9.94-5.37,16.3-5.37,9.54,0,18.08,6,22.06,16.3a185.42,185.42,0,0,1,16.5-11.13c4.17-2.78,9.34-5.17,14.9-5.17,15.51,0,25.25,10.93,25.25,30.41V123c0,13.32,1.59,14.12,12.92,15.31v5.17Z"/><path class="si-white" d="M253.59,143.44v-5.17c12.52-1.19,13.91-2.39,13.91-15.9V81.42c0-12.32-.6-13.12-12.52-15.1V61.55a125.21,125.21,0,0,0,28.22-7.76v68.58c0,13.51,1.39,14.71,14.12,15.9v5.17ZM264.12,26.76a10.22,10.22,0,0,1,10.14-10.33c5.56,0,9.94,4.37,9.94,10.33A10.18,10.18,0,0,1,274.06,36.9,10.42,10.42,0,0,1,264.12,26.76Z"/><path class="si-white" d="M343.82,143.24a20.14,20.14,0,0,1-8.34,2.58c-12.53,0-19.48-7.95-19.48-23.65V64.33H302.28l-.79-2,5.36-5.76H316V42.07L328.92,29l2.78.4V56.58h22.46c1.79,2,1.19,6.36-1.19,7.75H331.7v51.08c0,16.1,6.56,19.08,11.53,19.08s9.54-2,12.32-3.38l1.79,5.17Z"/><path class="si-white" d="M420,143.44v-5.17c11.53-1.19,13.12-2.39,13.12-15.31V90c0-16.3-6.17-24.45-19.48-24.45-7.56,0-15.11,3.78-20.67,10.14V123c0,12.73,1,14.12,12.72,15.31v5.17H363.5v-5.17c11.92-1,13.71-2.19,13.71-15.31V28.15c0-12.52-.39-13.51-13.51-14.71V8.87a218.64,218.64,0,0,0,29.22-6.95V68.7c6.95-7.15,17.69-14.51,28.42-14.51,16.1,0,27.43,10.14,27.43,34V123c0,13.12,1.39,14.32,13.12,15.31v5.17Z"/><path class="si-white" d="M522.91,80c-3.78-11.73-10.74-19.68-20.48-19.68-7.55,0-12.92,6-12.92,13.72,0,8.94,8,13.51,16.9,17.29,14.91,6.16,25,13.32,25,27,0,18.09-16.89,27.43-32.79,27.43-10.14,0-19.28-3.77-22.86-6.76-1.39-2.78-3.18-16.29-3.18-23.45l5.17-1c3.57,13.11,12.52,24.64,24.45,24.64a13.86,13.86,0,0,0,14.11-13.91c0-8.75-5.77-13.52-15.7-18.09-11.93-5.56-24.85-12.12-24.85-27.43,0-13.91,11.93-25.64,30.21-25.64a46.23,46.23,0,0,1,17.69,3.38c1.59,4.57,3.78,16.3,4.38,21.27Z"/><path class="si-white" d="M633,98.52c0,32-23.45,47.3-43.13,47.3-27.23,0-43.53-21.86-43.53-43.92,0-32.8,25.44-47.71,43.53-47.71C614.54,54.19,633,73.87,633,98.52Zm-68.18-3c0,25,10.94,43.72,27.24,43.72,12.32,0,22.46-9.14,22.46-36.37,0-23.26-9.35-42.14-26.64-42.14C575.58,60.75,564.84,73.07,564.84,95.54Z"/><path class="si-white" d="M700.6,143.44v-5.17c11.73-1.19,13.12-2.78,13.12-16.5V88.58c0-13.72-4.77-22.66-18.09-22.66-8,0-15.7,5-21.66,10.14v46.71c0,13.51,1.19,14.31,12.92,15.5v5.17H643.75v-5.17c13.52-1.39,14.52-2.39,14.52-15.5V81.62c0-12.72-1.2-13.32-11.93-15.3V61.74C655.88,60,665.22,57.57,674,53.6V69.5c4-3,8.34-6,13.31-9.35,5.57-3.57,10.74-6,16.5-6,15.7,0,25.64,10.93,25.64,30.21v38.37c0,13.51,1,14.31,12.52,15.5v5.17Z"/><path class="si-white" d="M753.08,143.44v-5.17c12.52-1.19,13.91-2.39,13.91-15.9V81.42c0-12.32-.6-13.12-12.52-15.1V61.55a125.35,125.35,0,0,0,28.22-7.76v68.58c0,13.51,1.39,14.71,14.11,15.9v5.17ZM763.61,26.76a10.22,10.22,0,0,1,10.14-10.33c5.56,0,9.93,4.37,9.93,10.33A10.18,10.18,0,0,1,773.55,36.9,10.42,10.42,0,0,1,763.61,26.76Z"/><path class="si-white" d="M869.74,145.82a16.26,16.26,0,0,1-9.34-3.77,20.82,20.82,0,0,1-4.77-9c-8,5.37-17.49,12.72-23.45,12.72-14.12,0-23.85-11.72-23.85-24.25,0-9.74,5.16-15.9,16.1-19.67,11.92-4,26.43-9.35,30.8-12.92V85.4c0-14.31-6.75-22.46-16.69-22.46a11.23,11.23,0,0,0-8.95,4c-2.58,2.59-4.37,7-6,13.12a5.53,5.53,0,0,1-5.76,4.57c-3.58,0-8.75-4-8.75-8.54,0-3,2.59-5.17,6.36-8,5.57-4,18.49-11.73,29.82-13.92a25.93,25.93,0,0,1,16.3,5.37c6.95,5.76,8.94,13.91,8.94,24.25v37c0,8.94,3.58,11.92,7,11.92a15.11,15.11,0,0,0,7.15-2.18l2,5.17ZM855.23,95.73c-4.17,2.19-13.71,6.36-17.88,8.35-7.76,3.58-12.13,7.36-12.13,14.51,0,10.34,7.95,15.31,14.11,15.31,5.17-.2,12.13-3.58,15.9-7.16Z"/><path class="si-white" d="M948.66,143.44v-5.17c11.72-1.19,13.12-2.78,13.12-16.5V88.58c0-13.72-4.77-22.66-18.09-22.66-8,0-15.71,5-21.67,10.14v46.71c0,13.51,1.2,14.31,12.92,15.5v5.17H891.81v-5.17c13.52-1.39,14.51-2.39,14.51-15.5V81.62c0-12.72-1.19-13.32-11.92-15.3V61.74C903.93,60,913.28,57.57,922,53.6V69.5c4-3,8.35-6,13.32-9.35,5.56-3.57,10.73-6,16.5-6,15.7,0,25.64,10.93,25.64,30.21v38.37c0,13.51,1,14.31,12.52,15.5v5.17Z"/></svg></div>`,a=n=i([r.customElement("sv-logo")],a),t.default=a},function(e,t,s){"use strict";var n=this&&this.__decorate||function(e,t,s,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r<3?i(a):r>3?i(t,s,a):i(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};Object.defineProperty(t,"__esModule",{value:!0});const i=s(72),r=s(65),a=s(20),o=s(53),l=s(22),d=s(444);let c=class extends l.default{constructor(){super(...arguments),this.documentProps=new i.default("value",this.onUpdate,this),this.shareButtonSelected=!1}get fullscreen(){return this.system.getMainComponent(r.default)}get toolProvider(){return this.system.getMainComponent(o.default)}get analytics(){return this.system.getMainComponent(a.default)}firstConnected(){super.firstConnected(),this.classList.add("sv-main-menu")}connected(){super.connected(),this.fullscreen.outs.fullscreenActive.on("value",this.onUpdate,this),this.toolProvider.ins.visible.on("value",this.onUpdate,this)}disconnected(){this.toolProvider.ins.visible.off("value",this.onUpdate,this),this.fullscreen.outs.fullscreenActive.off("value",this.onUpdate,this),super.disconnected()}render(){const e=this.activeDocument;if(!e)return l.html``;const t=e.setup,s=t.reader.ins.enabled.value,n=t.tours.outs.count.value>0,i=t.tours.ins.enabled.value,r=t.viewer.ins.annotationsVisible.value&&!i,a=this.fullscreen,o=a.outs.fullscreenAvailable.value,d=a.outs.fullscreenActive.value,c=t.interface.ins.tools.value,u=this.toolProvider.ins.visible.value&&!i;return l.html`${n?l.html`<ff-button icon="globe" title="Interactive Tours"
            ?selected=${i} @click=${this.onToggleTours}></ff-button>`:null}
        <ff-button icon="article" title="Read more..."
            ?selected=${s} ?disabled=${i} @click=${this.onToggleReader}></ff-button>
        ${l.html`<ff-button icon="comment" title="Show/Hide Annotations"
            ?selected=${r} ?disabled=${i} @click=${this.onToggleAnnotations}></ff-button>`}
        <ff-button icon="share" title="Share Experience"
            ?selected=${this.shareButtonSelected} @click=${this.onToggleShare}></ff-button>    
        ${o?l.html`<ff-button icon="expand" title="Fullscreen"
            ?selected=${d} @click=${this.onToggleFullscreen}></ff-button>`:null}
        ${c?l.html`<ff-button icon="tools" title="Tools and Settings"
            ?selected=${u} ?disabled=${i} @click=${this.onToggleTools}></ff-button>`:null}`}onToggleReader(){const e=this.activeDocument.setup.reader.ins;e.enabled.setValue(!e.enabled.value)}onToggleTours(){const e=this.activeDocument.setup.tours.ins,t=this.activeDocument.setup.reader.ins;e.enabled.value?e.enabled.setValue(!1):(t.enabled.value&&t.enabled.setValue(!1),e.enabled.setValue(!0),e.tourIndex.setValue(-1))}onToggleAnnotations(){const e=this.activeDocument.setup.tours.ins,t=this.toolProvider.ins,s=this.activeDocument.setup.viewer.ins;e.enabled.value||(t.visible.value&&t.visible.setValue(!1),s.annotationsVisible.setValue(!s.annotationsVisible.value))}onToggleShare(){this.shareButtonSelected||(this.shareButtonSelected=!0,this.requestUpdate(),d.default.show(this).then(()=>{this.shareButtonSelected=!1,this.requestUpdate()}),this.analytics.sendProperty("Menu.Share"))}onToggleFullscreen(){this.fullscreen.toggle(),this.analytics.sendProperty("Menu.Fullscreen")}onToggleTools(){const e=this.activeDocument.setup.tours.ins,t=this.toolProvider.ins,s=this.activeDocument.setup.viewer.ins;e.enabled.value||(s.annotationsVisible.value&&s.annotationsVisible.setValue(!1),t.visible.setValue(!t.visible.value))}onActiveDocument(e,t){if(e&&this.documentProps.off(),t){const e=t.setup;this.documentProps.on(e.interface.ins.tools,e.reader.ins.enabled,e.tours.ins.enabled,e.tours.outs.count,e.viewer.ins.annotationsVisible,this.toolProvider.ins.visible)}this.requestUpdate()}};c=n([l.customElement("sv-main-menu")],c),t.default=c},function(e,t,s){"use strict";var n,i=this&&this.__decorate||function(e,t,s,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r<3?i(a):r>3?i(t,s,a):i(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};Object.defineProperty(t,"__esModule",{value:!0});const r=s(73);s(5),s(104);let a=n=class extends r.default{constructor(){super(),this.position="center",this.modal=!0,this.url=window.location.href}static show(e){const t=new n;return e.appendChild(t),new Promise((e,s)=>{t.on("close",()=>e())})}close(){this.dispatchEvent(new CustomEvent("close")),this.remove()}firstConnected(){super.firstConnected(),this.classList.add("sv-share-menu")}render(){const e=encodeURIComponent(this.url),t=encodeURI("Smithsonian Voyager"),s=`http://twitter.com/share?text=${t}&url=${e}`,n=`https://www.facebook.com/sharer/sharer.php?u=${e}`,i=`https://www.linkedin.com/shareArticle?url=${e}&mini=true&title=${t}`,a=`<iframe name="Smithsonian Voyager" src="${e}" width="800" height="450" allowfullscreen="true"></iframe>`,o=`mailto:?subject=${t}&body=${e}`;return r.html`
        <div class="ff-flex-row">
            <div class="ff-flex-spacer ff-title">Share Experience</div>
            <ff-button icon="close" transparent class="ff-close-button" title="Close" @click=${this.close}></ff-button>
        </div>
        <div class="ff-flex-row sv-share-buttons">
            <a href=${s} target="_blank" rel="noopener noreferrer"><ff-button class="sv-share-button-twitter" icon="twitter" title="Twitter"></ff-button></a>
            <a href=${n} target="_blank" rel="noopener noreferrer"><ff-button class="sv-share-button-facebook" icon="facebook" title="Facebook"></ff-button></a>
            <a href=${i} target="_blank" rel="noopener noreferrer"><ff-button class="sv-share-button-linkedin" icon="linkedin" title="LinkedIn"></ff-button></a>
            <a href=${o} target="_blank"><ff-button class="sv-share-button-email" icon="email" title="Email"></ff-button></a>
        </div>
        <div class="ff-title">Embed Link</div>
        <div class="ff-flex-row sv-embed-link">
            <ff-text-edit text=${a}></ff-text-edit>
            <ff-button icon="copy" title="Copy to Clipboard" @click=${this.onClickCopy}></ff-button>
        </div>
        `}onClickCopy(){this.getElementsByTagName("ff-text-edit").item(0).select(),document.execCommand("copy")}};a=n=i([r.customElement("sv-share-menu")],a),t.default=a},function(e,t,s){"use strict";var n=this&&this.__decorate||function(e,t,s,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r<3?i(a):r>3?i(t,s,a):i(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};Object.defineProperty(t,"__esModule",{value:!0});const i=s(15),r=s(53);let a=class extends i.default{get toolProvider(){return this.system.getMainComponent(r.default)}firstConnected(){super.firstConnected(),this.classList.add("sv-bottom-bar-container","sv-transition","sv-tool-bar"),setTimeout(()=>this.classList.remove("sv-transition"),1)}connected(){super.connected(),this.toolProvider.on("active-component",this.onUpdate,this)}disconnected(){this.toolProvider.off("active-component",this.onUpdate,this),super.disconnected()}render(){const e=this.toolProvider.scopedComponents,t=this.toolProvider.activeComponent,s=e.map(e=>i.html`<ff-button class="sv-tool-button" transparent text=${e.text} icon=${e.icon}
                ?selected=${e===t} @click=${t=>this.onSelectTool(e)}></ff-button>`);return i.html`<div class="sv-blue-bar">${t?t.createView():null}
            <div class="sv-section">
                <ff-button class="sv-section-lead" transparent icon="close" title="Close Tools" @click=${this.onClose}></ff-button>
                <div class="sv-tool-buttons">${s}</div>
                <sv-tool-menu-view .system=${this.system}></sv-tool-menu-view>
            </div></div>`}onSelectTool(e){this.toolProvider.activeComponent=e}onClose(e){this.dispatchEvent(new CustomEvent("close")),e.stopPropagation()}};a=n([i.customElement("sv-tool-bar")],a),t.default=a},function(e,t,s){"use strict";var n=this&&this.__decorate||function(e,t,s,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r<3?i(a):r>3?i(t,s,a):i(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};Object.defineProperty(t,"__esModule",{value:!0}),s(5);const i=s(22);let r=class extends i.default{firstConnected(){super.firstConnected(),this.classList.add("sv-bottom-bar-container","sv-tour-navigator","sv-transition"),setTimeout(()=>this.classList.remove("sv-transition"),1)}render(){const e=this.tours,t=e.activeTour;let s,n;if(e&&t){const t=e.outs.stepIndex.value+1,i=e.outs.stepCount.value;s=i>0?e.outs.stepTitle.value:e.outs.tourTitle.value,n=i>0?`Step ${t} of ${i}`:"No tour steps defined"}else s="No tour selected",n="---";return i.html`<div class="sv-blue-bar"><div class="sv-section">
            <ff-button class="sv-section-lead" transparent icon="close" title="Exit Tour" ?disabled=${!t} @click=${this.onClickExit}></ff-button>
            <div class="ff-ellipsis sv-content">
                <div class="ff-ellipsis sv-title">${s}</div>
                <div class="ff-ellipsis sv-text">${n}</div>
            </div>
            <ff-button class="sv-section-trail" transparent icon="bars" title="Show Tour Menu" @click=${this.onClickMenu}></ff-button>
            <ff-button class="sv-section-trail" transparent icon="triangle-left" title="Go Backward" ?disabled=${!t} @click=${this.onClickPrevious}></ff-button>
            <ff-button class="sv-section-trail" transparent icon="triangle-right" title="Go Forward" ?disabled=${!t} @click=${this.onClickNext}></ff-button>
        </div></div>`}onClickExit(){this.tours.ins.enabled.setValue(!1)}onClickMenu(){this.tours.ins.tourIndex.setValue(-1)}onClickPrevious(){this.tours.ins.previous.set()}onClickNext(){this.tours.ins.next.set()}onActiveDocument(e,t){e&&(this.tours.outs.tourIndex.off("value",this.onUpdate,this),this.tours.outs.stepIndex.off("value",this.onUpdate,this)),t&&(this.tours=t.setup.tours,this.tours.outs.tourIndex.on("value",this.onUpdate,this),this.tours.outs.stepIndex.on("value",this.onUpdate,this)),this.requestUpdate()}};r=n([i.customElement("sv-tour-navigator")],r),t.default=r},function(e,t,s){"use strict";var n=this&&this.__decorate||function(e,t,s,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r<3?i(a):r>3?i(t,s,a):i(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};Object.defineProperty(t,"__esModule",{value:!0});const i=s(2);s(5);let r=class extends i.default{firstConnected(){super.firstConnected(),this.classList.add("sv-document-overlay","sv-article","sv-tour-menu")}renderEntry(e,t){return i.html`<div class="sv-entry" @click=${e=>this.onClickTour(e,t)}>
            <h1>${e.title}</h1>
            <p>${e.lead}</p>
        </div>`}render(){const e=this.tours;return 0===e.length?i.html`<div class="sv-entry">
                <h1>No tours available.</h1>
            </div>`:i.html`<div class="ff-scroll-y">
            ${e.map((e,t)=>this.renderEntry(e,t))}
        </div>`}onClickTour(e,t){e.stopPropagation(),this.dispatchEvent(new CustomEvent("select",{detail:{index:t}}))}};n([i.property({attribute:!1})],r.prototype,"tours",void 0),r=n([i.customElement("sv-tour-menu")],r),t.default=r},function(e,t,s){"use strict";var n=this&&this.__decorate||function(e,t,s,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r<3?i(a):r>3?i(t,s,a):i(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};Object.defineProperty(t,"__esModule",{value:!0}),s(5);const i=s(22);let r=class extends i.default{get activeTags(){return this.viewer?this.viewer.ins.activeTags.value.split(",").map(e=>e.trim()).filter(e=>!!e):[]}get tagCloud(){return this.viewer?this.viewer.outs.tagCloud.value.split(",").map(e=>e.trim()).filter(e=>!!e):[]}firstConnected(){super.firstConnected(),this.classList.add("sv-bottom-bar-container","sv-tag-cloud","sv-transition"),setTimeout(()=>this.classList.remove("sv-transition"),1)}render(){const e=this.activeTags,t=this.tagCloud.map(t=>i.html`<ff-button class="sv-tag-button" transparent text=${t}
                ?selected=${e.indexOf(t)>=0}
                @click=${e=>this.onSelectTag(t)}></ff-button>`);return i.html`<div class="sv-blue-bar"><div class="sv-section">
                <ff-button class="sv-section-lead" transparent icon="close" title="Close Tag Menu" @click=${this.onClickClose}></ff-button>
                <div class="sv-tag-buttons">${t}</div>
        </div></div>`}onClickClose(){this.viewer.ins.annotationsVisible.setValue(!1)}onSelectTag(e){let t=this.activeTags;const s=this.viewer.ins.radioTags.value,n=t.indexOf(e);n>=0&&!s?t.splice(n,1):n<0&&(s?t=[e]:t.push(e)),this.viewer.ins.activeTags.setValue(t.join(", "))}onActiveDocument(e,t){e&&(this.viewer.ins.activeTags.off("value",this.onUpdate,this),this.viewer.outs.tagCloud.off("value",this.onUpdate,this)),t&&(this.viewer=t.setup.viewer,this.viewer.ins.activeTags.on("value",this.onUpdate,this),this.viewer.outs.tagCloud.on("value",this.onUpdate,this))}};r=n([i.customElement("sv-tag-cloud")],r),t.default=r},function(e,t,s){},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(74),i=s(55),r=s(44),a=s(23),o=s(173),l=s(106),d=s(177),c=s(107),u=s(179),h=s(114),p=s(178),m=s(189),f=s(190),v=[n.default,i.default,r.default,a.default,o.default,l.default,d.default,c.default,u.default,h.default,p.default,m.default,f.default];t.default=v},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(e){this._loadingManager=e}put(e,t){return this._loadingManager.itemStart(t),"string"!=typeof e&&(e=JSON.stringify(e)),fetch(t,{headers:{"Content-Type":"application/json"},method:"PUT",credentials:"same-origin",body:e}).then(e=>{if(!e.ok){const s=`fetch PUT at '${t}', error: ${e.status} - ${e.statusText}`;throw console.warn(s),new Error(s)}this._loadingManager.itemEnd(t)})}}},function(e,t,s){"use strict";var n=this&&this.__decorate||function(e,t,s,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r<3?i(a):r>3?i(t,s,a):i(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};Object.defineProperty(t,"__esModule",{value:!0}),s(174);const i=s(2),r=s(56),a=s(10);let o=class extends a.TaskView{render(){const e=this.activeNode;return e?i.html`<div class="ff-flex-item-stretch ff-scroll-y">
            <sv-settings-tree .node=${e}></sv-settings-tree>
        </div>`:i.html`<div class="sv-placeholder">Please select a node to display its properties.</div>`}onActiveNode(e,t){this.requestUpdate()}};o=n([i.customElement("sv-settings-task-view")],o),t.default=o;let l=class extends r.default{constructor(){super(...arguments),this.node=null}firstConnected(){super.firstConnected(),this.classList.add("ff-property-tree","sv-settings-tree")}getClasses(e){return e.classes}update(e){e.has("node")&&(this.root=this.createNodeTreeNode(this.node)),super.update(e)}renderNodeHeader(e){return e.property?i.html`<div class="ff-text ff-property-label ff-ellipsis">${e.text}</div>
                <ff-property-view .property=${e.property}></ff-property-view>`:i.html`<div class="ff-text ff-label ff-ellipsis">${e.text}</div>`}createNodeTreeNode(e){const t=e.components.getArray().filter(e=>e.settingProperties);return{id:e.id,text:e.displayName,classes:"ff-node",children:t.map(e=>({id:e.id,text:e.displayName,classes:"ff-component",property:null,children:this.createPropertyNodes(e.settingProperties)}))}}createPropertyNodes(e){const t={children:[]};return e.forEach(e=>{const s=e.path.split(".");let n=t;const i=s.length,r=i-1;for(let t=0;t<i;++t){const i=s[t];let a=n.children.find(e=>e.text===i);if(!a){a={id:t===r?e.key:i,text:i,classes:"",children:[],property:t===r?e:null},n.children.push(a)}n=a}}),t.children}};n([i.property({attribute:!1})],l.prototype,"node",void 0),l=n([i.customElement("sv-settings-tree")],l),t.SettingsTree=l},function(e,t,s){"use strict";var n=this&&this.__decorate||function(e,t,s,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r<3?i(a):r>3?i(t,s,a):i(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};Object.defineProperty(t,"__esModule",{value:!0});const i=s(454),r=s(73),a=s(166),o=s(2);let l=class extends i.default{constructor(){super(...arguments),this.color=new a.Color,this.alpha=!1,this.numeric=!1,this.popup=null}firstConnected(){super.firstConnected(),this.classList.add("ff-color-button")}showPopup(){const e=new a.default;e.color.copy(this.color),e.alpha=this.alpha,e.numeric=this.numeric;const t=this.popup=new r.default;t.appendElement(e),this.appendElement(t),t.anchor=this,t.keepVisible=!0,t.align="end",t.justify="end",t.position="anchor"}hidePopup(){this.removeChild(this.popup),this.popup=null}update(e){this.style.backgroundColor=this.color.toString(),super.update(e)}};n([o.property({attribute:!1})],l.prototype,"color",void 0),n([o.property({type:Boolean})],l.prototype,"alpha",void 0),n([o.property({type:Boolean})],l.prototype,"numeric",void 0),l=n([o.customElement("ff-color-button")],l),t.default=l},function(e,t,s){"use strict";var n=this&&this.__decorate||function(e,t,s,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r<3?i(a):r>3?i(t,s,a):i(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};Object.defineProperty(t,"__esModule",{value:!0});const i=s(5),r=s(2);let a=class extends i.default{constructor(){super(),this.content=null,this.contentParent=this,this.addEventListener("close",()=>this.selected=!1),this.onPointerDown=this.onPointerDown.bind(this),this.onKeyDown=this.onKeyDown.bind(this)}connected(){document.addEventListener("pointerdown",this.onPointerDown,{capture:!0,passive:!0}),document.addEventListener("keydown",this.onKeyDown,{capture:!0,passive:!0})}disconnected(){document.removeEventListener("pointerdown",this.onPointerDown),document.removeEventListener("keydown",this.onKeyDown)}update(e){super.update(e),e.has("selected")&&(this.selected?this.showPopup():e.get("selected")&&this.hidePopup())}onPointerDown(e){e.target instanceof Node&&!this.contains(e.target)&&(this.selected=!1)}onKeyDown(e){"Escape"===e.key&&(this.selected=!1)}showPopup(){const e=this.content,t=this.contentParent||this;e&&(t.appendChild(e),setTimeout(()=>e.style.opacity="1.0",0))}hidePopup(){const e=this.content,t=this.contentParent||this;if(e&&e.parentElement===t){this.focus(),e.style.opacity="0";const s=parseFloat(window.getComputedStyle(e).transitionDuration)||0;setTimeout(()=>t.removeChild(e),1e3*s)}}};n([r.property({attribute:!1})],a.prototype,"content",void 0),n([r.property({attribute:!1})],a.prototype,"contentParent",void 0),a=n([r.customElement("ff-popup-button")],a),t.default=a},function(e,t,s){"use strict";var n,i=this&&this.__decorate||function(e,t,s,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r<3?i(a):r>3?i(t,s,a):i(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};Object.defineProperty(t,"__esModule",{value:!0});const r=s(73),a=s(2);let o=n=class extends r.default{constructor(e){super(),this.onClick=this.onClick.bind(this),this.onClose=this.onClose.bind(this),this.addEventListener("click",this.onClick),this.addEventListener("close",this.onClose),this.options=e||[],this.selectionIndex=-1}firstConnected(){super.firstConnected(),this.classList.add("ff-popup-options"),this.setStyle({display:"flex",flexDirection:"column"})}render(){return a.html`
            ${this.options.map((e,t)=>a.html`
                <button>${e}</button>
            `)}
        `}updated(){super.updated();const e=this.selectionIndex>=0?this.selectionIndex:0,t=this.children.item(e);t&&t.focus()}onClick(e){const t=this.getChildrenArray().indexOf(e.target);t>=0&&t<this.options.length&&this.dispatchEvent(new CustomEvent(n.selectEvent,{detail:{index:t,option:this.options[t]}})),this.remove()}onClose(){this.remove()}};o.selectEvent="ff-select",i([a.property({attribute:!1})],o.prototype,"options",void 0),i([a.property({type:Number})],o.prototype,"selectionIndex",void 0),o=n=i([a.customElement("ff-popup-options")],o),t.default=o},function(e,t,s){"use strict";var n=this&&this.__decorate||function(e,t,s,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r<3?i(a):r>3?i(t,s,a):i(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};Object.defineProperty(t,"__esModule",{value:!0});const i=s(2);s(33),s(5),s(176);const r=s(106),a=s(10),o=s(31);let l=class extends a.TaskView{connected(){super.connected(),this.task.on("update",this.onUpdate,this),this.task.outs.size.on("value",this.onUpdate,this)}disconnected(){this.task.outs.size.off("value",this.onUpdate,this),this.task.off("update",this.onUpdate,this),super.disconnected()}render(){const e=this.activeNode,t=e&&e.model;if(!t)return i.html`<div class="sv-placeholder">Please select a model to edit its pose</div>`;const s=this.task.outs.size.value,n=`${s[0].toFixed(2)} x ${s[1].toFixed(2)} x ${s[2].toFixed(2)} ${o.EUnitType[t.ins.globalUnits.value]}`,a=this.task.ins.mode,l=this.activeDocument.root.scene.ins.units,d=t.ins.localUnits,c=t.ins.position,u=t.ins.rotation;return i.html`
            <div class="sv-commands">
                <ff-button icon="select" text="Select" index=${r.EPoseManipMode.Off} selectedIndex=${a.value} @click=${this.onClickMode}></ff-button>
                <ff-button icon="rotate" text="Rotate" index=${r.EPoseManipMode.Rotate} selectedIndex=${a.value} @click=${this.onClickMode}></ff-button>
                <ff-button icon="move" text="Move" index=${r.EPoseManipMode.Translate} selectedIndex=${a.value} @click=${this.onClickMode}></ff-button>
                <ff-button icon="compress" text="Center" @click=${this.onClickCenter}></ff-button>
                <ff-button icon="expand" text="Zoom Extents" @click=${this.onClickZoomExtents}></ff-button>
            </div>
            <div class="ff-flex-item-stretch"><div class="ff-scroll-y ff-flex-column sv-detail-view">
                <div class="sv-label-right">${n}</div>
                <sv-property-view .property=${l} label="Global Units"></sv-property-view>    
                <sv-property-view .property=${d} label="Item Units"></sv-property-view>
                <sv-property-view .property=${c}></sv-property-view>
                <sv-property-view .property=${u}></sv-property-view>
            </div></div>`}onClickMode(e){this.task.ins.mode.setValue(e.target.index)}onClickCenter(){this.activeNode.model.ins.center.set()}onClickZoomExtents(){this.activeDocument.setup.navigation.ins.zoomExtents.set()}};l=n([i.customElement("sv-pose-task-view")],l),t.default=l},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={dataURItoBlob:function(e){const t=atob(e.split(",")[1]),s=new ArrayBuffer(t.length),n=new Uint8Array(s);for(var i=0;i<t.length;i++)n[i]=t.charCodeAt(i);var r=e.split(",")[0].split(":")[1].split(";")[0];return new Blob([s],{type:r})}}},function(e,t,s){"use strict";var n=this&&this.__decorate||function(e,t,s,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r<3?i(a):r>3?i(t,s,a):i(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};Object.defineProperty(t,"__esModule",{value:!0}),s(33),s(5),s(176);const i=s(10);let r=class extends i.TaskView{connected(){super.connected(),this.task.outs.ready.on("value",this.onPictureTaken,this)}disconnected(){this.task.outs.ready.off("value",this.onPictureTaken,this),super.disconnected()}render(){if(!this.task.activeMeta&&!this.task.activeModel)return i.html`<div class="sv-placeholder">Please select a model or scene to to take a picture</div>`;const e=this.task.ins,t=this.task.outs.ready.value,s=this.task.getImageElement(),n=s?i.html`<div class="sv-label">Preview</div>
            <div class="sv-image">${s}</div>`:null;return i.html`<div class="sv-commands">
                <ff-button text="Take" icon="camera" @click=${this.onClickTake}></ff-button>
                <ff-button text="Save" icon="save" ?disabled=${!t} @click=${this.onClickSave}></ff-button>
                <ff-button text="Download" icon="download" ?disabled=${!t} @click=${this.onClickDownload}></ff-button>
            </div>
            <div class="ff-flex-item-stretch"><div class="ff-scroll-y ff-flex-column sv-detail-view">
                <sv-property-view .property=${e.type}></sv-property-view>
                <sv-property-view .property=${e.quality}></sv-property-view>
                ${n}
            </div></div>`}onClickTake(){this.task.ins.take.set()}onClickSave(){this.task.ins.save.set()}onClickDownload(){this.task.ins.download.set()}onPictureTaken(){this.requestUpdate()}};r=n([i.customElement("sv-capture-task-view")],r),t.default=r},function(e,t,s){"use strict";var n=this&&this.__decorate||function(e,t,s,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r<3?i(a):r>3?i(t,s,a):i(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};Object.defineProperty(t,"__esModule",{value:!0});const i=s(2);s(54),s(104),s(33),s(460);const r=s(50),a=s(107),o=s(10);let l=class extends o.TaskView{connected(){super.connected(),this.task.on("update",this.onUpdate,this)}disconnected(){this.task.off("update",this.onUpdate,this),super.disconnected()}render(){const e=this.activeNode,t=e&&e.getComponent(r.default,!0);if(!t)return i.html`<div class="sv-placeholder">Please select a model to edit its annotations</div>`;const s=t.ins,n=this.task.ins.mode,o=t.getAnnotations(),l=t.activeAnnotation,d=l?i.html`<div class="ff-scroll-y ff-flex-column sv-detail-view">
            <sv-property-view .property=${s.style}></sv-property-view>
            <sv-property-view .property=${s.scale}></sv-property-view>
            <sv-property-view .property=${s.offset}></sv-property-view>
            <sv-property-view .property=${s.color}></sv-property-view>
            <sv-property-view .property=${s.article}></sv-property-view>
            <sv-property-view .property=${s.image}></sv-property-view>
            <sv-property-view .property=${s.tags}></sv-property-view>
            <sv-property-view .property=${s.marker}></sv-property-view>
            <sv-property-view .property=${s.title}></sv-property-view>
            <div class="sv-label">Lead</div>
            <ff-text-edit name="lead" text=${s.lead.value} @change=${this.onTextEdit}></ff-text-edit>
        </div>`:null;return i.html`<div class="sv-commands">
            <ff-button text="Select" icon="select" index=${a.EAnnotationsTaskMode.Off} selectedIndex=${n.value} @click=${this.onClickMode}></ff-button>       
            <ff-button text="Move" icon="move" index=${a.EAnnotationsTaskMode.Move} selectedIndex=${n.value} @click=${this.onClickMode}></ff-button>       
            <ff-button text="Create" icon="create" index=${a.EAnnotationsTaskMode.Create} selectedIndex=${n.value} @click=${this.onClickMode}></ff-button>       
            <ff-button text="Delete" icon="trash" ?disabled=${!l} @click=${this.onClickDelete}></ff-button>  
        </div>
        <div class="ff-flex-item-stretch">
            <div class="ff-flex-column ff-fullsize">
                <div class="ff-splitter-section" style="flex-basis: 30%">
                    <div class="ff-scroll-y ff-flex-column">
                        <sv-annotation-list .data=${o} .selectedItem=${l} @select=${this.onSelectAnnotation}></sv-annotation-list>
                    </div>
                </div>
                <ff-splitter direction="vertical"></ff-splitter>
                <div class="ff-splitter-section" style="flex-basis: 70%">
                    ${d}
                </div>
            </div>
        </div>`}onTextEdit(e){const t=this.task.activeAnnotations;if(t){const s=e.target,n=e.detail.text;"lead"===s.name&&t.ins.lead.setValue(n)}}onClickMode(e){this.task.ins.mode.setValue(e.target.index)}onClickDelete(){this.task.removeAnnotation()}onSelectAnnotation(e){this.task.activeAnnotations&&(this.task.activeAnnotations.activeAnnotation=e.detail.annotation)}};l=n([i.customElement("sv-annotations-task-view")],l),t.default=l},function(e,t,s){"use strict";var n=this&&this.__decorate||function(e,t,s,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r<3?i(a):r>3?i(t,s,a):i(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};Object.defineProperty(t,"__esModule",{value:!0});const i=s(2),r=s(57);let a=class extends r.default{constructor(){super(...arguments),this.selectedItem=null}firstConnected(){super.firstConnected(),this.classList.add("sv-annotation-list")}renderItem(e){return e.data.title}isItemSelected(e){return e===this.selectedItem}onClickItem(e,t){this.dispatchEvent(new CustomEvent("select",{detail:{annotation:t}}))}onClickEmpty(e){this.dispatchEvent(new CustomEvent("select",{detail:{annotation:null}}))}};n([i.property({attribute:!1})],a.prototype,"selectedItem",void 0),a=n([i.customElement("sv-annotation-list")],a)},function(e,t,s){"use strict";var n=this&&this.__decorate||function(e,t,s,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r<3?i(a):r>3?i(t,s,a):i(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};Object.defineProperty(t,"__esModule",{value:!0});const i=s(2);s(33),s(5);const r=s(31),a=s(10);s(462);let o=class extends a.TaskView{render(){const e=this.activeNode,t=e&&e.model;if(!t)return i.html`<div class="sv-placeholder">Please select a model node to inspect its derivatives</div>`;const s=t.derivatives.getByUsage(r.EDerivativeUsage.Web3D),n=t.ins.quality.value,a=t.derivatives.get(r.EDerivativeUsage.Web3D,n),o=t.outs.quality.value,l=t.derivatives.get(r.EDerivativeUsage.Web3D,o),d=a?i.html``:null;return i.html`<div class="ff-flex-row ff-flex-wrap">
        </div>
        <sv-derivative-list .data=${s} .selectedItem=${a} .loadedItem=${l} @select=${this.onSelectDerivative}></sv-derivative-list>
        ${d}`}onSelectDerivative(e){this.activeNode.model.ins.quality.setValue(e.detail.derivative.data.quality)}onActiveNode(e,t){e&&e.model&&(e.model.ins.quality.off("value",this.onUpdate,this),e.model.outs.quality.off("value",this.onUpdate,this)),t&&t.model&&(t.model.ins.quality.on("value",this.onUpdate,this),t.model.outs.quality.on("value",this.onUpdate,this)),super.onActiveNode(e,t)}};o=n([i.customElement("sv-derivatives-task-view")],o),t.default=o},function(e,t,s){"use strict";var n=this&&this.__decorate||function(e,t,s,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r<3?i(a):r>3?i(t,s,a):i(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};Object.defineProperty(t,"__esModule",{value:!0});const i=s(2),r=s(57),a=s(140);let o=class extends r.default{constructor(){super(...arguments),this.selectedItem=null,this.loadedItem=null}firstConnected(){super.firstConnected(),this.classList.add("sv-derivative-list")}renderItem(e){const t=e===this.loadedItem;return i.html`<ff-icon name=${t?"check":"empty"}></ff-icon>
            <span>${a.EDerivativeUsage[e.data.usage]} - ${a.EDerivativeQuality[e.data.quality]}</span>`}isItemSelected(e){return e===this.selectedItem}onClickItem(e,t){this.dispatchEvent(new CustomEvent("select",{detail:{derivative:t}}))}onClickEmpty(e){this.dispatchEvent(new CustomEvent("select",{detail:{derivative:null}}))}};n([i.property({attribute:!1})],o.prototype,"selectedItem",void 0),n([i.property({attribute:!1})],o.prototype,"loadedItem",void 0),o=n([i.customElement("sv-derivative-list")],o)},function(e,t,s){"use strict";const n=s(464),i=s(465),r=s(466),a=s(467),o=/[\u0000-\u001f\u0080-\u009f]/g,l=/^\.+/,d=(e,t={})=>{if("string"!=typeof e)throw new TypeError("Expected a string");const s=void 0===t.replacement?"!":t.replacement;if(r().test(s)&&o.test(s))throw new Error("Replacement string cannot contain reserved filename characters");return e=(e=(e=e.replace(r(),s)).replace(o,s)).replace(l,s),s.length>0&&(e=(e=i(e,s)).length>1?a(e,s):e),e=(e=r.windowsNames().test(e)?e+s:e).slice(0,"number"==typeof t.maxLength?t.maxLength:100)};d.path=(e,t)=>(e=n.resolve(e),n.join(n.dirname(e),d(n.basename(e),t))),e.exports=d},function(e,t,s){(function(e){function s(e,t){for(var s=0,n=e.length-1;n>=0;n--){var i=e[n];"."===i?e.splice(n,1):".."===i?(e.splice(n,1),s++):s&&(e.splice(n,1),s--)}if(t)for(;s--;s)e.unshift("..");return e}function n(e,t){if(e.filter)return e.filter(t);for(var s=[],n=0;n<e.length;n++)t(e[n],n,e)&&s.push(e[n]);return s}t.resolve=function(){for(var t="",i=!1,r=arguments.length-1;r>=-1&&!i;r--){var a=r>=0?arguments[r]:e.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(t=a+"/"+t,i="/"===a.charAt(0))}return(i?"/":"")+(t=s(n(t.split("/"),(function(e){return!!e})),!i).join("/"))||"."},t.normalize=function(e){var r=t.isAbsolute(e),a="/"===i(e,-1);return(e=s(n(e.split("/"),(function(e){return!!e})),!r).join("/"))||r||(e="."),e&&a&&(e+="/"),(r?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(n(e,(function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,s){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var s=e.length-1;s>=0&&""===e[s];s--);return t>s?[]:e.slice(t,s-t+1)}e=t.resolve(e).substr(1),s=t.resolve(s).substr(1);for(var i=n(e.split("/")),r=n(s.split("/")),a=Math.min(i.length,r.length),o=a,l=0;l<a;l++)if(i[l]!==r[l]){o=l;break}var d=[];for(l=o;l<i.length;l++)d.push("..");return(d=d.concat(r.slice(o))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),s=47===t,n=-1,i=!0,r=e.length-1;r>=1;--r)if(47===(t=e.charCodeAt(r))){if(!i){n=r;break}}else i=!1;return-1===n?s?"/":".":s&&1===n?"/":e.slice(0,n)},t.basename=function(e,t){var s=function(e){"string"!=typeof e&&(e+="");var t,s=0,n=-1,i=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!i){s=t+1;break}}else-1===n&&(i=!1,n=t+1);return-1===n?"":e.slice(s,n)}(e);return t&&s.substr(-1*t.length)===t&&(s=s.substr(0,s.length-t.length)),s},t.extname=function(e){"string"!=typeof e&&(e+="");for(var t=-1,s=0,n=-1,i=!0,r=0,a=e.length-1;a>=0;--a){var o=e.charCodeAt(a);if(47!==o)-1===n&&(i=!1,n=a+1),46===o?-1===t?t=a:1!==r&&(r=1):-1!==t&&(r=-1);else if(!i){s=a+1;break}}return-1===t||-1===n||0===r||1===r&&t===n-1&&t===s+1?"":e.slice(t,n)};var i="b"==="ab".substr(-1)?function(e,t,s){return e.substr(t,s)}:function(e,t,s){return t<0&&(t=e.length+t),e.substr(t,s)}}).call(this,s(58))},function(e,t,s){"use strict";var n=s(180);e.exports=function(e,t){if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected a string");return e.replace(new RegExp("(?:"+n(t)+"){2,}","g"),t)}},function(e,t,s){"use strict";e.exports=()=>/[<>:"\/\\|?*\x00-\x1F]/g,e.exports.windowsNames=()=>/^(con|prn|aux|nul|com[0-9]|lpt[0-9])$/i},function(e,t,s){"use strict";var n=s(180);e.exports=function(e,t){if("string"!=typeof e||"string"!=typeof t)throw new TypeError;return t=n(t),e.replace(new RegExp("^"+t+"|"+t+"$","g"),"")}},function(e,t,s){"use strict";var n=this&&this.__decorate||function(e,t,s,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r<3?i(a):r>3?i(t,s,a):i(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};Object.defineProperty(t,"__esModule",{value:!0});const i=s(2),r=s(57),a=s(75),o=s(10);let l=class extends o.TaskView{connected(){super.connected(),this.task.outs.article.on("value",this.onUpdate,this)}disconnected(){this.task.outs.article.off("value",this.onUpdate,this),super.disconnected()}render(){const e=this.task,t=e.articles,s=e.activeArticle;if(!t)return i.html`<div class="sv-placeholder">Please select a scene or model node to edit its articles.</div>`;const n=e.ins,r=s?i.html`<div class="ff-scroll-y ff-flex-column sv-detail-view">
            <div class="sv-label">Title</div>
            <ff-line-edit name="title" text=${n.title.value} @change=${this.onTextEdit}></ff-line-edit>
            <div class="sv-label">Tags</div>
            <ff-line-edit name="tags" text=${n.tags.value} @change=${this.onTextEdit}></ff-line-edit>
            <div class="sv-label">Lead</div>
            <ff-text-edit name="lead" text=${n.lead.value} @change=${this.onTextEdit}></ff-text-edit>
            <div class="sv-label">URI</div>
            <ff-line-edit name="uri" text=${n.uri.value} @change=${this.onTextEdit}></ff-line-edit>
        </div>`:null,a=s?s.data.uri:null;return i.html`<div class="sv-commands">
            <ff-button text="Create" icon="create" @click=${this.onClickCreate}></ff-button>       
            <ff-button text="Edit" icon="pen" ?disabled=${!a} @click=${this.onClickEdit}></ff-button>       
            <ff-button text="Delete" icon="trash" ?disabled=${!s} @click=${this.onClickDelete}></ff-button>  
        </div>
        <div class="ff-flex-item-stretch">
            <div class="ff-flex-column ff-fullsize">
                <div class="ff-splitter-section" style="flex-basis: 30%">
                    <div class="ff-scroll-y ff-flex-column">
                        <sv-article-list .data=${t.slice()} .selectedItem=${s} @select=${this.onSelectArticle} @edit=${this.onEditArticle}></sv-article-list>
                    </div>
                </div>
                <ff-splitter direction="vertical"></ff-splitter>
                <div class="ff-splitter-section" style="flex-basis: 70%">
                    ${r}
                </div>
            </div>
        </div>`}onClickCreate(){this.task.ins.create.set()}onClickEdit(){this.task.ins.edit.set()}onClickDelete(){a.default.show("Delete Article","Are you sure?","warning","ok-cancel").then(e=>{e.ok&&this.task.ins.delete.set()})}onTextEdit(e){const t=this.task,s=e.target,n=e.detail.text;"title"===s.name&&t.ins.title.setValue(n),"lead"===s.name&&t.ins.lead.setValue(n),"tags"===s.name&&t.ins.tags.setValue(n),"uri"===s.name&&t.ins.uri.setValue(n)}onSelectArticle(e){const t=e.detail.article;this.task.reader.ins.articleId.setValue(t?t.id:"")}onEditArticle(e){this.task.ins.edit.set()}};l=n([i.customElement("sv-articles-task-view")],l),t.default=l;let d=class extends r.default{constructor(){super(...arguments),this.selectedItem=null}firstConnected(){super.firstConnected(),this.classList.add("sv-document-list")}renderItem(e){return e.data.title}isItemSelected(e){return e===this.selectedItem}onClickItem(e,t){this.dispatchEvent(new CustomEvent("select",{detail:{article:t}}))}onDblClickItem(e,t,s){this.dispatchEvent(new CustomEvent("edit",{detail:{article:t}}))}onClickEmpty(e){this.dispatchEvent(new CustomEvent("select",{detail:{article:null}}))}};n([i.property({attribute:!1})],d.prototype,"selectedItem",void 0),d=n([i.customElement("sv-article-list")],d),t.ArticleList=d},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(470),i=s(88),r=function(e){if(e.elements){const t={},s=[];e.elements.forEach(e=>{r(e),"element"===e.type&&e.name?t[e.name]=e:"text"===e.type&&s.push(e.text)}),e.dict=t,e.texts=s}return e};t.default=class{constructor(e){this.rootUrl=e||window.location.href}set rootUrl(e){this._rootUrl=e,this._rootPath=new URL(e).pathname}get rootUrl(){return this._rootUrl}get rootPath(){return this._rootPath}get(e,t){e="object"==typeof e?e.path:e;const s=i.default(e,this.rootUrl),a={headers:{"Content-Type":"text/xml"},method:"PROPFIND"};return t||(a.headers.Depth="1"),fetch(s,a).then(e=>{if(!e.ok)throw new Error(`failed to get content: ${e.status} ${e.statusText}`);return e.text()}).then(e=>n.xml2js(e)).then(e=>r(e.elements[0])).then(e=>this.parseMultistatus(e))}create(e,t){e="object"==typeof e?e.path:e;let s=i.default(e,this.rootUrl);s=i.default(t,s);return fetch(s,{headers:{"Content-Type":"text/xml"},method:"MKCOL"}).then(e=>{if(!e.ok)throw new Error(`failed to create folder: ${e.status} ${e.statusText}`)})}delete(e){e="object"==typeof e?e.path:e;const t=i.default(e,this.rootUrl);return fetch(t,{headers:{"Content-Type":"text/xml"},method:"DELETE"}).then(e=>{if(!e.ok)throw new Error(`failed to delete: ${e.status} ${e.statusText}`)})}rename(e,t){const s=(e="object"==typeof e?e.path:e).split("/");s.pop();const n=s.join("/")+"/"+t;return this.move(e,n)}move(e,t){e="object"==typeof e?e.path:e,t="object"==typeof t?t.path:t;const s={headers:{"Content-Type":"text/xml",Destination:encodeURI(i.default(t,this.rootUrl)),Overwrite:"F"},method:"MOVE"},n=encodeURI(i.default(e,this.rootUrl));return fetch(n,s).then(e=>{if(!e.ok)throw new Error(`failed to move/rename: ${e.status} ${e.statusText}`)})}exists(e){return this.get(e,!1).then(()=>!0).catch(()=>!1)}parseMultistatus(e){return"D:multistatus"!==e.name?null:e.elements.filter(e=>"D:response"===e.name).map(e=>this.parseResponse(e))}parseResponse(e){const t=e.dict["D:propstat"].dict["D:prop"],s=t.dict["D:resourcetype"],n=!(!s||!s.elements)&&!!s.dict["D:collection"],i=t.dict["D:getcontentlength"],r=t.dict["D:getcontenttype"],a={url:decodeURI(e.dict["D:href"].elements[0].text),name:decodeURI(t.dict["D:displayname"].elements[0].text),created:t.dict["D:creationdate"].elements[0].text,modified:t.dict["D:getlastmodified"].elements[0].text,folder:n,size:i?i.elements[0].text:0,type:r?r.elements[0].text:""};let o=new URL(a.url).pathname;const l=o.indexOf(this._rootPath);return l>=0&&(o=o.substr(l+this._rootPath.length)),a.path=o,a}}},function(e,t,s){var n=s(182),i=s(486),r=s(188),a=s(487);e.exports={xml2js:n,xml2json:i,js2xml:r,json2xml:a}},function(e,t,s){(function(e){!function(t){t.parser=function(e,t){return new r(e,t)},t.SAXParser=r,t.SAXStream=o,t.createStream=function(e,t){return new o(e,t)},t.MAX_BUFFER_LENGTH=65536;var n,i=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function r(e,s){if(!(this instanceof r))return new r(e,s);!function(e){for(var t=0,s=i.length;t<s;t++)e[i[t]]=""}(this),this.q=this.c="",this.bufferCheckPosition=t.MAX_BUFFER_LENGTH,this.opt=s||{},this.opt.lowercase=this.opt.lowercase||this.opt.lowercasetags,this.looseCase=this.opt.lowercase?"toLowerCase":"toUpperCase",this.tags=[],this.closed=this.closedRoot=this.sawRoot=!1,this.tag=this.error=null,this.strict=!!e,this.noscript=!(!e&&!this.opt.noscript),this.state=T.BEGIN,this.strictEntities=this.opt.strictEntities,this.ENTITIES=this.strictEntities?Object.create(t.XML_ENTITIES):Object.create(t.ENTITIES),this.attribList=[],this.opt.xmlns&&(this.ns=Object.create(h)),this.trackPosition=!1!==this.opt.position,this.trackPosition&&(this.position=this.line=this.column=0),k(this,"onready")}t.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(e){function t(){}return t.prototype=e,new t}),Object.keys||(Object.keys=function(e){var t=[];for(var s in e)e.hasOwnProperty(s)&&t.push(s);return t}),r.prototype={end:function(){Y(this)},write:function(e){if(this.error)throw this.error;if(this.closed)return C(this,"Cannot write after close. Assign an onready handler.");if(null===e)return Y(this);"object"==typeof e&&(e=e.toString());var s=0,n="";for(;n=V(e,s++),this.c=n,n;)switch(this.trackPosition&&(this.position++,"\n"===n?(this.line++,this.column=0):this.column++),this.state){case T.BEGIN:if(this.state=T.BEGIN_WHITESPACE,"\ufeff"===n)continue;F(this,n);continue;case T.BEGIN_WHITESPACE:F(this,n);continue;case T.TEXT:if(this.sawRoot&&!this.closedRoot){for(var r=s-1;n&&"<"!==n&&"&"!==n;)(n=V(e,s++))&&this.trackPosition&&(this.position++,"\n"===n?(this.line++,this.column=0):this.column++);this.textNode+=e.substring(r,s-1)}"<"!==n||this.sawRoot&&this.closedRoot&&!this.strict?(_(n)||this.sawRoot&&!this.closedRoot||A(this,"Text data outside of root node."),"&"===n?this.state=T.TEXT_ENTITY:this.textNode+=n):(this.state=T.OPEN_WAKA,this.startTagPosition=this.position);continue;case T.SCRIPT:"<"===n?this.state=T.SCRIPT_ENDING:this.script+=n;continue;case T.SCRIPT_ENDING:"/"===n?this.state=T.CLOSE_TAG:(this.script+="<"+n,this.state=T.SCRIPT);continue;case T.OPEN_WAKA:if("!"===n)this.state=T.SGML_DECL,this.sgmlDecl="";else if(_(n));else if(b(p,n))this.state=T.OPEN_TAG,this.tagName=n;else if("/"===n)this.state=T.CLOSE_TAG,this.tagName="";else if("?"===n)this.state=T.PROC_INST,this.procInstName=this.procInstBody="";else{if(A(this,"Unencoded <"),this.startTagPosition+1<this.position){var a=this.position-this.startTagPosition;n=new Array(a).join(" ")+n}this.textNode+="<"+n,this.state=T.TEXT}continue;case T.SGML_DECL:(this.sgmlDecl+n).toUpperCase()===l?(D(this,"onopencdata"),this.state=T.CDATA,this.sgmlDecl="",this.cdata=""):this.sgmlDecl+n==="--"?(this.state=T.COMMENT,this.comment="",this.sgmlDecl=""):(this.sgmlDecl+n).toUpperCase()===d?(this.state=T.DOCTYPE,(this.doctype||this.sawRoot)&&A(this,"Inappropriately located doctype declaration"),this.doctype="",this.sgmlDecl=""):">"===n?(D(this,"onsgmldeclaration",this.sgmlDecl),this.sgmlDecl="",this.state=T.TEXT):y(n)?(this.state=T.SGML_DECL_QUOTED,this.sgmlDecl+=n):this.sgmlDecl+=n;continue;case T.SGML_DECL_QUOTED:n===this.q&&(this.state=T.SGML_DECL,this.q=""),this.sgmlDecl+=n;continue;case T.DOCTYPE:">"===n?(this.state=T.TEXT,D(this,"ondoctype",this.doctype),this.doctype=!0):(this.doctype+=n,"["===n?this.state=T.DOCTYPE_DTD:y(n)&&(this.state=T.DOCTYPE_QUOTED,this.q=n));continue;case T.DOCTYPE_QUOTED:this.doctype+=n,n===this.q&&(this.q="",this.state=T.DOCTYPE);continue;case T.DOCTYPE_DTD:this.doctype+=n,"]"===n?this.state=T.DOCTYPE:y(n)&&(this.state=T.DOCTYPE_DTD_QUOTED,this.q=n);continue;case T.DOCTYPE_DTD_QUOTED:this.doctype+=n,n===this.q&&(this.state=T.DOCTYPE_DTD,this.q="");continue;case T.COMMENT:"-"===n?this.state=T.COMMENT_ENDING:this.comment+=n;continue;case T.COMMENT_ENDING:"-"===n?(this.state=T.COMMENT_ENDED,this.comment=P(this.opt,this.comment),this.comment&&D(this,"oncomment",this.comment),this.comment=""):(this.comment+="-"+n,this.state=T.COMMENT);continue;case T.COMMENT_ENDED:">"!==n?(A(this,"Malformed comment"),this.comment+="--"+n,this.state=T.COMMENT):this.state=T.TEXT;continue;case T.CDATA:"]"===n?this.state=T.CDATA_ENDING:this.cdata+=n;continue;case T.CDATA_ENDING:"]"===n?this.state=T.CDATA_ENDING_2:(this.cdata+="]"+n,this.state=T.CDATA);continue;case T.CDATA_ENDING_2:">"===n?(this.cdata&&D(this,"oncdata",this.cdata),D(this,"onclosecdata"),this.cdata="",this.state=T.TEXT):"]"===n?this.cdata+="]":(this.cdata+="]]"+n,this.state=T.CDATA);continue;case T.PROC_INST:"?"===n?this.state=T.PROC_INST_ENDING:_(n)?this.state=T.PROC_INST_BODY:this.procInstName+=n;continue;case T.PROC_INST_BODY:if(!this.procInstBody&&_(n))continue;"?"===n?this.state=T.PROC_INST_ENDING:this.procInstBody+=n;continue;case T.PROC_INST_ENDING:">"===n?(D(this,"onprocessinginstruction",{name:this.procInstName,body:this.procInstBody}),this.procInstName=this.procInstBody="",this.state=T.TEXT):(this.procInstBody+="?"+n,this.state=T.PROC_INST_BODY);continue;case T.OPEN_TAG:b(m,n)?this.tagName+=n:(j(this),">"===n?N(this):"/"===n?this.state=T.OPEN_TAG_SLASH:(_(n)||A(this,"Invalid character in tag name"),this.state=T.ATTRIB));continue;case T.OPEN_TAG_SLASH:">"===n?(N(this,!0),H(this)):(A(this,"Forward-slash in opening tag not followed by >"),this.state=T.ATTRIB);continue;case T.ATTRIB:if(_(n))continue;">"===n?N(this):"/"===n?this.state=T.OPEN_TAG_SLASH:b(p,n)?(this.attribName=n,this.attribValue="",this.state=T.ATTRIB_NAME):A(this,"Invalid attribute name");continue;case T.ATTRIB_NAME:"="===n?this.state=T.ATTRIB_VALUE:">"===n?(A(this,"Attribute without value"),this.attribValue=this.attribName,R(this),N(this)):_(n)?this.state=T.ATTRIB_NAME_SAW_WHITE:b(m,n)?this.attribName+=n:A(this,"Invalid attribute name");continue;case T.ATTRIB_NAME_SAW_WHITE:if("="===n)this.state=T.ATTRIB_VALUE;else{if(_(n))continue;A(this,"Attribute without value"),this.tag.attributes[this.attribName]="",this.attribValue="",D(this,"onattribute",{name:this.attribName,value:""}),this.attribName="",">"===n?N(this):b(p,n)?(this.attribName=n,this.state=T.ATTRIB_NAME):(A(this,"Invalid attribute name"),this.state=T.ATTRIB)}continue;case T.ATTRIB_VALUE:if(_(n))continue;y(n)?(this.q=n,this.state=T.ATTRIB_VALUE_QUOTED):(A(this,"Unquoted attribute value"),this.state=T.ATTRIB_VALUE_UNQUOTED,this.attribValue=n);continue;case T.ATTRIB_VALUE_QUOTED:if(n!==this.q){"&"===n?this.state=T.ATTRIB_VALUE_ENTITY_Q:this.attribValue+=n;continue}R(this),this.q="",this.state=T.ATTRIB_VALUE_CLOSED;continue;case T.ATTRIB_VALUE_CLOSED:_(n)?this.state=T.ATTRIB:">"===n?N(this):"/"===n?this.state=T.OPEN_TAG_SLASH:b(p,n)?(A(this,"No whitespace between attributes"),this.attribName=n,this.attribValue="",this.state=T.ATTRIB_NAME):A(this,"Invalid attribute name");continue;case T.ATTRIB_VALUE_UNQUOTED:if(!g(n)){"&"===n?this.state=T.ATTRIB_VALUE_ENTITY_U:this.attribValue+=n;continue}R(this),">"===n?N(this):this.state=T.ATTRIB;continue;case T.CLOSE_TAG:if(this.tagName)">"===n?H(this):b(m,n)?this.tagName+=n:this.script?(this.script+="</"+this.tagName,this.tagName="",this.state=T.SCRIPT):(_(n)||A(this,"Invalid tagname in closing tag"),this.state=T.CLOSE_TAG_SAW_WHITE);else{if(_(n))continue;M(p,n)?this.script?(this.script+="</"+n,this.state=T.SCRIPT):A(this,"Invalid tagname in closing tag."):this.tagName=n}continue;case T.CLOSE_TAG_SAW_WHITE:if(_(n))continue;">"===n?H(this):A(this,"Invalid characters in closing tag");continue;case T.TEXT_ENTITY:case T.ATTRIB_VALUE_ENTITY_Q:case T.ATTRIB_VALUE_ENTITY_U:var o,c;switch(this.state){case T.TEXT_ENTITY:o=T.TEXT,c="textNode";break;case T.ATTRIB_VALUE_ENTITY_Q:o=T.ATTRIB_VALUE_QUOTED,c="attribValue";break;case T.ATTRIB_VALUE_ENTITY_U:o=T.ATTRIB_VALUE_UNQUOTED,c="attribValue"}";"===n?(this[c]+=I(this),this.entity="",this.state=o):b(this.entity.length?v:f,n)?this.entity+=n:(A(this,"Invalid character in entity name"),this[c]+="&"+this.entity+n,this.entity="",this.state=o);continue;default:throw new Error(this,"Unknown state: "+this.state)}this.position>=this.bufferCheckPosition&&function(e){for(var s=Math.max(t.MAX_BUFFER_LENGTH,10),n=0,r=0,a=i.length;r<a;r++){var o=e[i[r]].length;if(o>s)switch(i[r]){case"textNode":S(e);break;case"cdata":D(e,"oncdata",e.cdata),e.cdata="";break;case"script":D(e,"onscript",e.script),e.script="";break;default:C(e,"Max buffer length exceeded: "+i[r])}n=Math.max(n,o)}var l=t.MAX_BUFFER_LENGTH-n;e.bufferCheckPosition=l+e.position}(this);return this},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){var e;S(e=this),""!==e.cdata&&(D(e,"oncdata",e.cdata),e.cdata=""),""!==e.script&&(D(e,"onscript",e.script),e.script="")}};try{n=s(474).Stream}catch(e){n=function(){}}var a=t.EVENTS.filter((function(e){return"error"!==e&&"end"!==e}));function o(e,t){if(!(this instanceof o))return new o(e,t);n.apply(this),this._parser=new r(e,t),this.writable=!0,this.readable=!0;var s=this;this._parser.onend=function(){s.emit("end")},this._parser.onerror=function(e){s.emit("error",e),s._parser.error=null},this._decoder=null,a.forEach((function(e){Object.defineProperty(s,"on"+e,{get:function(){return s._parser["on"+e]},set:function(t){if(!t)return s.removeAllListeners(e),s._parser["on"+e]=t,t;s.on(e,t)},enumerable:!0,configurable:!1})}))}o.prototype=Object.create(n.prototype,{constructor:{value:o}}),o.prototype.write=function(t){if("function"==typeof e&&"function"==typeof e.isBuffer&&e.isBuffer(t)){if(!this._decoder){var n=s(111).StringDecoder;this._decoder=new n("utf8")}t=this._decoder.write(t)}return this._parser.write(t.toString()),this.emit("data",t),!0},o.prototype.end=function(e){return e&&e.length&&this.write(e),this._parser.end(),!0},o.prototype.on=function(e,t){var s=this;return s._parser["on"+e]||-1===a.indexOf(e)||(s._parser["on"+e]=function(){var t=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);t.splice(0,0,e),s.emit.apply(s,t)}),n.prototype.on.call(s,e,t)};var l="[CDATA[",d="DOCTYPE",c="http://www.w3.org/XML/1998/namespace",u="http://www.w3.org/2000/xmlns/",h={xml:c,xmlns:u},p=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,m=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,f=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,v=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function _(e){return" "===e||"\n"===e||"\r"===e||"\t"===e}function y(e){return'"'===e||"'"===e}function g(e){return">"===e||_(e)}function b(e,t){return e.test(t)}function M(e,t){return!b(e,t)}var w,L,x,T=0;for(var E in t.STATE={BEGIN:T++,BEGIN_WHITESPACE:T++,TEXT:T++,TEXT_ENTITY:T++,OPEN_WAKA:T++,SGML_DECL:T++,SGML_DECL_QUOTED:T++,DOCTYPE:T++,DOCTYPE_QUOTED:T++,DOCTYPE_DTD:T++,DOCTYPE_DTD_QUOTED:T++,COMMENT_STARTING:T++,COMMENT:T++,COMMENT_ENDING:T++,COMMENT_ENDED:T++,CDATA:T++,CDATA_ENDING:T++,CDATA_ENDING_2:T++,PROC_INST:T++,PROC_INST_BODY:T++,PROC_INST_ENDING:T++,OPEN_TAG:T++,OPEN_TAG_SLASH:T++,ATTRIB:T++,ATTRIB_NAME:T++,ATTRIB_NAME_SAW_WHITE:T++,ATTRIB_VALUE:T++,ATTRIB_VALUE_QUOTED:T++,ATTRIB_VALUE_CLOSED:T++,ATTRIB_VALUE_UNQUOTED:T++,ATTRIB_VALUE_ENTITY_Q:T++,ATTRIB_VALUE_ENTITY_U:T++,CLOSE_TAG:T++,CLOSE_TAG_SAW_WHITE:T++,SCRIPT:T++,SCRIPT_ENDING:T++},t.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},t.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(t.ENTITIES).forEach((function(e){var s=t.ENTITIES[e],n="number"==typeof s?String.fromCharCode(s):s;t.ENTITIES[e]=n})),t.STATE)t.STATE[t.STATE[E]]=E;function k(e,t,s){e[t]&&e[t](s)}function D(e,t,s){e.textNode&&S(e),k(e,t,s)}function S(e){e.textNode=P(e.opt,e.textNode),e.textNode&&k(e,"ontext",e.textNode),e.textNode=""}function P(e,t){return e.trim&&(t=t.trim()),e.normalize&&(t=t.replace(/\s+/g," ")),t}function C(e,t){return S(e),e.trackPosition&&(t+="\nLine: "+e.line+"\nColumn: "+e.column+"\nChar: "+e.c),t=new Error(t),e.error=t,k(e,"onerror",t),e}function Y(e){return e.sawRoot&&!e.closedRoot&&A(e,"Unclosed root tag"),e.state!==T.BEGIN&&e.state!==T.BEGIN_WHITESPACE&&e.state!==T.TEXT&&C(e,"Unexpected end"),S(e),e.c="",e.closed=!0,k(e,"onend"),r.call(e,e.strict,e.opt),e}function A(e,t){if("object"!=typeof e||!(e instanceof r))throw new Error("bad call to strictFail");e.strict&&C(e,t)}function j(e){e.strict||(e.tagName=e.tagName[e.looseCase]());var t=e.tags[e.tags.length-1]||e,s=e.tag={name:e.tagName,attributes:{}};e.opt.xmlns&&(s.ns=t.ns),e.attribList.length=0,D(e,"onopentagstart",s)}function O(e,t){var s=e.indexOf(":")<0?["",e]:e.split(":"),n=s[0],i=s[1];return t&&"xmlns"===e&&(n="xmlns",i=""),{prefix:n,local:i}}function R(e){if(e.strict||(e.attribName=e.attribName[e.looseCase]()),-1!==e.attribList.indexOf(e.attribName)||e.tag.attributes.hasOwnProperty(e.attribName))e.attribName=e.attribValue="";else{if(e.opt.xmlns){var t=O(e.attribName,!0),s=t.prefix,n=t.local;if("xmlns"===s)if("xml"===n&&e.attribValue!==c)A(e,"xml: prefix must be bound to "+c+"\nActual: "+e.attribValue);else if("xmlns"===n&&e.attribValue!==u)A(e,"xmlns: prefix must be bound to "+u+"\nActual: "+e.attribValue);else{var i=e.tag,r=e.tags[e.tags.length-1]||e;i.ns===r.ns&&(i.ns=Object.create(r.ns)),i.ns[n]=e.attribValue}e.attribList.push([e.attribName,e.attribValue])}else e.tag.attributes[e.attribName]=e.attribValue,D(e,"onattribute",{name:e.attribName,value:e.attribValue});e.attribName=e.attribValue=""}}function N(e,t){if(e.opt.xmlns){var s=e.tag,n=O(e.tagName);s.prefix=n.prefix,s.local=n.local,s.uri=s.ns[n.prefix]||"",s.prefix&&!s.uri&&(A(e,"Unbound namespace prefix: "+JSON.stringify(e.tagName)),s.uri=n.prefix);var i=e.tags[e.tags.length-1]||e;s.ns&&i.ns!==s.ns&&Object.keys(s.ns).forEach((function(t){D(e,"onopennamespace",{prefix:t,uri:s.ns[t]})}));for(var r=0,a=e.attribList.length;r<a;r++){var o=e.attribList[r],l=o[0],d=o[1],c=O(l,!0),u=c.prefix,h=c.local,p=""===u?"":s.ns[u]||"",m={name:l,value:d,prefix:u,local:h,uri:p};u&&"xmlns"!==u&&!p&&(A(e,"Unbound namespace prefix: "+JSON.stringify(u)),m.uri=u),e.tag.attributes[l]=m,D(e,"onattribute",m)}e.attribList.length=0}e.tag.isSelfClosing=!!t,e.sawRoot=!0,e.tags.push(e.tag),D(e,"onopentag",e.tag),t||(e.noscript||"script"!==e.tagName.toLowerCase()?e.state=T.TEXT:e.state=T.SCRIPT,e.tag=null,e.tagName=""),e.attribName=e.attribValue="",e.attribList.length=0}function H(e){if(!e.tagName)return A(e,"Weird empty close tag."),e.textNode+="</>",void(e.state=T.TEXT);if(e.script){if("script"!==e.tagName)return e.script+="</"+e.tagName+">",e.tagName="",void(e.state=T.SCRIPT);D(e,"onscript",e.script),e.script=""}var t=e.tags.length,s=e.tagName;e.strict||(s=s[e.looseCase]());for(var n=s;t--;){if(e.tags[t].name===n)break;A(e,"Unexpected close tag")}if(t<0)return A(e,"Unmatched closing tag: "+e.tagName),e.textNode+="</"+e.tagName+">",void(e.state=T.TEXT);e.tagName=s;for(var i=e.tags.length;i-- >t;){var r=e.tag=e.tags.pop();e.tagName=e.tag.name,D(e,"onclosetag",e.tagName);var a={};for(var o in r.ns)a[o]=r.ns[o];var l=e.tags[e.tags.length-1]||e;e.opt.xmlns&&r.ns!==l.ns&&Object.keys(r.ns).forEach((function(t){var s=r.ns[t];D(e,"onclosenamespace",{prefix:t,uri:s})}))}0===t&&(e.closedRoot=!0),e.tagName=e.attribValue=e.attribName="",e.attribList.length=0,e.state=T.TEXT}function I(e){var t,s=e.entity,n=s.toLowerCase(),i="";return e.ENTITIES[s]?e.ENTITIES[s]:e.ENTITIES[n]?e.ENTITIES[n]:("#"===(s=n).charAt(0)&&("x"===s.charAt(1)?(s=s.slice(2),i=(t=parseInt(s,16)).toString(16)):(s=s.slice(1),i=(t=parseInt(s,10)).toString(10))),s=s.replace(/^0+/,""),isNaN(t)||i.toLowerCase()!==s?(A(e,"Invalid character entity"),"&"+e.entity+";"):String.fromCodePoint(t))}function F(e,t){"<"===t?(e.state=T.OPEN_WAKA,e.startTagPosition=e.position):_(t)||(A(e,"Non-whitespace before first tag."),e.textNode=t,e.state=T.TEXT)}function V(e,t){var s="";return t<e.length&&(s=e.charAt(t)),s}T=t.STATE,String.fromCodePoint||(w=String.fromCharCode,L=Math.floor,x=function(){var e,t,s=16384,n=[],i=-1,r=arguments.length;if(!r)return"";for(var a="";++i<r;){var o=Number(arguments[i]);if(!isFinite(o)||o<0||o>1114111||L(o)!==o)throw RangeError("Invalid code point: "+o);o<=65535?n.push(o):(e=55296+((o-=65536)>>10),t=o%1024+56320,n.push(e,t)),(i+1===r||n.length>s)&&(a+=w.apply(null,n),n.length=0)}return a},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:x,configurable:!0,writable:!0}):String.fromCodePoint=x)}(t)}).call(this,s(76).Buffer)},function(e,t,s){"use strict";t.byteLength=function(e){var t=d(e),s=t[0],n=t[1];return 3*(s+n)/4-n},t.toByteArray=function(e){var t,s,n=d(e),a=n[0],o=n[1],l=new r(function(e,t,s){return 3*(t+s)/4-s}(0,a,o)),c=0,u=o>0?a-4:a;for(s=0;s<u;s+=4)t=i[e.charCodeAt(s)]<<18|i[e.charCodeAt(s+1)]<<12|i[e.charCodeAt(s+2)]<<6|i[e.charCodeAt(s+3)],l[c++]=t>>16&255,l[c++]=t>>8&255,l[c++]=255&t;2===o&&(t=i[e.charCodeAt(s)]<<2|i[e.charCodeAt(s+1)]>>4,l[c++]=255&t);1===o&&(t=i[e.charCodeAt(s)]<<10|i[e.charCodeAt(s+1)]<<4|i[e.charCodeAt(s+2)]>>2,l[c++]=t>>8&255,l[c++]=255&t);return l},t.fromByteArray=function(e){for(var t,s=e.length,i=s%3,r=[],a=0,o=s-i;a<o;a+=16383)r.push(c(e,a,a+16383>o?o:a+16383));1===i?(t=e[s-1],r.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[s-2]<<8)+e[s-1],r.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return r.join("")};for(var n=[],i=[],r="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,l=a.length;o<l;++o)n[o]=a[o],i[a.charCodeAt(o)]=o;function d(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var s=e.indexOf("=");return-1===s&&(s=t),[s,s===t?0:4-s%4]}function c(e,t,s){for(var i,r,a=[],o=t;o<s;o+=3)i=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),a.push(n[(r=i)>>18&63]+n[r>>12&63]+n[r>>6&63]+n[63&r]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,s,n,i){var r,a,o=8*i-n-1,l=(1<<o)-1,d=l>>1,c=-7,u=s?i-1:0,h=s?-1:1,p=e[t+u];for(u+=h,r=p&(1<<-c)-1,p>>=-c,c+=o;c>0;r=256*r+e[t+u],u+=h,c-=8);for(a=r&(1<<-c)-1,r>>=-c,c+=n;c>0;a=256*a+e[t+u],u+=h,c-=8);if(0===r)r=1-d;else{if(r===l)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,n),r-=d}return(p?-1:1)*a*Math.pow(2,r-n)},t.write=function(e,t,s,n,i,r){var a,o,l,d=8*r-i-1,c=(1<<d)-1,u=c>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:r-1,m=n?1:-1,f=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(o=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+u>=1?h/l:h*Math.pow(2,1-u))*l>=2&&(a++,l/=2),a+u>=c?(o=0,a=c):a+u>=1?(o=(t*l-1)*Math.pow(2,i),a+=u):(o=t*Math.pow(2,u-1)*Math.pow(2,i),a=0));i>=8;e[s+p]=255&o,p+=m,o/=256,i-=8);for(a=a<<i|o,d+=i;d>0;e[s+p]=255&a,p+=m,a/=256,d-=8);e[s+p-m]|=128*f}},function(e,t,s){e.exports=i;var n=s(108).EventEmitter;function i(){n.call(this)}s(37)(i,n),i.Readable=s(109),i.Writable=s(482),i.Duplex=s(483),i.Transform=s(484),i.PassThrough=s(485),i.Stream=i,i.prototype.pipe=function(e,t){var s=this;function i(t){e.writable&&!1===e.write(t)&&s.pause&&s.pause()}function r(){s.readable&&s.resume&&s.resume()}s.on("data",i),e.on("drain",r),e._isStdio||t&&!1===t.end||(s.on("end",o),s.on("close",l));var a=!1;function o(){a||(a=!0,e.end())}function l(){a||(a=!0,"function"==typeof e.destroy&&e.destroy())}function d(e){if(c(),0===n.listenerCount(this,"error"))throw e}function c(){s.removeListener("data",i),e.removeListener("drain",r),s.removeListener("end",o),s.removeListener("close",l),s.removeListener("error",d),e.removeListener("error",d),s.removeListener("end",c),s.removeListener("close",c),e.removeListener("close",c)}return s.on("error",d),e.on("error",d),s.on("end",c),s.on("close",c),e.on("close",c),e.emit("pipe",s),e}},function(e,t){},function(e,t,s){"use strict";var n=s(78).Buffer,i=s(477);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,s=""+t.data;t=t.next;)s+=e+t.data;return s},e.prototype.concat=function(e){if(0===this.length)return n.alloc(0);if(1===this.length)return this.head.data;for(var t,s,i,r=n.allocUnsafe(e>>>0),a=this.head,o=0;a;)t=a.data,s=r,i=o,t.copy(s,i),o+=a.data.length,a=a.next;return r},e}(),i&&i.inspect&&i.inspect.custom&&(e.exports.prototype[i.inspect.custom]=function(){var e=i.inspect({length:this.length});return this.constructor.name+" "+e})},function(e,t){},function(e,t,s){(function(e){var n=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function r(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new r(i.call(setTimeout,n,arguments),clearTimeout)},t.setInterval=function(){return new r(i.call(setInterval,n,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(n,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},s(479),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,s(45))},function(e,t,s){(function(e,t){!function(e,s){"use strict";if(!e.setImmediate){var n,i,r,a,o,l=1,d={},c=!1,u=e.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(e);h=h&&h.setTimeout?h:e,"[object process]"==={}.toString.call(e.process)?n=function(e){t.nextTick((function(){m(e)}))}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,s=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=s,t}}()?e.MessageChannel?((r=new MessageChannel).port1.onmessage=function(e){m(e.data)},n=function(e){r.port2.postMessage(e)}):u&&"onreadystatechange"in u.createElement("script")?(i=u.documentElement,n=function(e){var t=u.createElement("script");t.onreadystatechange=function(){m(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):n=function(e){setTimeout(m,0,e)}:(a="setImmediate$"+Math.random()+"$",o=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&m(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",o,!1):e.attachEvent("onmessage",o),n=function(t){e.postMessage(a+t,"*")}),h.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),s=0;s<t.length;s++)t[s]=arguments[s+1];var i={callback:e,args:t};return d[l]=i,n(l),l++},h.clearImmediate=p}function p(e){delete d[e]}function m(e){if(c)setTimeout(m,0,e);else{var t=d[e];if(t){c=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(s,n)}}(t)}finally{p(e),c=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,s(45),s(58))},function(e,t,s){(function(t){function s(e){try{if(!t.localStorage)return!1}catch(e){return!1}var s=t.localStorage[e];return null!=s&&"true"===String(s).toLowerCase()}e.exports=function(e,t){if(s("noDeprecation"))return e;var n=!1;return function(){if(!n){if(s("throwDeprecation"))throw new Error(t);s("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return e.apply(this,arguments)}}}).call(this,s(45))},function(e,t,s){"use strict";e.exports=r;var n=s(187),i=s(59);function r(e){if(!(this instanceof r))return new r(e);n.call(this,e)}i.inherits=s(37),i.inherits(r,n),r.prototype._transform=function(e,t,s){s(null,e)}},function(e,t,s){e.exports=s(110)},function(e,t,s){e.exports=s(39)},function(e,t,s){e.exports=s(109).Transform},function(e,t,s){e.exports=s(109).PassThrough},function(e,t,s){var n=s(112),i=s(182);e.exports=function(e,t){var s,r,a;return s=function(e){var t=n.copyOptions(e);return n.ensureSpacesExists(t),t}(t),r=i(e,s),a="compact"in s&&s.compact?"_parent":"parent",("addParent"in s&&s.addParent?JSON.stringify(r,(function(e,t){return e===a?"_":t}),s.spaces):JSON.stringify(r,null,s.spaces)).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}},function(e,t,s){(function(t){var n=s(188);e.exports=function(e,s){e instanceof t&&(e=e.toString());var i=null;if("string"==typeof e)try{i=JSON.parse(e)}catch(e){throw new Error("The JSON structure is invalid")}else i=e;return n(i,s)}}).call(this,s(76).Buffer)},function(e,t,s){"use strict";var n=this&&this.__decorate||function(e,t,s,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r<3?i(a):r>3?i(t,s,a):i(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};Object.defineProperty(t,"__esModule",{value:!0});const i=s(57),r=s(10);let a=class extends r.TaskView{constructor(){super(...arguments),this.featureConfigMode=!1}get snapshots(){return this.activeDocument.setup.snapshots}renderFeatureMenu(){const e=this.snapshots.targetFeatures,t=Object.keys(e).map(t=>{const s=t[0].toUpperCase()+t.substr(1),n=!!e[t];return r.html`<ff-button text=${s} name=${t} ?selected=${n} @click=${this.onClickFeature}></ff-button>`});return r.html`<div class="sv-commands">
            <ff-button text="OK" icon="" @click=${this.onFeatureMenuConfirm}></ff-button>
            <ff-button text="Cancel" icon="" @click=${this.onFeatureMenuCancel}></ff-button>
        </div><div class="ff-flex-item-stretch sv-tour-feature-menu">${t}</div>`}render(){const e=this.task,t=e.tours;if(!t)return r.html`<div class="sv-placeholder">Please select a document to edit its tours.</div>`;if(!t.ins.enabled.value)return r.html`<div class="sv-placeholder">Please activate the tour button in the main menu.</div>`;if(this.featureConfigMode)return this.renderFeatureMenu();const s=t.tours,n=t.activeTour,i=e.ins,a=n?r.html`<div class="ff-scroll-y ff-flex-column sv-detail-view">
            <div class="sv-label">Title</div>
            <ff-line-edit name="title" text=${i.tourTitle.value} @change=${this.onTextEdit}></ff-line-edit>
            <div class="sv-label">Tags</div>
            <ff-line-edit name="tags" text=${i.tourTags.value} @change=${this.onTextEdit}></ff-line-edit>
            <div class="sv-label">Lead</div>
            <ff-text-edit name="lead" text=${i.tourLead.value} @change=${this.onTextEdit}></ff-text-edit>
        </div>`:null;return r.html`<div class="sv-commands">
            <ff-button title="Create Tour" icon="create" @click=${this.onClickCreate}></ff-button>
            <ff-button title="Move Tour Up" icon="up" ?disabled=${!n} @click=${this.onClickUp}></ff-button>
            <ff-button title="Move Tour Down" icon="down" ?disabled=${!n} @click=${this.onClickDown}></ff-button>
            <ff-button title="Delete Tour" icon="trash" ?disabled=${!n} @click=${this.onClickDelete}></ff-button>
            <ff-button title="Snapshot Configuration" icon="bars" @click=${this.onClickConfig}></ff-button>
        </div>
        <div class="ff-flex-item-stretch">
            <div class="ff-flex-column ff-fullsize">
                <div class="ff-splitter-section" style="flex-basis: 30%">
                    <div class="ff-scroll-y ff-flex-column">
                        <sv-tour-list .data=${s.slice()} .selectedItem=${n} @select=${this.onSelectTour}></sv-tour-list>
                    </div>
                </div>
                <ff-splitter direction="vertical"></ff-splitter>
                <div class="ff-splitter-section" style="flex-basis: 70%">
                    ${a}
                </div>
            </div>
        </div>`}onClickCreate(){this.task.ins.createTour.set()}onClickDelete(){this.task.ins.deleteTour.set()}onClickUp(){this.task.ins.moveTourUp.set()}onClickDown(){this.task.ins.moveTourDown.set()}onClickConfig(){this.featureConfigMode=!0,this.requestUpdate()}onSelectTour(e){this.task.tours.ins.tourIndex.setValue(e.detail.index)}onFeatureMenuConfirm(){this.snapshots.updateTargets(),this.featureConfigMode=!1,this.requestUpdate()}onFeatureMenuCancel(){this.featureConfigMode=!1,this.requestUpdate()}onClickFeature(e){const t=this.snapshots.targetFeatures,s=e.target.name;t[s]=!t[s],this.requestUpdate()}onTextEdit(e){const t=this.task,s=e.target,n=e.detail.text;"title"===s.name?t.ins.tourTitle.setValue(n):"lead"===s.name?t.ins.tourLead.setValue(n):"tags"===s.name&&t.ins.tourTags.setValue(n)}onActiveDocument(e,t){e&&e.setup.tours.outs.tourIndex.off("value",this.onUpdate,this),t&&t.setup.tours.outs.tourIndex.on("value",this.onUpdate,this),this.requestUpdate()}};a=n([r.customElement("sv-tours-task-view")],a),t.default=a;let o=class extends i.default{constructor(){super(...arguments),this.selectedItem=null}firstConnected(){super.firstConnected(),this.classList.add("sv-tour-list")}renderItem(e){return e.title}isItemSelected(e){return e===this.selectedItem}onClickItem(e,t,s){this.dispatchEvent(new CustomEvent("select",{detail:{tour:t,index:s}}))}onClickEmpty(e){this.dispatchEvent(new CustomEvent("select",{detail:{tour:null,index:-1}}))}};n([r.property({attribute:!1})],o.prototype,"selectedItem",void 0),o=n([r.customElement("sv-tour-list")],o),t.TourList=o},function(e,t,s){"use strict";var n,i=this&&this.__decorate||function(e,t,s,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r<3?i(a):r>3?i(t,s,a):i(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};Object.defineProperty(t,"__esModule",{value:!0});const r=s(2),a=s(33),o=s(191),l=s(60),d=e=>e instanceof c||e instanceof o.default;let c=n=class extends r.default{constructor(){super(...arguments),this.direction="horizontal",this.isInit=!1}get size(){return.01*parseFloat(this.style.flexBasis)}set size(e){this.style.flexBasis=`${(100*(e||1)).toFixed(3)}%`}insertPanel(e,t,s){const i="left"===s||"right"===s?"horizontal":"vertical",r="left"===s||"top"===s,a=t.size,l=new o.default;l.insertPanel(e),l.activatePanel(e);const d=this.getDockElements();d.length<2&&(this.direction=i);let c=t;if(!r)for(let e=0,s=d.length;e<s;++e)if(d[e]===t){c=d[e+1];break}if(i===this.direction)this.insertDockElement(l,c),l.size=t.size=.5*a;else{const e=new n;this.insertBefore(e,t),e.appendChild(t),e.insertDockElement(l,r?t:null),e.direction=i,e.size=a,t.size=l.size=.5}}insertDockElement(e,t){this.init(!1),this.insertBefore(e,t),this.updateSplitters()}removeDockElement(e){let t=this.getDockElements();if(1!==t.length)if(this.removeChild(e),(t=this.getDockElements()).length<2&&this.parentElement instanceof n){const e=this.parentElement,s=t[0];this.removeChild(s),s.size=this.size,e.insertBefore(s,this),e.removeChild(this),e.updateSplitters()}else this.updateSplitters()}getDockElements(){return Array.from(this.children).filter(d)}setLayout(e,t){for(this.init(!1);this.firstChild;)this.removeChild(this.firstChild);this.size=e.size,this.direction=e.direction,e.elements.forEach((e,s)=>{let i;switch(e.type){case"strip":i=new n;break;case"stack":i=new o.default}i.setLayout(e,t),this.appendChild(i)}),this.updateSplitters()}getLayout(){const e=Array.from(this.children).filter(d).map(e=>e.getLayout());return{type:"strip",size:this.size,direction:this.direction,elements:e}}isHorizontal(){return"horizontal"===this.direction}onSplitterChange(e){e.detail.isDragging||this.dispatchEvent(new CustomEvent(l.default.changeEvent,{bubbles:!0}))}firstConnected(){this.init(!0)}update(e){super.update(e),e.has("direction")&&(this.style.flexDirection=this.isHorizontal()?"row":"column",this.updateSplitters())}updateSplitters(){const e=this.getChildrenArray();if(!this.parentElement)return;const t=this.isHorizontal(),s=[],n=[];let i=0;for(let r=0,o=e.length;r<o;++r){const o=e[r],l=o.nextElementSibling;if(o instanceof a.default){if(0===r||!l||l instanceof a.default){this.removeChild(o);continue}o.direction=this.direction}if(!d(o))continue;const c=o.getBoundingClientRect(),u=t?c.width:c.height;i+=u,s.push(o),n.push(u);const h=o.previousElementSibling;if(h&&!(h instanceof a.default)){const e=new a.default;e.direction=this.direction,e.addEventListener(a.default.changeEvent,this.onSplitterChange),this.insertBefore(e,o)}}for(let e=0,t=s.length;e<t;++e)s[e].style.flexBasis=`${(n[e]/i*100).toFixed(3)}%`}init(e){this.isInit||(this.isInit=!0,this.setStyle({flex:"1 1 auto",display:"flex",alignItems:"stretch",overflow:"hidden"}),e&&Array.from(this.children).forEach(e=>{if(!d(e)){const t=new o.default,s=e.nextSibling;t.appendChild(e),this.insertBefore(t,s)}}))}};i([r.property({type:Number})],c.prototype,"size",null),i([r.property({type:String})],c.prototype,"direction",void 0),c=n=i([r.customElement("ff-dock-strip")],c),t.default=c},function(e,t,s){"use strict";var n,i=this&&this.__decorate||function(e,t,s,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r<3?i(a):r>3?i(t,s,a):i(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};Object.defineProperty(t,"__esModule",{value:!0}),s(29),s(5);const r=s(115),a=s(60),o=s(2);let l=n=class extends o.default{constructor(e){super(),this.active=!1,this.onDragStart=this.onDragStart.bind(this),this.onDragOver=this.onDragOver.bind(this),this.onDragLeave=this.onDragLeave.bind(this),this.onDrop=this.onDrop.bind(this),this.addEventListener("click",this.onClick),this.addEventListener("dragstart",this.onDragStart),this.addEventListener("dragover",this.onDragOver),this.addEventListener("dragleave",this.onDragLeave),this.addEventListener("drop",this.onDrop),this.panel=e,e.header=this}update(e){super.update(e),this.panel.movable?this.setAttribute("draggable","true"):this.removeAttribute("draggable"),e.has("active")&&(this.panel.active=this.active)}render(){const{text:e,closable:t,movable:s}=this.panel;let n=t?o.html`<ff-button inline icon="close" @click=${this.onClickButton}></ff-button>`:s?o.html`<ff-icon name="grip"></ff-icon>`:null;return o.html`
            <label class="ff-text">${e}</label>
            ${n}
        `}firstUpdated(){this.setStyle({flex:"0 0 auto",display:"block",userSelect:"none",cursor:"pointer"})}onClick(e){this.panel.activatePanel(),this.dispatchEvent(new CustomEvent(a.default.changeEvent,{bubbles:!0}))}onClickButton(e){this.dispatchEvent(new CustomEvent(n.closeEvent,{detail:{panelId:this.panel.id},bubbles:!0})),this.panel.closePanel(),e.stopPropagation(),this.dispatchEvent(new CustomEvent(a.default.changeEvent,{bubbles:!0}))}onDragStart(e){this.panel.parentElement.activatePanel(this.panel),e.dataTransfer.setData(r.default.dragDropMimeType,this.panel.id),e.dataTransfer.dropEffect="move"}onDragOver(e){this.panel.parentStack.onDragOver(e)}onDragLeave(e){this.panel.parentStack.onDragLeave(e)}onDrop(e){this.panel.parentStack.onDrop(e)}};l.closeEvent="ff-dock-panel-header-close",i([o.property({type:Boolean,reflect:!0})],l.prototype,"active",void 0),l=n=i([o.customElement("ff-dock-panel-header")],l),t.default=l},function(e,t,s){"use strict";var n=this&&this.__decorate||function(e,t,s,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r<3?i(a):r>3?i(t,s,a):i(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};Object.defineProperty(t,"__esModule",{value:!0});const i=s(16),r=s(82),a=s(8),o=s(1),l=s(46),d=s(85),c=s(41);s(5);const u=s(56),h=s(492);let p=class extends h.default{constructor(e){super(e),this.tree=null,this.addEventListener("click",this.onClick.bind(this)),this.addEventListener("contextmenu",this.onContextMenu.bind(this))}firstConnected(){super.firstConnected(),this.classList.add("ff-hierarchy-tree-view"),this.tree=new m(this.system)}connected(){super.connected(),this.selection.selectedComponents.on(l.default,this.onSelectGraph,this),this.selection.on("active-graph",this.onActiveGraph,this)}disconnected(){super.disconnected(),this.selection.selectedComponents.off(l.default,this.onSelectGraph,this),this.selection.off("active-graph",this.onActiveGraph,this)}render(){const e=this.selection,t=e.activeGraph&&e.activeGraph.parent,s=t?t.displayName:"Main",n=e.hasChildGraph()?h.html`<ff-button icon="down" @click=${this.onClickDown}></ff-button>`:null,i=e.hasParentGraph()?h.html`<ff-button icon="up" @click=${this.onClickUp}></ff-button>`:null;return h.html`<div class="ff-flex-row ff-header">${i}<div class="ff-text">${s}</div>${n}</div>
            <div class="ff-flex-item-stretch"><div class="ff-scroll-y">${this.tree}</div></div>`}onClick(){this.selection.clearSelection()}onClickUp(e){e.stopPropagation(),this.selection.activateParentGraph()}onClickDown(e){e.stopPropagation(),this.selection.activateChildGraph()}onContextMenu(){}onSelectGraph(e){this.requestUpdate()}onActiveGraph(e){this.requestUpdate()}};p=n([h.customElement("ff-hierarchy-tree-view")],p),t.default=p;let m=class extends u.default{constructor(e){super(),this.selection=null,this.rootId=i.default(),this.system=e}firstConnected(){super.firstConnected(),this.classList.add("ff-hierarchy-tree"),this.selection=this.system.getComponent(c.default,!0),this.root=this.selection.activeGraph}connected(){super.connected();const e=this.selection;e.selectedNodes.on(a.default,this.onSelectNode,this),e.selectedComponents.on(o.default,this.onSelectComponent,this),e.on("active-graph",this.onActiveGraph,this),e.system.nodes.on(a.default,this.onUpdate,this),e.system.components.on(o.default,this.onUpdate,this),e.system.on("hierarchy",this.onUpdate,this)}disconnected(){super.disconnected();const e=this.selection;e.selectedNodes.off(a.default,this.onSelectNode,this),e.selectedComponents.off(o.default,this.onSelectComponent,this),e.off("active-graph",this.onActiveGraph,this),e.system.nodes.off(a.default,this.onUpdate,this),e.system.components.off(o.default,this.onUpdate,this),e.system.off("hierarchy",this.onUpdate,this)}renderNodeHeader(e){if(e instanceof o.default||e instanceof a.default)return e instanceof l.default?h.html`<div class="ff-text ff-ellipsis"><b>${e.displayName}</b></div>`:h.html`<div class="ff-text ff-ellipsis">${e.displayName}</div>`;{const t=e.parent?e.parent.displayName:"Main";return h.html`<div class="ff-text">${t}</div>`}}isNodeSelected(e){const t=this.selection;return e instanceof o.default?t.selectedComponents.contains(e):e instanceof a.default&&t.selectedNodes.contains(e)}getId(e){return e.id||this.rootId}getClasses(e){return e instanceof a.default?"ff-node":e instanceof o.default?"ff-component":"ff-system"}getChildren(e){if(e instanceof a.default){let t=e.components.getArray();const s=e.components.get(d.default,!0);return s&&(t=t.concat(s.children.map(e=>e.node))),t}return e instanceof r.default?e.findRootNodes():null}onNodeClick(e,t){const s=e.currentTarget.getBoundingClientRect();e.clientX-s.left<30?this.toggleExpanded(t):t instanceof a.default?this.selection.selectNode(t,e.ctrlKey):t instanceof o.default&&this.selection.selectComponent(t,e.ctrlKey)}onNodeDblClick(e,t){t instanceof l.default&&(this.selection.activeGraph=t.innerGraph)}onSelectNode(e){this.setSelected(e.object,e.add)}onSelectComponent(e){this.setSelected(e.object,e.add)}onActiveGraph(e){this.root=this.selection.activeGraph}};n([h.property({attribute:!1})],m.prototype,"system",void 0),m=n([h.customElement("ff-hierarchy-tree")],m),t.HierarchyTree=m},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(41),i=s(15);t.customElement=i.customElement,t.property=i.property,t.html=i.html,t.TemplateResult=i.TemplateResult;class r extends i.default{constructor(){super(...arguments),this.selection=null}firstConnected(){this.selection=this.system.getComponent(n.default)}}t.default=r},function(e,t,s){"use strict";var n=this&&this.__decorate||function(e,t,s,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r<3?i(a):r>3?i(t,s,a):i(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};Object.defineProperty(t,"__esModule",{value:!0});const i=s(15);s(494),s(495);const r=s(23);let a=class extends i.default{get taskProvider(){return this.system.getMainComponent(r.default)}firstConnected(){this.classList.add("sv-panel","sv-navigator-panel")}connected(){this.taskProvider.ins.mode.on("value",this.performUpdate,this)}disconnected(){this.taskProvider.ins.mode.off("value",this.performUpdate,this)}render(){const e=this.system,t=this.taskProvider.expertMode?i.html`<div class="ff-splitter-section ff-flex-column" style="flex-basis: 30%">
            <div class="sv-panel-header">
                <ff-icon name="document"></ff-icon>
                <div class="ff-text">Documents</div>
            </div>
            <div class="ff-flex-item-stretch"><div class="ff-scroll-y">
                <sv-document-list .system=${e}></sv-document-list>
            </div></div>
            </div>
            <ff-splitter direction="vertical"></ff-splitter>`:null;return i.html`${t}
            <div class="ff-splitter-section ff-flex-column" style="flex-basis: 70%">
                <div class="sv-panel-header">
                    <ff-icon name="hierarchy"></ff-icon>
                    <div class="ff-text">Nodes</div>
                </div>
                <sv-node-tree class="ff-flex-item-stretch" .system=${e}></sv-node-tree>
            </div>`}};a=n([i.customElement("sv-navigator-panel")],a),t.default=a},function(e,t,s){"use strict";var n=this&&this.__decorate||function(e,t,s,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r<3?i(a):r>3?i(t,s,a):i(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};Object.defineProperty(t,"__esModule",{value:!0});const i=s(57);s(29);const r=s(2),a=s(19);let o=class extends i.default{constructor(){super(...arguments),this.system=null,this.documentProvider=null,this.documents=[]}firstConnected(){super.firstConnected(),this.classList.add("sv-document-list"),this.documentProvider=this.system.getMainComponent(a.default)}connected(){super.connected(),this.setDocuments(this.documentProvider.scopedComponents),this.documentProvider.on("active-component",this.onUpdate,this),this.documentProvider.on("scoped-components",this.onDocumentsEvent,this)}disconnected(){this.documentProvider.off("scoped-components",this.onDocumentsEvent,this),this.documentProvider.off("active-component",this.onUpdate,this),this.setDocuments([]),super.disconnected()}update(e){this.data=this.documents,super.update(e)}renderItem(e){return r.html`<div class="ff-flex-row">
            <ff-text class="ff-ellipsis">${e.displayName}</ff-text></div>`}isItemSelected(e){return e===this.documentProvider.activeComponent}onClickItem(e,t){this.documentProvider.activeComponent=t}onDocumentsEvent(){this.setDocuments(this.documentProvider.scopedComponents)}setDocuments(e){this.documents.forEach(e=>e.off("change",this.onUpdate,this)),this.documents=e,this.documents.forEach(e=>e.on("change",this.onUpdate,this))}};n([r.property({attribute:!1})],o.prototype,"system",void 0),o=n([r.customElement("sv-document-list")],o)},function(e,t,s){"use strict";var n=this&&this.__decorate||function(e,t,s,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r<3?i(a):r>3?i(t,s,a):i(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};Object.defineProperty(t,"__esModule",{value:!0});const i=s(56),r=s(19),a=s(52),o=s(43),l=s(99);let d=class extends i.default{constructor(){super(...arguments),this.documentProvider=null,this.nodeProvider=null}firstConnected(){super.firstConnected(),this.classList.add("sv-node-tree"),this.addEventListener("click",this.onContainerClick.bind(this)),this.documentProvider=this.system.getMainComponent(r.default),this.nodeProvider=this.system.getMainComponent(a.default)}connected(){super.connected(),this.documentProvider.on("active-component",this.onUpdate,this),this.nodeProvider.on("active-node",this.onActiveNode,this),this.nodeProvider.on("scoped-nodes",this.onUpdate,this)}disconnected(){this.nodeProvider.off("scoped-nodes",this.onUpdate,this),this.nodeProvider.off("active-node",this.onActiveNode,this),this.documentProvider.off("active-component",this.onUpdate,this),super.disconnected()}update(e){const t=this.documentProvider.activeComponent;this.root=t?{id:"scene",children:[t.root]}:null,super.update(e)}renderNodeHeader(e){let t=[];return e.scene&&t.push(i.html`<ff-icon class="sv-icon-scene" name=${e.scene.icon}></ff-icon>`),e.model&&t.push(i.html`<ff-icon class="sv-icon-model" name=${e.model.icon}></ff-icon>`),e.light&&t.push(i.html`<ff-icon class="sv-icon-light" name=${e.light.icon}></ff-icon>`),e.camera&&t.push(i.html`<ff-icon class="sv-icon-camera" name=${e.camera.icon}></ff-icon>`),e.meta&&t.push(i.html`<ff-icon class="sv-icon-meta" name=${e.meta.icon}></ff-icon>`),i.html`${t}<div class="ff-text ff-ellipsis">${e.displayName}</div>`}isNodeSelected(e){return e===this.nodeProvider.activeNode}getClasses(e){return e.scene?"sv-node-scene":e.model?"sv-node-model":e.light?"sv-node-light":e.camera?"sv-node-camera":void 0}getChildren(e){return e===this.root?super.getChildren(e):e.transform.children.map(e=>e.node).filter(e=>e.is(o.default)||e.is(l.default))}onNodeClick(e,t){const s=e.currentTarget.getBoundingClientRect();e.clientX-s.left<30?this.toggleExpanded(t):this.nodeProvider.activeNode=t}onContainerClick(){this.nodeProvider.activeNode=null}onActiveNode(e){e.previous&&this.setSelected(e.previous,!1),e.next&&this.setSelected(e.next,!0)}};n([i.property({attribute:!1})],d.prototype,"system",void 0),d=n([i.customElement("sv-node-tree")],d)},function(e,t,s){"use strict";var n=this&&this.__decorate||function(e,t,s,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r<3?i(a):r>3?i(t,s,a):i(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};Object.defineProperty(t,"__esModule",{value:!0}),s(5);const i=s(5),r=s(15),a=s(74),o=s(23);let l=class extends r.default{constructor(e){super(e),this.story=null,this.taskProvider=null,this.story=e.getMainComponent(a.default),this.taskProvider=e.getMainComponent(o.default)}firstConnected(){this.classList.add("sv-task-bar")}connected(){this.taskProvider.on("scoped-components",this.onUpdate,this),this.taskProvider.on("active-component",this.onUpdate,this)}disconnected(){this.taskProvider.off("scoped-components",this.onUpdate,this),this.taskProvider.off("active-component",this.onUpdate,this)}render(){const e=this.taskProvider.scopedComponents,t=this.taskProvider.activeComponent,s=this.taskProvider.ins.mode.getOptionText();return r.html`
            <img class="sv-story-logo" src="images/voyager-75grey.svg" alt="Logo"/>
            <div class="sv-mode ff-text">${s}</div>
            <div class="sv-spacer"></div>
            <div class="sv-divider"></div>
            <div class="ff-flex-row ff-group" @click=${this.onClickTask}>
                ${e.map((e,s)=>r.html`<ff-button text=${e.text} icon=${e.icon} index=${s} ?selected=${e===t}></ff-button>`)}
            </div>
            <div class="sv-divider"></div>
            <div class="sv-spacer"></div>
            <div class="sv-divider"></div>
            <div class="ff-flex-row ff-group">
                <ff-button text="Save" icon="save" @click=${this.onClickSave}></ff-button>
                <ff-button text="Download" icon="download" @click=${this.onClickDownload}></ff-button>
                <ff-button text="Exit" icon="exit" @click=${this.onClickExit}></ff-button>
            </div>
        `}onClickTask(e){if(e.target instanceof i.default){const t=this.taskProvider.scopedComponents;this.taskProvider.activeComponent=t[e.target.index]}}onClickSave(){this.story.ins.save.set()}onClickDownload(){this.story.ins.download.set()}onClickExit(){this.story.ins.exit.set()}};l=n([r.customElement("sv-task-bar")],l),t.default=l},function(e,t,s){"use strict";var n=this&&this.__decorate||function(e,t,s,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r<3?i(a):r>3?i(t,s,a):i(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};Object.defineProperty(t,"__esModule",{value:!0});const i=s(170),r=s(2);let a=class extends r.default{constructor(e){super(),this.application=e}firstConnected(){this.classList.add("sv-panel","sv-explorer-panel"),this.appendElement(new i.default(this.application))}};n([r.property({attribute:!1})],a.prototype,"application",void 0),a=n([r.customElement("sv-explorer-panel")],a),t.default=a},function(e,t,s){"use strict";var n=this&&this.__decorate||function(e,t,s,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r<3?i(a):r>3?i(t,s,a):i(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};Object.defineProperty(t,"__esModule",{value:!0});const i=s(15),r=s(499);let a=class extends i.default{constructor(e){super(e),this._editor=new r.default(e)}get editor(){return this._editor}firstConnected(){super.firstConnected(),this.classList.add("sv-panel","sv-editor-panel"),this.appendElement(this._editor)}};a=n([i.customElement("sv-editor-panel")],a),t.default=a},function(e,t,s){"use strict";var n=this&&this.__decorate||function(e,t,s,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r<3?i(a):r>3?i(t,s,a):i(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};Object.defineProperty(t,"__esModule",{value:!0});const i=s(500),r=s(501),a=s(2),o=s(28),l=s(75),d=s(15),c=s(192),u=s(13),h=s(36),p=s(55),m=s(44);let f=class extends d.default{constructor(){super(...arguments),this._container=null,this._overlay=null,this._editor=null,this._assetPath="",this._changed=!1}get mediaManager(){return this.system.getMainComponent(m.default)}get assetManager(){return this.system.getMainComponent(u.default)}get assetReader(){return this.system.getMainComponent(h.default)}get assetWriter(){return this.system.getMainComponent(p.default)}get editorElement(){return this.getElementsByClassName("ql-editor").item(0)}get toolbarElement(){return this.getElementsByClassName("ql-toolbar").item(0)}openArticle(e){return this._assetPath?this.closeArticle().then(()=>this.readArticle(e)):this.readArticle(e)}saveArticle(){this._assetPath&&this.writeArticle(this._assetPath)}closeArticle(){return this._changed&&this._assetPath?l.default.show("Close Article","Would you like save your changes?","warning","yes-no").then(e=>e.ok?this.writeArticle(this._assetPath).then(()=>this.clearArticle()):this.clearArticle()):this.clearArticle()}readArticle(e){return this.assetReader.getText(e).then(t=>this.parseArticle(t,e)).then(t=>{this._editor.root.innerHTML=t,this._assetPath=e}).then(()=>{this._changed=!1,this.removeChild(this._overlay)})}parseArticle(e,t){e=e.replace(/[\n\r]/g,"");const s=this.assetManager.getAssetBasePath(t);return e=e.replace(/(src=\")(.*?)(\")/g,(e,t,n,i)=>(n.startsWith("/")||n.startsWith("http")||(n=this.assetManager.getAssetUrl(s+n)),t+n+i)),Promise.resolve(e)}writeArticle(e){let t=this._editor.root.innerHTML;return t=t.replace(/(src=\")(.*?)(\")/g,(t,s,n,i)=>s+this.assetManager.getRelativeAssetPath(n,e)+i),this.assetWriter.putText(t,e).then(()=>{this._changed=!1,new o.default(`Article successfully written to '${e}'`,"info")}).catch(t=>{new o.default(`Failed to write article to '${e}': ${t.message}`,"error")})}clearArticle(){return this._editor.root.innerHTML="",this._assetPath="",this._changed=!1,this.appendChild(this._overlay),Promise.resolve()}firstConnected(){super.firstConnected(),this.classList.add("sv-article-editor");const e={modules:{toolbar:[[{header:[1,2,3,4,5,6,!1]}],["bold","italic"],[{script:"sub"},{script:"super"}],["blockquote","code-block"],[{align:""},{align:"center"},{align:"right"}],[{list:"ordered"},{list:"bullet"}],[{indent:"-1"},{indent:"+1"}],["clean"]],imageResize:r.default},theme:"snow",placeholder:"Write, because you have something to say."};this._container=this.appendElement("div"),this._container.classList.add("sv-container"),this._overlay=this.appendElement("div"),this._overlay.classList.add("sv-overlay"),this._editor=new i(this._container,e),this._editor.on("text-change",()=>this._changed=!0),this._editor.root.addEventListener("drop",this.onEditorDrop.bind(this),!0);const t=this.toolbarElement;this.editorElement.classList.add("sv-article");const s=a.html`
            <ff-button transparent icon="save" text="Save" title="Save Article" @click=${e=>this.saveArticle()}></ff-button>
            <ff-button transparent icon="close" text="Close" title="Close Editor" @click=${e=>this.closeArticle()}></ff-button>
        `,n=document.createElement("span");n.classList.add("ql-formats","sv-custom-buttons"),t.insertBefore(n,t.firstChild),a.render(s,n)}connected(){super.connected(),this.mediaManager.on("asset-open",this.onOpenAsset,this)}disconnected(){this.mediaManager.off("asset-open",this.onOpenAsset,this),super.disconnected()}onOpenAsset(e){e.asset.info.type.startsWith("text/html")&&this.openArticle(e.asset.info.path)}onEditorDrop(e){const t=e.dataTransfer.getData(c.default.dragDropMimeType),s=t&&this.mediaManager.getAssetByPath(t);if(s){const e=s.info.type;if("image/jpeg"===e||"image/png"===e){const e=this.assetManager.getAssetUrl(t);setTimeout(()=>{const t=this._editor.getSelection();t&&(this._editor.deleteText(t.index,t.length),this._editor.insertEmbed(t.index,"image",e))})}}}};f=n([d.customElement("sv-article-editor")],f),t.default=f},function(e,t){e.exports=Quill},function(e,t,s){e.exports=function(e){function t(n){if(s[n])return s[n].exports;var i=s[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var s={};return t.m=e,t.c=s,t.i=function(e){return e},t.d=function(e,s,n){t.o(e,s)||Object.defineProperty(e,s,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var s=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(s,"a",s),s},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=38)}([function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,s){var n=s(22),i="object"==typeof self&&self&&self.Object===Object&&self,r=n||i||Function("return this")();e.exports=r},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,s){function n(e){var t=-1,s=null==e?0:e.length;for(this.clear();++t<s;){var n=e[t];this.set(n[0],n[1])}}var i=s(75),r=s(76),a=s(77),o=s(78),l=s(79);n.prototype.clear=i,n.prototype.delete=r,n.prototype.get=a,n.prototype.has=o,n.prototype.set=l,e.exports=n},function(e,t,s){var n=s(8);e.exports=function(e,t){for(var s=e.length;s--;)if(n(e[s][0],t))return s;return-1}},function(e,t,s){var n=s(16),i=s(64),r=s(87),a="[object Null]",o="[object Undefined]",l=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?o:a:l&&l in Object(e)?i(e):r(e)}},function(e,t,s){var n=s(73);e.exports=function(e,t){var s=e.__data__;return n(t)?s["string"==typeof t?"string":"hash"]:s.map}},function(e,t,s){var n=s(11)(Object,"create");e.exports=n},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,s){"use strict";s.d(t,"a",(function(){return n}));var n=function e(t){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.onCreate=function(){},this.onDestroy=function(){},this.onUpdate=function(){},this.overlay=t.overlay,this.img=t.img,this.options=t.options,this.requestUpdate=t.onUpdate}},function(e,t,s){var n=s(21);e.exports=function(e,t,s){"__proto__"==t&&n?n(e,t,{configurable:!0,enumerable:!0,value:s,writable:!0}):e[t]=s}},function(e,t,s){var n=s(48),i=s(65);e.exports=function(e,t){var s=i(e,t);return n(s)?s:void 0}},function(e,t,s){var n=s(13),i=s(30);e.exports=function(e){return null!=e&&i(e.length)&&!n(e)}},function(e,t,s){var n=s(5),i=s(0),r="[object AsyncFunction]",a="[object Function]",o="[object GeneratorFunction]",l="[object Proxy]";e.exports=function(e){if(!i(e))return!1;var t=n(e);return t==a||t==o||t==r||t==l}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,s){var n=s(11)(s(1),"Map");e.exports=n},function(e,t,s){var n=s(1).Symbol;e.exports=n},function(e,t){e.exports=function(e,t,s){switch(s.length){case 0:return e.call(t);case 1:return e.call(t,s[0]);case 2:return e.call(t,s[0],s[1]);case 3:return e.call(t,s[0],s[1],s[2])}return e.apply(t,s)}},function(e,t,s){var n=s(10),i=s(8);e.exports=function(e,t,s){(void 0===s||i(e[t],s))&&(void 0!==s||t in e)||n(e,t,s)}},function(e,t,s){var n=s(41),i=s(18),r=s(46),a=s(51),o=s(0),l=s(32);e.exports=function e(t,s,d,c,u){t!==s&&r(s,(function(r,l){if(o(r))u||(u=new n),a(t,s,l,d,e,c,u);else{var h=c?c(t[l],r,l+"",t,s,u):void 0;void 0===h&&(h=r),i(t,l,h)}}),l)}},function(e,t,s){var n=s(26),i=s(89),r=s(90);e.exports=function(e,t){return r(i(e,t,n),e+"")}},function(e,t,s){var n=s(11),i=function(){try{var e=n(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=i},function(e,t,s){(function(t){var s="object"==typeof t&&t&&t.Object===Object&&t;e.exports=s}).call(t,s(107))},function(e,t,s){var n=s(88)(Object.getPrototypeOf,Object);e.exports=n},function(e,t){var s=9007199254740991,n=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){return!!(t=null==t?s:t)&&("number"==typeof e||n.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t){var s=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||s)}},function(e,t){e.exports=function(e){return e}},function(e,t,s){var n=s(47),i=s(2),r=Object.prototype,a=r.hasOwnProperty,o=r.propertyIsEnumerable,l=n(function(){return arguments}())?n:function(e){return i(e)&&a.call(e,"callee")&&!o.call(e,"callee")};e.exports=l},function(e,t){var s=Array.isArray;e.exports=s},function(e,t,s){(function(e){var n=s(1),i=s(102),r="object"==typeof t&&t&&!t.nodeType&&t,a=r&&"object"==typeof e&&e&&!e.nodeType&&e,o=a&&a.exports===r?n.Buffer:void 0,l=(o?o.isBuffer:void 0)||i;e.exports=l}).call(t,s(14)(e))},function(e,t){var s=9007199254740991;e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=s}},function(e,t,s){var n=s(49),i=s(54),r=s(86),a=r&&r.isTypedArray,o=a?i(a):n;e.exports=o},function(e,t,s){var n=s(43),i=s(50),r=s(12);e.exports=function(e){return r(e)?n(e,!0):i(e)}},function(e,t,s){"use strict";t.a={modules:["DisplaySize","Toolbar","Resize"],overlayStyles:{position:"absolute",boxSizing:"border-box",border:"1px dashed #444"},handleStyles:{position:"absolute",height:"12px",width:"12px",backgroundColor:"white",border:"1px solid #777",boxSizing:"border-box",opacity:"0.80"},displayStyles:{position:"absolute",font:"12px/1.0 Arial, Helvetica, sans-serif",padding:"4px 8px",textAlign:"center",backgroundColor:"white",color:"#333",border:"1px solid #777",boxSizing:"border-box",opacity:"0.80",cursor:"default"},toolbarStyles:{position:"absolute",top:"-12px",right:"0",left:"0",height:"0",minWidth:"100px",font:"12px/1.0 Arial, Helvetica, sans-serif",textAlign:"center",color:"#333",boxSizing:"border-box",cursor:"default"},toolbarButtonStyles:{display:"inline-block",width:"24px",height:"24px",background:"white",border:"1px solid #999",verticalAlign:"middle"},toolbarButtonSvgStyles:{fill:"#444",stroke:"#444",strokeWidth:"2"}}},function(e,t,s){"use strict";function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var i=s(9);s.d(t,"a",(function(){return r}));var r=function(e){function t(){var e,s,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,a=Array(r),o=0;o<r;o++)a[o]=arguments[o];return s=i=n(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),i.onCreate=function(){i.display=document.createElement("div"),Object.assign(i.display.style,i.options.displayStyles),i.overlay.appendChild(i.display)},i.onDestroy=function(){},i.onUpdate=function(){if(i.display&&i.img){var e=i.getCurrentSize();if(i.display.innerHTML=e.join(" &times; "),e[0]>120&&e[1]>30)Object.assign(i.display.style,{right:"4px",bottom:"4px",left:"auto"});else if("right"==i.img.style.float){var t=i.display.getBoundingClientRect();Object.assign(i.display.style,{right:"auto",bottom:"-"+(t.height+4)+"px",left:"-"+(t.width+4)+"px"})}else{var s=i.display.getBoundingClientRect();Object.assign(i.display.style,{right:"-"+(s.width+4)+"px",bottom:"-"+(s.height+4)+"px",left:"auto"})}}},i.getCurrentSize=function(){return[i.img.width,Math.round(i.img.width/i.img.naturalWidth*i.img.naturalHeight)]},n(i,s)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(i.a)},function(e,t,s){"use strict";function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var i=s(9);s.d(t,"a",(function(){return r}));var r=function(e){function t(){var e,s,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,a=Array(r),o=0;o<r;o++)a[o]=arguments[o];return s=i=n(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),i.onCreate=function(){i.boxes=[],i.addBox("nwse-resize"),i.addBox("nesw-resize"),i.addBox("nwse-resize"),i.addBox("nesw-resize"),i.positionBoxes()},i.onDestroy=function(){i.setCursor("")},i.positionBoxes=function(){var e=-parseFloat(i.options.handleStyles.width)/2+"px",t=-parseFloat(i.options.handleStyles.height)/2+"px";[{left:e,top:t},{right:e,top:t},{right:e,bottom:t},{left:e,bottom:t}].forEach((function(e,t){Object.assign(i.boxes[t].style,e)}))},i.addBox=function(e){var t=document.createElement("div");Object.assign(t.style,i.options.handleStyles),t.style.cursor=e,t.style.width=i.options.handleStyles.width+"px",t.style.height=i.options.handleStyles.height+"px",t.addEventListener("mousedown",i.handleMousedown,!1),i.overlay.appendChild(t),i.boxes.push(t)},i.handleMousedown=function(e){i.dragBox=e.target,i.dragStartX=e.clientX,i.preDragWidth=i.img.width||i.img.naturalWidth,i.setCursor(i.dragBox.style.cursor),document.addEventListener("mousemove",i.handleDrag,!1),document.addEventListener("mouseup",i.handleMouseup,!1)},i.handleMouseup=function(){i.setCursor(""),document.removeEventListener("mousemove",i.handleDrag),document.removeEventListener("mouseup",i.handleMouseup)},i.handleDrag=function(e){if(i.img){var t=e.clientX-i.dragStartX;i.dragBox===i.boxes[0]||i.dragBox===i.boxes[3]?i.img.width=Math.round(i.preDragWidth-t):i.img.width=Math.round(i.preDragWidth+t),i.requestUpdate()}},i.setCursor=function(e){[document.body,i.img].forEach((function(t){t.style.cursor=e}))},n(i,s)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(i.a)},function(e,t,s){"use strict";function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var i=s(105),r=s.n(i),a=s(104),o=s.n(a),l=s(106),d=s.n(l),c=s(9);s.d(t,"a",(function(){return f}));var u=window.Quill.imports.parchment,h=new u.Attributor.Style("float","float"),p=new u.Attributor.Style("margin","margin"),m=new u.Attributor.Style("display","display"),f=function(e){function t(){var e,s,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,l=Array(a),c=0;c<a;c++)l[c]=arguments[c];return s=i=n(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),i.onCreate=function(){i.toolbar=document.createElement("div"),Object.assign(i.toolbar.style,i.options.toolbarStyles),i.overlay.appendChild(i.toolbar),i._defineAlignments(),i._addToolbarButtons()},i.onDestroy=function(){},i.onUpdate=function(){},i._defineAlignments=function(){i.alignments=[{icon:r.a,apply:function(){m.add(i.img,"inline"),h.add(i.img,"left"),p.add(i.img,"0 1em 1em 0")},isApplied:function(){return"left"==h.value(i.img)}},{icon:o.a,apply:function(){m.add(i.img,"block"),h.remove(i.img),p.add(i.img,"auto")},isApplied:function(){return"auto"==p.value(i.img)}},{icon:d.a,apply:function(){m.add(i.img,"inline"),h.add(i.img,"right"),p.add(i.img,"0 0 1em 1em")},isApplied:function(){return"right"==h.value(i.img)}}]},i._addToolbarButtons=function(){var e=[];i.alignments.forEach((function(t,s){var n=document.createElement("span");e.push(n),n.innerHTML=t.icon,n.addEventListener("click",(function(){e.forEach((function(e){return e.style.filter=""})),t.isApplied()?(h.remove(i.img),p.remove(i.img),m.remove(i.img)):(i._selectButton(n),t.apply()),i.requestUpdate()})),Object.assign(n.style,i.options.toolbarButtonStyles),s>0&&(n.style.borderLeftWidth="0"),Object.assign(n.children[0].style,i.options.toolbarButtonSvgStyles),t.isApplied()&&i._selectButton(n),i.toolbar.appendChild(n)}))},i._selectButton=function(e){e.style.filter="invert(20%)"},n(i,s)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(c.a)},function(e,t,s){var n=s(17),i=s(20),r=s(63),a=s(101),o=i((function(e){return e.push(void 0,r),n(a,void 0,e)}));e.exports=o},function(e,t,s){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=s(37),r=s.n(i),a=s(33),o=s(34),l=s(36),d=s(35),c={DisplaySize:o.a,Toolbar:l.a,Resize:d.a},u=function e(t){var s=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n(this,e),this.initializeModules=function(){s.removeModules(),s.modules=s.moduleClasses.map((function(e){return new(c[e]||e)(s)})),s.modules.forEach((function(e){e.onCreate()})),s.onUpdate()},this.onUpdate=function(){s.repositionElements(),s.modules.forEach((function(e){e.onUpdate()}))},this.removeModules=function(){s.modules.forEach((function(e){e.onDestroy()})),s.modules=[]},this.handleClick=function(e){if(e.target&&e.target.tagName&&"IMG"===e.target.tagName.toUpperCase()){if(s.img===e.target)return;s.img&&s.hide(),s.show(e.target)}else s.img&&s.hide()},this.show=function(e){s.img=e,s.showOverlay(),s.initializeModules()},this.showOverlay=function(){s.overlay&&s.hideOverlay(),s.quill.setSelection(null),s.setUserSelect("none"),document.addEventListener("keyup",s.checkImage,!0),s.quill.root.addEventListener("input",s.checkImage,!0),s.overlay=document.createElement("div"),Object.assign(s.overlay.style,s.options.overlayStyles),s.quill.root.parentNode.appendChild(s.overlay),s.repositionElements()},this.hideOverlay=function(){s.overlay&&(s.quill.root.parentNode.removeChild(s.overlay),s.overlay=void 0,document.removeEventListener("keyup",s.checkImage),s.quill.root.removeEventListener("input",s.checkImage),s.setUserSelect(""))},this.repositionElements=function(){if(s.overlay&&s.img){var e=s.quill.root.parentNode,t=s.img.getBoundingClientRect(),n=e.getBoundingClientRect();Object.assign(s.overlay.style,{left:t.left-n.left-1+e.scrollLeft+"px",top:t.top-n.top+e.scrollTop+"px",width:t.width+"px",height:t.height+"px"})}},this.hide=function(){s.hideOverlay(),s.removeModules(),s.img=void 0},this.setUserSelect=function(e){["userSelect","mozUserSelect","webkitUserSelect","msUserSelect"].forEach((function(t){s.quill.root.style[t]=e,document.documentElement.style[t]=e}))},this.checkImage=function(e){s.img&&(46!=e.keyCode&&8!=e.keyCode||window.Quill.find(s.img).deleteAt(0),s.hide())},this.quill=t;var o=!1;i.modules&&(o=i.modules.slice()),this.options=r()({},i,a.a),!1!==o&&(this.options.modules=o),document.execCommand("enableObjectResizing",!1,"false"),this.quill.root.addEventListener("click",this.handleClick,!1),this.quill.root.parentNode.style.position=this.quill.root.parentNode.style.position||"relative",this.moduleClasses=this.options.modules,console.log("this.options.modules",this.options.modules),this.modules=[]};t.default=u,window.Quill&&window.Quill.register("modules/imageResize",u)},function(e,t,s){function n(e){var t=-1,s=null==e?0:e.length;for(this.clear();++t<s;){var n=e[t];this.set(n[0],n[1])}}var i=s(66),r=s(67),a=s(68),o=s(69),l=s(70);n.prototype.clear=i,n.prototype.delete=r,n.prototype.get=a,n.prototype.has=o,n.prototype.set=l,e.exports=n},function(e,t,s){function n(e){var t=-1,s=null==e?0:e.length;for(this.clear();++t<s;){var n=e[t];this.set(n[0],n[1])}}var i=s(80),r=s(81),a=s(82),o=s(83),l=s(84);n.prototype.clear=i,n.prototype.delete=r,n.prototype.get=a,n.prototype.has=o,n.prototype.set=l,e.exports=n},function(e,t,s){function n(e){var t=this.__data__=new i(e);this.size=t.size}var i=s(3),r=s(92),a=s(93),o=s(94),l=s(95),d=s(96);n.prototype.clear=r,n.prototype.delete=a,n.prototype.get=o,n.prototype.has=l,n.prototype.set=d,e.exports=n},function(e,t,s){var n=s(1).Uint8Array;e.exports=n},function(e,t,s){var n=s(53),i=s(27),r=s(28),a=s(29),o=s(24),l=s(31),d=Object.prototype.hasOwnProperty;e.exports=function(e,t){var s=r(e),c=!s&&i(e),u=!s&&!c&&a(e),h=!s&&!c&&!u&&l(e),p=s||c||u||h,m=p?n(e.length,String):[],f=m.length;for(var v in e)!t&&!d.call(e,v)||p&&("length"==v||u&&("offset"==v||"parent"==v)||h&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||o(v,f))||m.push(v);return m}},function(e,t,s){var n=s(10),i=s(8),r=Object.prototype.hasOwnProperty;e.exports=function(e,t,s){var a=e[t];r.call(e,t)&&i(a,s)&&(void 0!==s||t in e)||n(e,t,s)}},function(e,t,s){var n=s(0),i=Object.create,r=function(){function e(){}return function(t){if(!n(t))return{};if(i)return i(t);e.prototype=t;var s=new e;return e.prototype=void 0,s}}();e.exports=r},function(e,t,s){var n=s(62)();e.exports=n},function(e,t,s){var n=s(5),i=s(2),r="[object Arguments]";e.exports=function(e){return i(e)&&n(e)==r}},function(e,t,s){var n=s(13),i=s(74),r=s(0),a=s(97),o=/^\[object .+?Constructor\]$/,l=Function.prototype,d=Object.prototype,c=l.toString,u=d.hasOwnProperty,h=RegExp("^"+c.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!r(e)||i(e))&&(n(e)?h:o).test(a(e))}},function(e,t,s){var n=s(5),i=s(30),r=s(2),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return r(e)&&i(e.length)&&!!a[n(e)]}},function(e,t,s){var n=s(0),i=s(25),r=s(85),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return r(e);var t=i(e),s=[];for(var o in e)("constructor"!=o||!t&&a.call(e,o))&&s.push(o);return s}},function(e,t,s){var n=s(18),i=s(56),r=s(57),a=s(58),o=s(71),l=s(27),d=s(28),c=s(99),u=s(29),h=s(13),p=s(0),m=s(100),f=s(31),v=s(103);e.exports=function(e,t,s,_,y,g,b){var M=e[s],w=t[s],L=b.get(w);if(L)n(e,s,L);else{var x=g?g(M,w,s+"",e,t,b):void 0,T=void 0===x;if(T){var E=d(w),k=!E&&u(w),D=!E&&!k&&f(w);x=w,E||k||D?d(M)?x=M:c(M)?x=a(M):k?(T=!1,x=i(w,!0)):D?(T=!1,x=r(w,!0)):x=[]:m(w)||l(w)?(x=M,l(M)?x=v(M):(!p(M)||_&&h(M))&&(x=o(w))):T=!1}T&&(b.set(w,x),y(x,w,_,g,b),b.delete(w)),n(e,s,x)}}},function(e,t,s){var n=s(98),i=s(21),r=s(26),a=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:n(t),writable:!0})}:r;e.exports=a},function(e,t){e.exports=function(e,t){for(var s=-1,n=Array(e);++s<e;)n[s]=t(s);return n}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,s){var n=s(42);e.exports=function(e){var t=new e.constructor(e.byteLength);return new n(t).set(new n(e)),t}},function(e,t,s){(function(e){var n=s(1),i="object"==typeof t&&t&&!t.nodeType&&t,r=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=r&&r.exports===i?n.Buffer:void 0,o=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var s=e.length,n=o?o(s):new e.constructor(s);return e.copy(n),n}}).call(t,s(14)(e))},function(e,t,s){var n=s(55);e.exports=function(e,t){var s=t?n(e.buffer):e.buffer;return new e.constructor(s,e.byteOffset,e.length)}},function(e,t){e.exports=function(e,t){var s=-1,n=e.length;for(t||(t=Array(n));++s<n;)t[s]=e[s];return t}},function(e,t,s){var n=s(44),i=s(10);e.exports=function(e,t,s,r){var a=!s;s||(s={});for(var o=-1,l=t.length;++o<l;){var d=t[o],c=r?r(s[d],e[d],d,s,e):void 0;void 0===c&&(c=e[d]),a?i(s,d,c):n(s,d,c)}return s}},function(e,t,s){var n=s(1)["__core-js_shared__"];e.exports=n},function(e,t,s){var n=s(20),i=s(72);e.exports=function(e){return n((function(t,s){var n=-1,r=s.length,a=r>1?s[r-1]:void 0,o=r>2?s[2]:void 0;for(a=e.length>3&&"function"==typeof a?(r--,a):void 0,o&&i(s[0],s[1],o)&&(a=r<3?void 0:a,r=1),t=Object(t);++n<r;){var l=s[n];l&&e(t,l,n,a)}return t}))}},function(e,t){e.exports=function(e){return function(t,s,n){for(var i=-1,r=Object(t),a=n(t),o=a.length;o--;){var l=a[e?o:++i];if(!1===s(r[l],l,r))break}return t}}},function(e,t,s){var n=s(19),i=s(0);e.exports=function e(t,s,r,a,o,l){return i(t)&&i(s)&&(l.set(s,t),n(t,s,void 0,e,l),l.delete(s)),t}},function(e,t,s){var n=s(16),i=Object.prototype,r=i.hasOwnProperty,a=i.toString,o=n?n.toStringTag:void 0;e.exports=function(e){var t=r.call(e,o),s=e[o];try{e[o]=void 0}catch(e){}var n=a.call(e);return t?e[o]=s:delete e[o],n}},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,s){var n=s(7);e.exports=function(){this.__data__=n?n(null):{},this.size=0}},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,s){var n=s(7),i="__lodash_hash_undefined__",r=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(n){var s=t[e];return s===i?void 0:s}return r.call(t,e)?t[e]:void 0}},function(e,t,s){var n=s(7),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return n?void 0!==t[e]:i.call(t,e)}},function(e,t,s){var n=s(7),i="__lodash_hash_undefined__";e.exports=function(e,t){var s=this.__data__;return this.size+=this.has(e)?0:1,s[e]=n&&void 0===t?i:t,this}},function(e,t,s){var n=s(45),i=s(23),r=s(25);e.exports=function(e){return"function"!=typeof e.constructor||r(e)?{}:n(i(e))}},function(e,t,s){var n=s(8),i=s(12),r=s(24),a=s(0);e.exports=function(e,t,s){if(!a(s))return!1;var o=typeof t;return!!("number"==o?i(s)&&r(t,s.length):"string"==o&&t in s)&&n(s[t],e)}},function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,s){var n=s(60),i=function(){var e=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!i&&i in e}},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,s){var n=s(4),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,s=n(t,e);return!(s<0||(s==t.length-1?t.pop():i.call(t,s,1),--this.size,0))}},function(e,t,s){var n=s(4);e.exports=function(e){var t=this.__data__,s=n(t,e);return s<0?void 0:t[s][1]}},function(e,t,s){var n=s(4);e.exports=function(e){return n(this.__data__,e)>-1}},function(e,t,s){var n=s(4);e.exports=function(e,t){var s=this.__data__,i=n(s,e);return i<0?(++this.size,s.push([e,t])):s[i][1]=t,this}},function(e,t,s){var n=s(39),i=s(3),r=s(15);e.exports=function(){this.size=0,this.__data__={hash:new n,map:new(r||i),string:new n}}},function(e,t,s){var n=s(6);e.exports=function(e){var t=n(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t,s){var n=s(6);e.exports=function(e){return n(this,e).get(e)}},function(e,t,s){var n=s(6);e.exports=function(e){return n(this,e).has(e)}},function(e,t,s){var n=s(6);e.exports=function(e,t){var s=n(this,e),i=s.size;return s.set(e,t),this.size+=s.size==i?0:1,this}},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var s in Object(e))t.push(s);return t}},function(e,t,s){(function(e){var n=s(22),i="object"==typeof t&&t&&!t.nodeType&&t,r=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=r&&r.exports===i&&n.process,o=function(){try{return a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=o}).call(t,s(14)(e))},function(e,t){var s=Object.prototype.toString;e.exports=function(e){return s.call(e)}},function(e,t){e.exports=function(e,t){return function(s){return e(t(s))}}},function(e,t,s){var n=s(17),i=Math.max;e.exports=function(e,t,s){return t=i(void 0===t?e.length-1:t,0),function(){for(var r=arguments,a=-1,o=i(r.length-t,0),l=Array(o);++a<o;)l[a]=r[t+a];a=-1;for(var d=Array(t+1);++a<t;)d[a]=r[a];return d[t]=s(l),n(e,this,d)}}},function(e,t,s){var n=s(52),i=s(91)(n);e.exports=i},function(e,t){var s=800,n=16,i=Date.now;e.exports=function(e){var t=0,r=0;return function(){var a=i(),o=n-(a-r);if(r=a,o>0){if(++t>=s)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},function(e,t,s){var n=s(3);e.exports=function(){this.__data__=new n,this.size=0}},function(e,t){e.exports=function(e){var t=this.__data__,s=t.delete(e);return this.size=t.size,s}},function(e,t){e.exports=function(e){return this.__data__.get(e)}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t,s){var n=s(3),i=s(15),r=s(40),a=200;e.exports=function(e,t){var s=this.__data__;if(s instanceof n){var o=s.__data__;if(!i||o.length<a-1)return o.push([e,t]),this.size=++s.size,this;s=this.__data__=new r(o)}return s.set(e,t),this.size=s.size,this}},function(e,t){var s=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return s.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t){e.exports=function(e){return function(){return e}}},function(e,t,s){var n=s(12),i=s(2);e.exports=function(e){return i(e)&&n(e)}},function(e,t,s){var n=s(5),i=s(23),r=s(2),a="[object Object]",o=Function.prototype,l=Object.prototype,d=o.toString,c=l.hasOwnProperty,u=d.call(Object);e.exports=function(e){if(!r(e)||n(e)!=a)return!1;var t=i(e);if(null===t)return!0;var s=c.call(t,"constructor")&&t.constructor;return"function"==typeof s&&s instanceof s&&d.call(s)==u}},function(e,t,s){var n=s(19),i=s(61)((function(e,t,s,i){n(e,t,s,i)}));e.exports=i},function(e,t){e.exports=function(){return!1}},function(e,t,s){var n=s(59),i=s(32);e.exports=function(e){return n(e,i(e))}},function(e,t){e.exports='<svg viewbox="0 0 18 18">\n  <line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"></line>\n  <line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"></line>\n  <line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"></line>\n</svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18">\n  <line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"></line>\n  <line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"></line>\n  <line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"></line>\n</svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18">\n  <line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"></line>\n  <line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"></line>\n  <line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"></line>\n</svg>'},function(e,t){var s;s=function(){return this}();try{s=s||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(s=window)}e.exports=s}])},function(e,t,s){"use strict";var n,i=this&&this.__decorate||function(e,t,s,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r<3?i(a):r>3?i(t,s,a):i(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};Object.defineProperty(t,"__esModule",{value:!0});const r=s(72),a=s(86),o=s(116),l=s(114),d=s(22);let c=n=class extends d.default{constructor(){super(...arguments),this.stateTable=null,this.subscriber=null,this.tours=null}get toursTask(){return this.system.getMainComponent(l.default,!0)}firstConnected(){super.firstConnected(),this.classList.add("sv-panel","sv-tour-panel"),this.stateTable=new o.default,this.stateTable.columns=n.tableColumns,this.stateTable.placeholder="Start by creating a tour step.",this.stateTable.addEventListener("rowclick",this.onClickTableRow.bind(this)),this.subscriber=new r.default("value",this.onUpdate,this)}connected(){super.connected(),this.system.components.on(l.default,this.onToursTask,this);const e=this.toursTask;e&&e.outs.isActive.on("value",this.onUpdate,this)}disconnected(){const e=this.toursTask;e&&e.outs.isActive.off("value",this.onUpdate,this),this.system.components.off(l.default,this.onToursTask,this),super.disconnected()}render(){const e=this.toursTask,t=this.tours,s=t.snapshots;if(!e||!t.ins.enabled.value)return d.html`<div class="ff-placeholder">Tour edit task not available.</div>`;if(!t.activeTour)return d.html`<div class="ff-placeholder">Please create or select a tour to edit.</div>`;const n=t.activeStep,i=n?d.html`<div class="ff-scroll-y ff-flex-column sv-detail-view">
            <sv-property-view .property=${e.ins.stepTitle}></sv-property-view>
            <sv-property-view .property=${e.ins.stepCurve}></sv-property-view>
            <sv-property-view .property=${e.ins.stepDuration} commitonly></sv-property-view>
            <sv-property-view .property=${e.ins.stepThreshold} commitonly></sv-property-view>
        </div>`:d.html`<div class="ff-placeholder"><div>Create or select a tour step to edit.</div></div>`;return this.stateTable.rows=t.activeSteps.map(e=>{const t=s.getState(e.id);return{title:e.title,curve:a.EEasingCurve[t.curve],duration:t.duration.toFixed(1)+"s",threshold:(100*t.threshold).toFixed(0)+"%"}}),this.stateTable.selectedRows=this.stateTable.rows[t.outs.stepIndex.value],d.html`<div class="sv-panel-header">
            <ff-button text="Update" icon="camera" @click=${this.onClickUpdate}></ff-button>
            <ff-button text="Create" icon="create" @click=${this.onClickCreate}></ff-button>
            <ff-button text="Up" icon="up" ?disabled=${!n} @click=${this.onClickUp}></ff-button>
            <ff-button text="Down" icon="down" ?disabled=${!n} @click=${this.onClickDown}></ff-button>
            <ff-button text="Delete" icon="trash" ?disabled=${!n} @click=${this.onClickDelete}></ff-button>
        </div>
        <div class="ff-flex-item-stretch ff-flex-row">
            <div class="ff-splitter-section" style="flex-basis: 60%">
                <div class="ff-scroll-y ff-flex-column">${this.stateTable}</div>
            </div>
            <ff-splitter></ff-splitter>
            <div class="ff-splitter-section" style="flex-basis: 40%">
                ${i}
            </div>
        </div>`}onClickTableRow(e){this.tours.ins.stepIndex.setValue(e.detail.index)}onClickUpdate(){this.toursTask.ins.updateStep.set()}onClickCreate(){this.toursTask.ins.createStep.set()}onClickDelete(){this.toursTask.ins.deleteStep.set()}onClickUp(){this.toursTask.ins.moveStepUp.set()}onClickDown(){this.toursTask.ins.moveStepDown.set()}onActiveDocument(e,t){e&&this.subscriber.off(),t&&(this.tours=t.setup.tours,this.subscriber.on(this.tours.ins.enabled,this.tours.ins.tourIndex,this.tours.outs.stepIndex)),this.requestUpdate()}onToursTask(e){e.add&&e.object.outs.isActive.on("value",this.onUpdate,this),e.remove&&e.object.outs.isActive.off("value",this.onUpdate,this),this.requestUpdate()}};c.tableColumns=[{header:"#",width:.05,cell:(e,t)=>t.toString()},{header:"Title",width:.4,cell:"title"},{header:"Curve",width:.25,cell:"curve"},{header:"Duration",width:.15,cell:"duration"},{header:"Threshold",width:.15,cell:"threshold"}],c=n=i([d.customElement("sv-tour-panel")],c),t.default=c},function(e,t,s){"use strict";var n=this&&this.__decorate||function(e,t,s,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r<3?i(a):r>3?i(t,s,a):i(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};Object.defineProperty(t,"__esModule",{value:!0});const i=s(15),r=s(23);let a=class extends i.default{constructor(e){if(super(e),this.taskProvider=null,this.taskProvider=e.getMainComponent(r.default),!this.taskProvider)throw new Error("missing task provider")}firstConnected(){this.classList.add("sv-scrollable","sv-panel","sv-task-panel")}connected(){super.connected(),this.taskProvider.on("active-component",this.onUpdate,this)}disconnected(){this.taskProvider.off("active-component",this.onUpdate,this),super.disconnected()}render(){const e=this.taskProvider.activeComponent;if(!e)return i.html``;const t=e.createView();return i.html`
            <div class="sv-panel-header">
                <ff-icon name=${e.icon}></ff-icon>
                <div class="ff-text">${e.text}</div>
            </div>
            <div class="sv-panel-content">
                ${t}
            </div>
        `}};a=n([i.customElement("sv-task-panel")],a),t.default=a},function(e,t,s){"use strict";var n,i=this&&this.__decorate||function(e,t,s,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r<3?i(a):r>3?i(t,s,a):i(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};Object.defineProperty(t,"__esModule",{value:!0});const r=s(0);s(116);const a=s(116);s(33),s(5),s(54),s(104);const o=s(102),l=s(30);let d=n=class extends o.default{constructor(e){super(e),this.notes=null,this.activeNote=null,this.noteTable=new a.default,this.noteTable.columns=n.tableColumns,this.noteTable.placeholder="No notes available.",this.noteTable.addEventListener("rowclick",this.onClickTableRow.bind(this))}firstConnected(){this.classList.add("sv-scrollable","sv-panel","sv-notes-panel")}renderNote(e){if(!e)return o.html`<div class="ff-placeholder">
                <div>Select or create a note to edit it.</div>
            </div>`;const t=r(e.date).format("YYYY-MM-DD HH:mm:ss");return o.html`<div class="ff-scroll-y ff-flex-column sv-detail-view">
            <div class="sv-note-field">Created on ${t}</div>
            <ff-line-edit text=${e.user} placeholder="User" @change=${this.onEditUser}></ff-line-edit>
            <ff-text-edit text=${e.text} placeholder="Comment" @change=${this.onEditText}></ff-text-edit>
            </div>
        </div>`}render(){const e=this.activeNode;if(!e||!e.scene&&!e.model)return o.html`<div class="ff-placeholder">
                <div>Please select a scene or model to display its notes.</div>
            </div>`;this.getNotes();const t=this.activeNote,s=this.noteTable;return s.rows=this.notes||[],s.selectedRows=t,s.requestUpdate(),o.html`<div class="sv-panel-header">
            <ff-button text="Add Note" icon="create" @click=${this.onClickCreate}></ff-button>
            <ff-button text="Delete Note" icon="trash" ?disabled=${!t} @click=${this.onClickDelete}></ff-button>
        </div>
        <div class="ff-flex-item-stretch ff-flex-row">
            <div class="ff-splitter-section" style="flex-basis: 60%">
                <div class="ff-scroll-y ff-flex-column">${s}</div>
            </div>
            <ff-splitter></ff-splitter>
            <div class="ff-splitter-section" style="flex-basis: 40%">
                ${this.renderNote(t)}
            </div>
        </div>`}onEditUser(e){this.activeNote.user=e.detail.text,this.requestUpdate()}onEditText(e){this.activeNote.text=e.detail.text,this.requestUpdate()}onClickTableRow(e){this.activeNote=e.detail.row,this.requestUpdate(),setTimeout(()=>this.getElementsByTagName("ff-text-edit").item(0).focus(),0)}onClickCreate(){this.getOrCreateNotes();const e={date:(new Date).toISOString(),user:"",text:""};this.notes.push(e),this.activeNote=e,this.requestUpdate(),setTimeout(()=>this.getElementsByTagName("ff-line-edit").item(0).focus(),0)}onClickDelete(){const e=this.notes.indexOf(this.activeNote);e>=0&&this.notes.splice(e,1),this.activeNote=this.notes[e]||null,this.requestUpdate()}onActiveNode(e,t){this.notes=null,this.activeNote=null,this.requestUpdate()}getNotes(){const e=this.activeNode;if(!e)return;const t=e.meta&&e.meta.process;t&&(this.notes=t.get("notes"),this.notes&&!this.activeNote&&(this.activeNote=this.notes[0]))}getOrCreateNotes(){this.notes=null,this.activeNote=null;const e=this.activeNode;if(!e)return;e.meta||!e.scene&&!e.model||e.createComponent(l.default);const t=e.meta&&e.meta.process;t&&(this.notes=t.getOrCreate("notes",[]))}};d.tableColumns=[{header:"Date",width:.3,cell:e=>r(e.date).format("YYYY-MM-DD HH:mm:ss"),sortable:!0},{header:"User",width:.25,cell:"user",sortable:!0},{header:"Text",width:.45,cell:"text",sortable:!0}],d=n=i([o.customElement("sv-notes-panel")],d),t.default=d},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,s){var n={"./af":193,"./af.js":193,"./ar":194,"./ar-dz":195,"./ar-dz.js":195,"./ar-kw":196,"./ar-kw.js":196,"./ar-ly":197,"./ar-ly.js":197,"./ar-ma":198,"./ar-ma.js":198,"./ar-sa":199,"./ar-sa.js":199,"./ar-tn":200,"./ar-tn.js":200,"./ar.js":194,"./az":201,"./az.js":201,"./be":202,"./be.js":202,"./bg":203,"./bg.js":203,"./bm":204,"./bm.js":204,"./bn":205,"./bn.js":205,"./bo":206,"./bo.js":206,"./br":207,"./br.js":207,"./bs":208,"./bs.js":208,"./ca":209,"./ca.js":209,"./cs":210,"./cs.js":210,"./cv":211,"./cv.js":211,"./cy":212,"./cy.js":212,"./da":213,"./da.js":213,"./de":214,"./de-at":215,"./de-at.js":215,"./de-ch":216,"./de-ch.js":216,"./de.js":214,"./dv":217,"./dv.js":217,"./el":218,"./el.js":218,"./en-SG":219,"./en-SG.js":219,"./en-au":220,"./en-au.js":220,"./en-ca":221,"./en-ca.js":221,"./en-gb":222,"./en-gb.js":222,"./en-ie":223,"./en-ie.js":223,"./en-il":224,"./en-il.js":224,"./en-nz":225,"./en-nz.js":225,"./eo":226,"./eo.js":226,"./es":227,"./es-do":228,"./es-do.js":228,"./es-us":229,"./es-us.js":229,"./es.js":227,"./et":230,"./et.js":230,"./eu":231,"./eu.js":231,"./fa":232,"./fa.js":232,"./fi":233,"./fi.js":233,"./fo":234,"./fo.js":234,"./fr":235,"./fr-ca":236,"./fr-ca.js":236,"./fr-ch":237,"./fr-ch.js":237,"./fr.js":235,"./fy":238,"./fy.js":238,"./ga":239,"./ga.js":239,"./gd":240,"./gd.js":240,"./gl":241,"./gl.js":241,"./gom-latn":242,"./gom-latn.js":242,"./gu":243,"./gu.js":243,"./he":244,"./he.js":244,"./hi":245,"./hi.js":245,"./hr":246,"./hr.js":246,"./hu":247,"./hu.js":247,"./hy-am":248,"./hy-am.js":248,"./id":249,"./id.js":249,"./is":250,"./is.js":250,"./it":251,"./it-ch":252,"./it-ch.js":252,"./it.js":251,"./ja":253,"./ja.js":253,"./jv":254,"./jv.js":254,"./ka":255,"./ka.js":255,"./kk":256,"./kk.js":256,"./km":257,"./km.js":257,"./kn":258,"./kn.js":258,"./ko":259,"./ko.js":259,"./ku":260,"./ku.js":260,"./ky":261,"./ky.js":261,"./lb":262,"./lb.js":262,"./lo":263,"./lo.js":263,"./lt":264,"./lt.js":264,"./lv":265,"./lv.js":265,"./me":266,"./me.js":266,"./mi":267,"./mi.js":267,"./mk":268,"./mk.js":268,"./ml":269,"./ml.js":269,"./mn":270,"./mn.js":270,"./mr":271,"./mr.js":271,"./ms":272,"./ms-my":273,"./ms-my.js":273,"./ms.js":272,"./mt":274,"./mt.js":274,"./my":275,"./my.js":275,"./nb":276,"./nb.js":276,"./ne":277,"./ne.js":277,"./nl":278,"./nl-be":279,"./nl-be.js":279,"./nl.js":278,"./nn":280,"./nn.js":280,"./pa-in":281,"./pa-in.js":281,"./pl":282,"./pl.js":282,"./pt":283,"./pt-br":284,"./pt-br.js":284,"./pt.js":283,"./ro":285,"./ro.js":285,"./ru":286,"./ru.js":286,"./sd":287,"./sd.js":287,"./se":288,"./se.js":288,"./si":289,"./si.js":289,"./sk":290,"./sk.js":290,"./sl":291,"./sl.js":291,"./sq":292,"./sq.js":292,"./sr":293,"./sr-cyrl":294,"./sr-cyrl.js":294,"./sr.js":293,"./ss":295,"./ss.js":295,"./sv":296,"./sv.js":296,"./sw":297,"./sw.js":297,"./ta":298,"./ta.js":298,"./te":299,"./te.js":299,"./tet":300,"./tet.js":300,"./tg":301,"./tg.js":301,"./th":302,"./th.js":302,"./tl-ph":303,"./tl-ph.js":303,"./tlh":304,"./tlh.js":304,"./tr":305,"./tr.js":305,"./tzl":306,"./tzl.js":306,"./tzm":307,"./tzm-latn":308,"./tzm-latn.js":308,"./tzm.js":307,"./ug-cn":309,"./ug-cn.js":309,"./uk":310,"./uk.js":310,"./ur":311,"./ur.js":311,"./uz":312,"./uz-latn":313,"./uz-latn.js":313,"./uz.js":312,"./vi":314,"./vi.js":314,"./x-pseudo":315,"./x-pseudo.js":315,"./yo":316,"./yo.js":316,"./zh-cn":317,"./zh-cn.js":317,"./zh-hk":318,"./zh-hk.js":318,"./zh-tw":319,"./zh-tw.js":319};function i(e){var t=r(e);return s(t)}function r(e){if(!s.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=r,e.exports=i,i.id=506},function(e,t,s){"use strict";var n=this&&this.__decorate||function(e,t,s,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r<3?i(a):r>3?i(t,s,a):i(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};Object.defineProperty(t,"__esModule",{value:!0});const i=s(15);let r=class extends i.default{constructor(){super(...arguments),this.entries=[],this.logFunction=null}firstConnected(){this.classList.add("sv-scrollable","sv-panel","sv-console-panel")}connected(){}disconnected(){}render(){return i.html`<div>${this.entries.map(e=>i.html`<div>${e}</div>`)}</div>`}};r=n([i.customElement("sv-console-panel")],r),t.default=r},function(e,t,s){"use strict";var n=this&&this.__decorate||function(e,t,s,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r<3?i(a):r>3?i(t,s,a):i(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};Object.defineProperty(t,"__esModule",{value:!0});const i=s(509),r=s(15);let a=class extends r.default{firstConnected(){this.classList.add("ff-scroll-y","sv-panel","sv-inspector-panel"),this.appendChild(new i.default(this.system))}};a=n([r.customElement("sv-inspector-panel")],a),t.default=a},function(e,t,s){"use strict";var n=this&&this.__decorate||function(e,t,s,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r<3?i(a):r>3?i(t,s,a):i(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};Object.defineProperty(t,"__esModule",{value:!0});const i=s(1),r=s(8),a=s(41),o=s(56);s(174);let l=class extends o.default{constructor(e){super(),this.selection=null,this.includeRoot=!0,this.system=e,this.selection=e.getComponent(a.default,!0)}firstConnected(){super.firstConnected(),this.classList.add("ff-property-tree")}connected(){super.connected();const e=this.selection;e.selectedNodes.on(r.default,this.onSelectNode,this),e.selectedComponents.on(i.default,this.onSelectComponent,this);const t=e.getSelectedNode();if(t)this.root=this.createNodeTreeNode(t);else{const t=e.getSelectedComponent();this.root=t?this.createComponentTreeNode(t):null}}disconnected(){super.disconnected(),this.selection.selectedNodes.off(r.default,this.onSelectNode,this),this.selection.selectedComponents.off(i.default,this.onSelectComponent,this)}getClasses(e){return e.classes}renderNodeHeader(e){return e.property?o.html`<div class="ff-text ff-property-label ff-ellipsis">${e.text}</div>
                <ff-property-view .property=${e.property}></ff-property-view>`:o.html`<div class="ff-text ff-label ff-ellipsis">${e.text}</div>`}onSelectNode(e){e.add?this.root=this.createNodeTreeNode(e.object):this.root=null}onSelectComponent(e){e.add?this.root=this.createComponentTreeNode(e.object):this.root=null}createNodeTreeNode(e){return{id:e.id,text:e.displayName,classes:"ff-node",children:e.components.getArray().map(e=>this.createComponentTreeNode(e))}}createComponentTreeNode(e){const t=e.id,s=t+"i",n=t+"o";return{id:t,text:e.displayName,classes:"ff-component",property:null,children:[this.createGroupNode(s,"Inputs",e.ins),this.createGroupNode(n,"Outputs",e.outs)]}}createGroupNode(e,t,s){const n=s.properties,i={id:e,text:t,classes:s.isInputGroup()?"ff-inputs":"ff-outputs",children:[]};return n.forEach(e=>{const t=e.path.split(".");let s=i;const n=t.length,r=n-1;for(let i=0;i<n;++i){const n=t[i];let a=s.children.find(e=>e.text===n);if(!a){a={id:i===r?e.key:n,text:n,classes:"",children:[],property:i===r?e:null},s.children.push(a)}s=a}}),i}};n([o.property({attribute:!1})],l.prototype,"system",void 0),l=n([o.customElement("ff-property-tree")],l),t.default=l},function(e,t,s){"use strict";var n=this&&this.__decorate||function(e,t,s,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r<3?i(a):r>3?i(t,s,a):i(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};Object.defineProperty(t,"__esModule",{value:!0});const i=s(75),r=s(28);s(192);const a=s(44),o=s(23),l=s(22);let d=class extends l.default{constructor(){super(...arguments),this.basePath=""}get mediaManager(){return this.system.getMainComponent(a.default)}get taskProvider(){return this.system.getMainComponent(o.default)}firstConnected(){this.classList.add("sv-panel","sv-asset-panel")}render(){const e=this.taskProvider.ins.mode.value;return this.basePath=e===o.ETaskMode.Expert?"":"articles",l.html`<div class="sv-panel-header">
                <ff-button icon="folder" title="Create Folder" @click=${this.onClickFolder}></ff-button>
                <ff-button icon="pen" title="Rename Item" @click=${this.onClickRename}></ff-button>
                <ff-button icon="trash" title="Delete Item" @click=${this.onClickDelete}></ff-button>
                <ff-button icon="redo" title="Refresh View" @click=${this.onClickRefresh}></ff-button>
            </div>
            <ff-asset-tree class="ff-flex-item-stretch" draggable .system=${this.system} path=${this.basePath}>
            </ff-asset-tree>`}onClickFolder(){const e=this.mediaManager.selectedAssets[0]||this.mediaManager.root;e&&e.info.folder&&i.default.show("Create Folder","Folder name:","prompt","ok-cancel","New Folder").then(t=>{if(t.ok&&t.text){const s=`folder '${t.text}' in '${e.info.path}'`;this.mediaManager.createFolder(e,t.text).then(()=>r.default.show(`Created ${s}`)).catch(e=>r.default.show(`Failed to create ${s}`,"error"))}})}onClickRename(){const e=this.mediaManager.selectedAssets;if(1===e.length){const t=e[0];i.default.show("Rename Asset","New name:","prompt","ok-cancel",t.info.name).then(e=>{if(e.ok&&e.text){const s=`asset '${t.info.path}' to '${e.text}.'`;this.mediaManager.rename(t,e.text).then(()=>r.default.show(`Renamed ${s}`)).catch(e=>r.default.show(`Failed to rename ${s}`,"error"))}})}}onClickDelete(){i.default.show("Delete Assets","Are you sure?","warning","ok-cancel").then(e=>{e.ok&&this.mediaManager.deleteSelected().then(()=>r.default.show("Deleted selected assets.")).catch(()=>r.default.show("Failed to delete selected assets.","error"))})}onClickRefresh(){this.mediaManager.refresh()}};d=n([l.customElement("sv-asset-panel")],d),t.default=d},function(e,t,s){}]);